(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,808341,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={cancelIdleCallback:function(){return o},requestIdleCallback:function(){return i}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let i="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},o="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},479520,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return b},handleClientScriptLoad:function(){return m},initScriptLoader:function(){return v}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let i=e.r(555682),o=e.r(190809),s=e.r(843476),l=i._(e.r(174080)),c=o._(e.r(271645)),d=e.r(742732),u=e.r(922737),p=e.r(808341),_=new Map,f=new Set,g=e=>{let{src:t,id:r,onLoad:a=()=>{},onReady:n=null,dangerouslySetInnerHTML:i,children:o="",strategy:s="afterInteractive",onError:c,stylesheets:d}=e,p=r||t;if(p&&f.has(p))return;if(_.has(t)){f.add(p),_.get(t).then(a,c);return}let g=()=>{n&&n(),f.add(p)},m=document.createElement("script"),v=new Promise((e,t)=>{m.addEventListener("load",function(t){e(),a&&a.call(this,t),g()}),m.addEventListener("error",function(e){t(e)})}).catch(function(e){c&&c(e)});i?(m.innerHTML=i.__html||"",g()):o?(m.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",g()):t&&(m.src=t,_.set(t,v)),(0,u.setAttributesFromProps)(m,e),"worker"===s&&m.setAttribute("type","text/partytown"),m.setAttribute("data-nscript",s),d&&(e=>{if(l.default.preinit)return e.forEach(e=>{l.default.preinit(e,{as:"style"})});if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}})(d),document.body.appendChild(m)};function m(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,p.requestIdleCallback)(()=>g(e))}):g(e)}function v(e){e.forEach(m),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");f.add(t)})}function y(e){let{id:t,src:r="",onLoad:a=()=>{},onReady:n=null,strategy:i="afterInteractive",onError:o,stylesheets:u,..._}=e,{updateScripts:m,scripts:v,getIsSsr:y,appDir:b,nonce:h}=(0,c.useContext)(d.HeadManagerContext);h=_.nonce||h;let w=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let e=t||r;w.current||(n&&e&&f.has(e)&&n(),w.current=!0)},[n,t,r]);let O=(0,c.useRef)(!1);if((0,c.useEffect)(()=>{if(!O.current){if("afterInteractive"===i)g(e);else"lazyOnload"===i&&("complete"===document.readyState?(0,p.requestIdleCallback)(()=>g(e)):window.addEventListener("load",()=>{(0,p.requestIdleCallback)(()=>g(e))}));O.current=!0}},[e,i]),("beforeInteractive"===i||"worker"===i)&&(m?(v[i]=(v[i]||[]).concat([{id:t,src:r,onLoad:a,onReady:n,onError:o,..._,nonce:h}]),m(v)):y&&y()?f.add(t||r):y&&!y()&&g({...e,nonce:h})),b){if(u&&u.forEach(e=>{l.default.preinit(e,{as:"style"})}),"beforeInteractive"===i)if(!r)return _.dangerouslySetInnerHTML&&(_.children=_.dangerouslySetInnerHTML.__html,delete _.dangerouslySetInnerHTML),(0,s.jsx)("script",{nonce:h,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{..._,id:t}])})`}});else return l.default.preload(r,_.integrity?{as:"script",integrity:_.integrity,nonce:h,crossOrigin:_.crossOrigin}:{as:"script",nonce:h,crossOrigin:_.crossOrigin}),(0,s.jsx)("script",{nonce:h,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([r,{..._,id:t}])})`}});"afterInteractive"===i&&r&&l.default.preload(r,_.integrity?{as:"script",integrity:_.integrity,nonce:h,crossOrigin:_.crossOrigin}:{as:"script",nonce:h,crossOrigin:_.crossOrigin})}return null}Object.defineProperty(y,"__nextScript",{value:!0});let b=y;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},3303,(e,t,r)=>{t.exports=e.r(479520)},662159,624312,e=>{"use strict";var t="beacon",r={initialized:!1,url:null,eventQueue:[],params:{pc:null,vid:null,lo:null,pf:null,uid:null,d:null},init:(e,a,n,i,o,s,l)=>{r.url=e,r.params={pc:a,vid:n,lo:i,pf:o,uid:s,d:{sr:window.screen.width*window.devicePixelRatio+"x"+window.screen.height*window.devicePixelRatio,vps:window.innerWidth+"x"+window.innerHeight}},l&&"pixel"===l&&(t="pixel"),r.initialized=!0,fetch(`${r.url}/init`,{method:"GET",credentials:"include"}).catch(e=>console.error("Error on etracker /init/:"+e)).finally(()=>{setInterval(()=>{r.sendEvents([...r.eventQueue]),r.eventQueue=[]},750)})},updateUid:e=>{!1==r.initialized?console.error("SDK has to be initialized first"):r.params.uid=e},updateLocale:e=>{!1==r.initialized?console.error("sdk has to be initialized first"):r.params.lo=e},track:(e,i)=>{if(!1==r.initialized)return void console.error("sdk has to be initialized first");let o=new Date().getTime(),s={};Object.keys(i).forEach(e=>!a(i[e])&&(s[e]=i[e]));let l={...r.params,em:s,ev:e,ts:o};switch(t){case"beacon":r.eventQueue.push(l),r.eventQueue.length>=15&&(r.sendEvents([...r.eventQueue]),r.eventQueue=[]);break;case"pixel":{let e=`${r.url}/track/v2/?${n(l)}`,t=new Image;t.onload=t.onerror=()=>{document.body.removeChild(t)},t.style.display="none";try{t.src=e,document.body.appendChild(t)}catch(e){console.error("error publishing event to etracker: "+e)}}}},sendEvents:async e=>{if(0===e.length||"beacon"!==t)return;if(!r.url)return void console.warn("natSDK uninitialized");let a=[...e];try{let e=new Blob([JSON.stringify(a)],{type:"text/plain"});navigator.sendBeacon?navigator.sendBeacon(`${r.url}/track/v2/`,e)||(r.eventQueue.length>45?r.eventQueue=a:r.eventQueue=[...r.eventQueue,...a]):console.warn("Beacons not supported")}catch(e){(console.error("Failed to send events:",e),r.eventQueue.length>45)?r.eventQueue=a:r.eventQueue=[...r.eventQueue,...a]}}},a=e=>void 0===e||""===e||null===e||"undefined"===e,n=e=>{let t=[];for(let r in e){let a;if(!Object.prototype.hasOwnProperty.call(e,r))continue;let i=e[r],o=encodeURIComponent(r);a=Array.isArray(i)?i.map(e=>`${o}[]=${encodeURIComponent(String(e))}`).join("&"):"object"==typeof i&&null!==i?n(i):`${o}=${encodeURIComponent(String(i))}`,t.push(a)}return t.join("&")};e.s(["default",()=>r],662159);var i=e.i(755581),o=e.i(166496),s=e.i(94395);let l="icca";e.s(["default",0,{get:e=>{if(!i.IS_BROWSER)return null;let t=(0,s.readFromLocalStorage)(l);if(!t)return null;try{return JSON.parse(t)[e]??null}catch{return(0,o.reportEvent)({message:"Error reading cookie consent from local storage",logger:"CookieConsentConfig.get",extra:{region:e,iccaString:t}}),null}},set:(e,t)=>{if(i.IS_BROWSER)try{let r=(0,s.readFromLocalStorage)(l)??"{}",a={...JSON.parse(r),[e]:t};(0,s.saveToLocalStorage)(l,JSON.stringify(a))}catch{(0,o.reportEvent)({message:"Error setting cookie consent in local storage",logger:"CookieConsentConfig.set",extra:{region:e,config:t}})}}}],624312)},167577,e=>{"use strict";e.s(["default",()=>u]);var t=e.i(768834),r=e.i(755581),a=e.i(166496),n=e.i(214854),i=e.i(104043),o=e.i(958083),s=e.i(942901),l=e.i(778246),c=e.i(94395);let d=async({whoAmI:e,seoLocale:t})=>{let{apiLocale:r}=(0,i.getLocale)(t),a=(0,o.getCoordinates)({seoLocale:t,whoAmI:e});(0,n.initializeAxios)({apiLocale:r,coordinates:a,whoamiHeaders:e?.headers??{},addressKey:e?.experience?.selectedAddress?.addressKey??""});try{l.default.getState().pushLog({type:"whoamiStore",whoamiHeaders:e?.headers})}catch{}},u=(0,t.create)((e,t)=>({whoAmI:null,experience:null,setWhoAmI:({onSuccess:t,onError:n,whoAmI:i})=>{try{if((0,s.setCustomerId)(i?.customer?.customerCode??""),(0,a.setSentryUser)(i?.customer?.customerCode?{email:i.customer.email,id:i.customer.customerCode}:null),i&&!i.isFromCookie)try{let e=(0,o.encodeWhoAmICookieData)({...i,isFromCookie:!0});if(e){let t=(0,o.getWhoAmICookieTimeoutUtcString)(),r=t?{expires:new Date(t)}:{};(0,c.setCookie)(o.WHOAMI_DATA_CONFIG_COOKIE_KEY,e.config,r),(0,c.setCookie)(o.WHOAMI_DATA_EXPERIENCE_COOKIE_KEY,e.experience,r),(0,c.setCookie)(o.WHOAMI_DATA_HEADERS_COOKIE_KEY,e.headers,r),(0,c.setCookie)(o.WHOAMI_DATA_REST_COOKIE_KEY,e.rest,r)}}catch{}e({whoAmI:i,experience:i?.experience}),i&&t?.(i)}catch(e){(0,a.reportEvent)({message:"Error: Failed to set WhoAmI data",logger:"stores.whoami.setWhoAmI",extra:{error:e,marketplace:r.default.marketplace}}),n?.(e)}},isLoadingWhoAmI:!1,getWhoAmI:async({onSuccess:i,onError:s,seoLocale:l})=>{e({isLoadingWhoAmI:!0});try{let{data:e}=await (0,n.whoAmISVC)().getWhoAmI(),r=(0,o.getTrimmedWhoAmIData)(e,l);return d({whoAmI:r,seoLocale:l}),t().setWhoAmI({whoAmI:r}),i?.(r,r?.experience),r}catch(e){return(0,a.reportEvent)({message:"API Error: Failed to get WhoAmI data",logger:"stores.whoami.getWhoAmI",extra:{error:e,seoLocale:l,marketplace:r.default.marketplace}}),s?.(e),null}finally{e({isLoadingWhoAmI:!1})}}}))},892135,(e,t,r)=>{"use strict";function a(e,t,r=!1){return t?Object.keys(e).filter(e=>r?!t.includes(e):t.includes(e)).reduce((t,r)=>(t[r]=e[r],t),{}):{}}function n(e,t,r,a){let n=a&&Object.keys(a).length>0?new URL(Object.values(a)[0],e):new URL(e);return t&&r&&t.forEach(e=>{r[e]&&n.searchParams.set(e,r[e])}),n.toString()}function i(e,t,r,a,i){var o;if(!t)return`<${e}></${e}>`;let s=(null==(o=t.src)?void 0:o.url)?Object.assign(Object.assign({},t),{src:n(t.src.url,t.src.params,a,i)}):t,l=Object.keys(Object.assign(Object.assign({},s),r)).reduce((e,t)=>{let a=null==r?void 0:r[t],n=s[t],i=null!=a?a:n,o=!0===i?t:`${t}="${i}"`;return i?e+` ${o}`:e},"");return`<${e}${l}></${e}>`}Object.defineProperty(r,"__esModule",{value:!0}),r.formatData=r.createHtml=r.formatUrl=void 0,r.formatUrl=n,r.createHtml=i,r.formatData=function(e,t){var r,o,s,l,c;let d=a(t,null==(r=e.scripts)?void 0:r.reduce((e,t)=>[...e,...Array.isArray(t.params)?t.params:[]],[])),u=a(t,null==(s=null==(o=e.html)?void 0:o.attributes.src)?void 0:s.params),p=a(t,[null==(c=null==(l=e.html)?void 0:l.attributes.src)?void 0:c.slugParam]),_=a(t,[...Object.keys(d),...Object.keys(u),...Object.keys(p)],!0);return Object.assign(Object.assign({},e),{html:e.html?i(e.html.element,e.html.attributes,_,u,p):null,scripts:e.scripts?e.scripts.map(e=>Object.assign(Object.assign({},e),{url:n(e.url,e.params,d)})):null})}},344602,(e,t,r)=>{"use strict";var a=e.e&&e.e.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAnalytics=void 0;let i=n(e.r(63191)),o=e.r(892135);r.GoogleAnalytics=e=>{var t=a(e,[]);return(0,o.formatData)(i.default,t)}},277813,(e,t,r)=>{"use strict";var a=e.e&&e.e.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleMapsEmbed=void 0;let i=n(e.r(249031)),o=e.r(892135);r.GoogleMapsEmbed=e=>{var t=a(e,[]);return(0,o.formatData)(i.default,t)}},515465,(e,t,r)=>{"use strict";var a=e.e&&e.e.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.YouTubeEmbed=void 0;let i=n(e.r(17311)),o=e.r(892135);r.YouTubeEmbed=e=>{var t=a(e,[]);return(0,o.formatData)(i.default,t)}},981498,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.YouTubeEmbed=r.GoogleMapsEmbed=r.GoogleAnalytics=void 0;var a=e.r(344602);Object.defineProperty(r,"GoogleAnalytics",{enumerable:!0,get:function(){return a.GoogleAnalytics}});var n=e.r(277813);Object.defineProperty(r,"GoogleMapsEmbed",{enumerable:!0,get:function(){return n.GoogleMapsEmbed}});var i=e.r(515465);Object.defineProperty(r,"YouTubeEmbed",{enumerable:!0,get:function(){return i.YouTubeEmbed}})},461316,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({html:e,height:t=null,width:r=null,children:i,dataNtpc:o=""}){return(0,n.useEffect)(()=>{o&&performance.mark("mark_feature_usage",{detail:{feature:`next-third-parties-${o}`}})},[o]),(0,a.jsxs)(a.Fragment,{children:[i,e?(0,a.jsx)("div",{style:{height:null!=t?`${t}px`:"auto",width:null!=r?`${r}px`:"auto"},"data-ntpc":o,dangerouslySetInnerHTML:{__html:e}}):null]})};let a=e.r(843476),n=e.r(271645)},667345,(e,t,r)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{apiKey:t,...r}=e,a={...r,key:t},{html:s}=(0,i.GoogleMapsEmbed)(a);return(0,n.jsx)(o.default,{height:a.height||null,width:a.width||null,html:s,dataNtpc:"GoogleMapsEmbed"})};let n=e.r(843476),i=e.r(981498),o=a(e.r(461316))},621783,(e,t,r)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{html:t,scripts:r,stylesheets:a}=(0,o.YouTubeEmbed)(e);return(0,n.jsx)(s.default,{height:e.height||null,width:e.width||null,html:t,dataNtpc:"YouTubeEmbed",children:null==r?void 0:r.map(e=>(0,n.jsx)(i.default,{src:e.url,strategy:l[e.strategy],stylesheets:a},e.url))})};let n=e.r(843476),i=a(e.r(3303)),o=e.r(981498),s=a(e.r(461316)),l={server:"beforeInteractive",client:"afterInteractive",idle:"lazyOnload",worker:"worker"}},19598,(e,t,r)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.sendGTMEvent=void 0,r.GoogleTagManager=function(e){let{gtmId:t,gtmScriptUrl:r,dataLayerName:a="dataLayer",auth:l,preview:c,dataLayer:d,nonce:u}=e;s=a;let p=new URL(r||"https://www.googletagmanager.com/gtm.js");return t&&p.searchParams.set("id",t),"dataLayer"!==a&&p.searchParams.set("l",a),l&&p.searchParams.set("gtm_auth",l),c&&(p.searchParams.set("gtm_preview",c),p.searchParams.set("gtm_cookies_win","x")),(0,i.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-gtm"}})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.default,{id:"_next-gtm-init",dangerouslySetInnerHTML:{__html:`
      (function(w,l){
        w[l]=w[l]||[];
        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
        ${d?`w[l].push(${JSON.stringify(d)})`:""}
      })(window,'${a}');`},nonce:u}),(0,n.jsx)(o.default,{id:"_next-gtm","data-ntpc":"GTM",src:p.href,nonce:u})]})};let n=e.r(843476),i=e.r(271645),o=a(e.r(3303)),s="dataLayer";r.sendGTMEvent=(e,t)=>{let r=t||s;window[r]=window[r]||[],window[r].push(e)}},654576,(e,t,r)=>{"use strict";let a;var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAnalytics=function(e){let{gaId:t,debugMode:r,dataLayerName:n="dataLayer",nonce:l}=e;return void 0===a&&(a=n),(0,o.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-ga"}})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.default,{id:"_next-ga-init",dangerouslySetInnerHTML:{__html:`
          window['${n}'] = window['${n}'] || [];
          function gtag(){window['${n}'].push(arguments);}
          gtag('js', new Date());

          gtag('config', '${t}' ${r?",{ 'debug_mode': true }":""});`},nonce:l}),(0,i.jsx)(s.default,{id:"_next-ga",src:`https://www.googletagmanager.com/gtag/js?id=${t}`,nonce:l})]})},r.sendGAEvent=function(){void 0===a?console.warn("@next/third-parties: GA has not been initialized"):window[a]?window[a].push(arguments):console.warn(`@next/third-parties: GA dataLayer ${a} does not exist`)};let i=e.r(843476),o=e.r(271645),s=n(e.r(3303))},387644,(e,t,r)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.sendGAEvent=r.GoogleAnalytics=r.sendGTMEvent=r.GoogleTagManager=r.YouTubeEmbed=r.GoogleMapsEmbed=void 0;var n=e.r(667345);Object.defineProperty(r,"GoogleMapsEmbed",{enumerable:!0,get:function(){return a(n).default}});var i=e.r(621783);Object.defineProperty(r,"YouTubeEmbed",{enumerable:!0,get:function(){return a(i).default}});var o=e.r(19598);Object.defineProperty(r,"GoogleTagManager",{enumerable:!0,get:function(){return o.GoogleTagManager}}),Object.defineProperty(r,"sendGTMEvent",{enumerable:!0,get:function(){return o.sendGTMEvent}});var s=e.r(654576);Object.defineProperty(r,"GoogleAnalytics",{enumerable:!0,get:function(){return s.GoogleAnalytics}}),Object.defineProperty(r,"sendGAEvent",{enumerable:!0,get:function(){return s.sendGAEvent}})},942901,e=>{"use strict";e.s(["GTM_ALL_ACCEPTED_CONFIG",()=>m,"getConsentSettings",()=>I,"initializeAnalytics",()=>y,"initializeConsentFallback",()=>E,"setCustomerId",()=>b,"trackEvent",()=>A,"updateGTMCookieConsent",()=>j],942901),e.i(247167);var t=e.i(662159),r=e.i(755581),a=e.i(104043),n=e.i(94395),i=e.i(166496),o=e.i(584901),s=e.i(624312),l=e.i(33528),c=e.i(637179),d=e.i(167577),u=e.i(387644);let p=[],_=!1,f=e=>{_?(0,u.sendGTMEvent)(e):p.push(e)};r.IS_DOCKER;let g=(0,l.isMobileDevice)()?"mweb":"web",m={p:!0,f:!0,a:!0},v={p:!1,f:!1,a:!1},y=({seoLocale:e,customerCode:t,zoneCode:r})=>{let{apiLocale:n}=(0,a.getLocale)(e);h({apiLocale:n,customerCode:t,zoneCode:r}),k(e)},b=e=>{if(t.default.initialized)try{t.default.updateUid(e)}catch(e){(0,i.reportEvent)({message:"Error during nAT setCustomerId",logger:"utils.analytics.setCustomerId",severity:"error",extra:{error:e}})}},h=async({apiLocale:e,customerCode:a,zoneCode:i})=>{if(!t.default?.initialized)try{t.default.init("https://etracker.noon.com","noon",n.visitorId.get(),e,g,a||"","beacon"),t.default.updateLocale(e),O({ev:"launch",whCode:i});let s=(0,o.getUtmParamsFromUrl)();if(Object.keys(s).filter(e=>"referrer"!==e).length>0){let e=window.location.href;O({ev:"deeplink",url:e,mpExperience:r.default.marketplace,mpPlatform:g,whCode:i,...s})}}catch(e){console.error(e)}},w=async e=>{r.IS_BROWSER&&(window.NATLayer||(window.NATLayer=[]),window.NATLayer.unshift(e),window.NATLayer=window.NATLayer.slice(0,50))},O=e=>{let a=(0,o.getUtmParamsFromUrl)(),n=c.default.get(),s=d.default.getState().whoAmI?.headers?.["x-nooninstant-zonecode"],l={mc:r.default.marketplace,mpe:r.default.marketplace,ab:r.default.build,an:"noon",...n?.name&&{embExp:n.name},...s&&{whCode:s},...e,...a};try{if(t.default.initialized)w(l),t.default.track(l.ev,l);else{let t=setTimeout(()=>{O(e),clearTimeout(t)},1e3)}}catch(e){(0,i.reportException)({error:e,logger:"analytics.reportToNAT"})}},k=e=>{if(!r.IS_BROWSER)return;for(window.dataLayer=window.dataLayer||[],_=!0;p.length>0;){let e=p.shift();e&&(0,u.sendGTMEvent)(e)}let{apiLocale:t,apiRegion:i,isSaudi:o,isUAE:l}=(0,a.getLocale)(e);f({event:"initUrl",locale:t,vid:n.visitorId.get(),visitorId:n.visitorId.get(),initUrl:window.location.href});let c=s.default.get(i),d=o||l;d&&c&&j(c),d||(window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(...e){(window.dataLayer=window.dataLayer||[]).push(e)},window.gtag("consent","default",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted",analytics_storage:"granted",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"}))},E=()=>{window.dataLayer=window.dataLayer||[];let e=window.dataLayer;window.gtag=window.gtag||function(...t){e.push(t)},window.gtag("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"denied",personalization_storage:"denied",security_storage:"granted"})},I=e=>({ad_storage:e.a?"granted":"denied",ad_user_data:e.a?"granted":"denied",ad_personalization:e.a?"granted":"denied",analytics_storage:e.p?"granted":"denied",functionality_storage:e.f?"granted":"denied",personalization_storage:e.a?"granted":"denied",security_storage:"granted"}),j=e=>{f({event:"update_consent",...I(e)})},x=({seoLocale:e,...t})=>{let{apiLocale:i,currencyCode:o}=(0,a.getLocale)(e),l=I((e=>{let{apiRegion:t,isSaudi:r,isUAE:n}=(0,a.getLocale)(e);return r||n?s.default.get(t)||v:m})(e));r.IS_BROWSER&&f({platform:"web",locale:i,timestamp:Date.now().toString(),currency:o,mpCode:r.default.marketplace,vid:n.visitorId.get(),visitor_id:n.visitorId.get(),visitorId:n.visitorId.get(),...t,...l})},A=({seoLocale:e,...t})=>{switch(t.event){case"launch":O({ev:t.event}),x({seoLocale:e,event:t.event});break;case"deeplink":O({ev:t.event,...t}),x({seoLocale:e,...t});break;case"cookie_consent_impression":O({ev:t.event,cookie_impression_details:t.cookie_impression_details,is_initial_impression:t.is_initial_impression}),x({seoLocale:e,event:t.event,cookie_impression_details:t.cookie_impression_details,is_initial_impression:t.is_initial_impression});break;case"cookie_consent_accepted":O({ev:t.event,cookie_consent_accepted:t.cookie_consent_accepted}),x({seoLocale:e,event:t.event,cookie_consent_accepted:t.cookie_consent_accepted});break;case"cookie_consent_customized":O({ev:t.event,customization_details:t.customization_details}),x({seoLocale:e,event:t.event,customization_details:t.customization_details});break;case"add_to_favorites":case"remove_from_favorites":case"share_product_link":O({ev:t.event,product_sku:t.product_sku});break;case"navpill_facet_clicked":O({ev:t.event,code:t.code,selected:t.selected,value:t.value,curl:t.curl});break;case"page_detail":case"page_catalog":case"page_cart":case"product_impression":case"ui_impression":case"selected_zone":case"user_sign_up":case"user_sign_in":case"user_logged_in":case"user_sign_out":case"page_orders":case"page_credits":case"page_addresses":case"address_add":case"address_save":case"address_delete":case"address_edit":case"recaptcha_init_previously":case"recaptcha_init_success":case"recaptcha_init_retry":case"recaptcha_init_fail":case"app_redirect_click":case"apply_credits":case"page_rewards":case"select_payment_method":case"page_profile":case"page_payments":case"select_payment_button":case"enter_cvv_button":case"floating_impression":case"floating_click":case"promotion_impression":case"promotion_click":case"age_bs_impression":case"age_bs_confirm":case"age_bs_cancel":case"age_bs_dismiss":case"save_tip":case"onboarding_impression":case"onboarding_click":case"onboarding_close":case"tap_coupon":case"apply_coupon":case"coupon_impression":case"coupon_strip_shown":case"coupon_strip_click":case"coupon_strip_dismiss":case"widget_impression":case"widget_click":case"pop_up_widget_shown":case"account_page":case"tab_item_imp":case"tab_item_click":O({...t,ev:t.event});break;case"tab_home":case"tab_account":case"tab_deals":case"tab_categories":case"tab_dynamic_primary":case"tab_dynamic_secondary":O({...t,ev:t.event,tc:t.tc});break;case"page_order_details":O({...t,ev:t.event,oid:t.oid});break;case"page_order_track":O({...t,ev:t.event,oid:t.oid,s:t.s});break;case"page_visit":O({...t,ev:t.event,pn:t.pn,phid:t.phid,hid:t.hid,srcpn:t.srcpn,srcwc:t.srcwc,group_code:t.group_code,share_code:t.share_code});break;case"cta_button_click":O({...t,ev:t.event,pn:t.pn,phid:t.phid,cs:t.cs,group_code:t.group_code});break;case"tag_shown":O({...t,ev:t.event,pn:t.pn,phid:t.phid,text:t.text,group_code:t.group_code});break;case"tag_click":O({...t,ev:t.event,pn:t.pn,phid:t.phid,text:t.text,status:t.status,group_code:t.group_code});break;case"pdp_product_details_shown":case"pdp_ni_shown":case"pdp_info_tab_clicked":O({...t,ev:t.event,curl:t.curl,plx:t.plx,pn:t.pn,phid:t.phid,shid:t.shid,spn:t.spn,spid:t.spid});break;case"address_pin_drop":O({...t,ev:t.event,ar:t.ar,ac:t.ac});break;case"address_pin_er":O({...t,ev:t.event,er:t.er});break;case"page_terms_of_use":O({...t,ev:t.event,hitId:t.hitId});break;case"add_to_cart":case"remove_from_cart":case"transaction":O({...t,ev:t.event}),x({seoLocale:e,...t});break;default:(0,i.reportEvent)({message:"Unknown track event request",logger:"utils.analytics.trackEvent",extra:{details:t}})}}}]);