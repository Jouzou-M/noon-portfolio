(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,422233,e=>{"use strict";let t,r="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),n=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));e.s(["v4",0,function(e,s,a){if(r&&!s&&!e)return r();let o=(e=e||{}).random??e.rng?.()??function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(n)}();if(o.length<16)throw Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,s){if((a=a||0)<0||a+16>s.length)throw RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)s[a+e]=o[e];return s}return function(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}(o)}],422233)},522099,e=>{"use strict";e.s(["default",0,function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}])},835287,179282,56176,854201,e=>{"use strict";var t=e.g&&e.g.Object===Object&&e.g;e.s(["default",0,t],179282);var r="object"==typeof self&&self&&self.Object===Object&&self,n=t||r||Function("return this")();e.s(["default",0,n],56176);var i=n.Symbol;e.s(["default",0,i],854201);var s=Object.prototype,a=s.hasOwnProperty,o=s.toString,l=i?i.toStringTag:void 0;let u=function(e){var t=a.call(e,l),r=e[l];try{e[l]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[l]=r:delete e[l]),i};var c=Object.prototype.toString,d=i?i.toStringTag:void 0;e.s(["default",0,function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?u(e):c.call(e)}],835287)},563615,e=>{"use strict";e.s(["default",0,function(e){return null!=e&&"object"==typeof e}])},515300,e=>{"use strict";var t=e.i(835287),r=e.i(563615);let n=function(e){return(0,r.default)(e)&&"[object Arguments]"==(0,t.default)(e)};var i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,o=n(function(){return arguments}())?n:function(e){return(0,r.default)(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.s(["default",0,o],515300)},644071,e=>{"use strict";var t=Array.isArray;e.s(["default",0,t])},160478,148077,e=>{"use strict";var t,r={},n=function(){let e;if(t)return r;t=1,Object.defineProperty(r,"__esModule",{value:!0}),r.parse=function(e,t){let r=new l,n=e.length;if(n<2)return r;let i=t?.decode||d,s=0;do{let t=e.indexOf("=",s);if(-1===t)break;let a=e.indexOf(";",s),o=-1===a?n:a;if(t>o){s=e.lastIndexOf(";",t-1)+1;continue}let l=u(e,s,t),d=c(e,t,l),p=e.slice(l,d);if(void 0===r[p]){let n=u(e,t+1,o),s=c(e,o,n),a=i(e.slice(n,s));r[p]=a}s=o+1}while(s<n)return r},r.serialize=function(e,t,r){let l=r?.encode||encodeURIComponent;if(!n.test(e))throw TypeError(`argument name is invalid: ${e}`);let u=l(t);if(!i.test(u))throw TypeError(`argument val is invalid: ${t}`);let c=e+"="+u;if(!r)return c;if(void 0!==r.maxAge){if(!Number.isInteger(r.maxAge))throw TypeError(`option maxAge is invalid: ${r.maxAge}`);c+="; Max-Age="+r.maxAge}if(r.domain){if(!s.test(r.domain))throw TypeError(`option domain is invalid: ${r.domain}`);c+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw TypeError(`option path is invalid: ${r.path}`);c+="; Path="+r.path}if(r.expires){var d;if(d=r.expires,"[object Date]"!==o.call(d)||!Number.isFinite(r.expires.valueOf()))throw TypeError(`option expires is invalid: ${r.expires}`);c+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.partitioned&&(c+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():void 0){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${r.sameSite}`)}return c};let n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=((e=function(){}).prototype=Object.create(null),e);function u(e,t,r){do{let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r)return r}function c(e,t,r){for(;t>r;){let r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}return r}();function i(e,t={}){var r;let n=(r=e)&&"j"===r[0]&&":"===r[1]?r.substr(2):r;if(!t.doNotParse)try{return JSON.parse(n)}catch(e){}return e}class s{constructor(t,r={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;let e=this.cookies;this.cookies=n.parse(document.cookie),this._checkChanges(e)};const i="undefined"==typeof document?"":document.cookie;this.cookies=function(e){return"string"==typeof e?n.parse(e):"object"==typeof e&&null!==e?e:{}}(t||i),this.defaultSetOptions=r,this.HAS_DOCUMENT_COOKIE=function(){let t=e.g.TEST_HAS_DOCUMENT_COOKIE;return"boolean"==typeof t?t:"object"==typeof document&&"string"==typeof document.cookie}()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(t=>{e[t]!==this.cookies[t]&&this._emitChange({name:t,value:i(this.cookies[t])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),i(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();let t={};for(let r in this.cookies)t[r]=i(this.cookies[r],e);return t}set(e,t,r){r=r?Object.assign(Object.assign({},this.defaultSetOptions),r):this.defaultSetOptions;let i="string"==typeof t?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:i}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,i,r)),this._emitChange({name:e,value:t,options:r})}remove(e,t){let r=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,"",r)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&1===this.changeListeners.length&&("object"==typeof window&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){let t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&0===this.changeListeners.length&&("object"==typeof window&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}removeAllChangeListeners(){for(;this.changeListeners.length>0;)this.removeChangeListener(this.changeListeners[0])}}e.s(["default",()=>s],160478);let a=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,t=21)=>{var r;let n,i;return r=t,i=-~(1.6*(n=(2<<Math.log(e.length-1)/Math.LN2)-1)*r/e.length),(t=r)=>{let s="";for(;;){let r=a(i),o=0|i;for(;o--;)if((s+=e[r[o]&n]||"").length===t)return s}}};e.s(["customAlphabet",()=>o],148077)},688072,e=>{"use strict";e.s(["default",0,function(){this.__data__=[],this.size=0}])},208986,e=>{"use strict";e.s(["default",0,function(e,t){return e===t||e!=e&&t!=t}])},192806,645465,671962,418499,505159,e=>{"use strict";var t=e.i(688072),r=e.i(208986);let n=function(e,t){for(var n=e.length;n--;)if((0,r.default)(e[n][0],t))return n;return -1};var i=Array.prototype.splice;function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=t.default,s.prototype.delete=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)},s.prototype.get=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]},s.prototype.has=function(e){return n(this.__data__,e)>-1},s.prototype.set=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this},e.s(["default",0,s],192806),e.s(["default",0,function(){this.__data__=new s,this.size=0}],645465),e.s(["default",0,function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}],671962),e.s(["default",0,function(e){return this.__data__.get(e)}],418499),e.s(["default",0,function(e){return this.__data__.has(e)}],505159)},764929,159110,e=>{"use strict";var t=e.i(835287);let r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};e.s(["default",0,r],159110),e.s(["default",0,function(e){if(!r(e))return!1;var n=(0,t.default)(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}],764929)},697015,366762,747244,544483,702052,e=>{"use strict";var t,r=e.i(192806),n=e.i(645465),i=e.i(671962),s=e.i(418499),a=e.i(505159),o=e.i(764929),l=e.i(56176),u=l.default["__core-js_shared__"],c=(t=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",d=e.i(159110),p=Function.prototype.toString;let h=function(e){if(null!=e){try{return p.call(e)}catch(e){}try{return e+""}catch(e){}}return""};e.s(["default",0,h],366762);var f=/^\[object .+?Constructor\]$/,m=Object.prototype,g=Function.prototype.toString,y=m.hasOwnProperty,_=RegExp("^"+g.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");let v=function(e){return!!(0,d.default)(e)&&(!c||!(c in e))&&((0,o.default)(e)?_:f).test(h(e))},b=function(e,t){var r=null==e?void 0:e[t];return v(r)?r:void 0};e.s(["default",0,b],747244);var S=b(l.default,"Map");e.s(["default",0,S],544483);var w=b(Object,"create"),E=Object.prototype.hasOwnProperty,k=Object.prototype.hasOwnProperty;function x(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}x.prototype.clear=function(){this.__data__=w?w(null):{},this.size=0},x.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t},x.prototype.get=function(e){var t=this.__data__;if(w){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return E.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return w?void 0!==t[e]:k.call(t,e)},x.prototype.set=function(e,t){var r=this.__data__;return this.size+=+!this.has(e),r[e]=w&&void 0===t?"__lodash_hash_undefined__":t,this};let T=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},I=function(e,t){var r=e.__data__;return T(t)?r["string"==typeof t?"string":"hash"]:r.map};function C(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function M(e){var t=this.__data__=new r.default(e);this.size=t.size}C.prototype.clear=function(){this.size=0,this.__data__={hash:new x,map:new(S||r.default),string:new x}},C.prototype.delete=function(e){var t=I(this,e).delete(e);return this.size-=!!t,t},C.prototype.get=function(e){return I(this,e).get(e)},C.prototype.has=function(e){return I(this,e).has(e)},C.prototype.set=function(e,t){var r=I(this,e),n=r.size;return r.set(e,t),this.size+=+(r.size!=n),this},e.s(["default",0,C],702052),M.prototype.clear=n.default,M.prototype.delete=i.default,M.prototype.get=s.default,M.prototype.has=a.default,M.prototype.set=function(e,t){var n=this.__data__;if(n instanceof r.default){var i=n.__data__;if(!S||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new C(i)}return n.set(e,t),this.size=n.size,this},e.s(["default",0,M],697015)},814400,470838,989682,e=>{"use strict";var t=e.i(702052);function r(e){var r=-1,n=null==e?0:e.length;for(this.__data__=new t.default;++r<n;)this.add(e[r])}r.prototype.add=r.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},r.prototype.has=function(e){return this.__data__.has(e)},e.s(["default",0,r],470838);let n=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},i=function(e,t){return e.has(t)};e.s(["default",0,i],989682),e.s(["default",0,function(e,t,s,a,o,l){var u=1&s,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&s?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var y=e[f],_=t[f];if(a)var v=u?a(_,y,f,t,e,l):a(y,_,f,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!n(t,function(e,t){if(!i(g,t)&&(y===e||o(y,e,s,a,l)))return g.push(t)})){m=!1;break}}else if(!(y===_||o(y,_,s,a,l))){m=!1;break}}return l.delete(e),l.delete(t),m}],814400)},97787,e=>{"use strict";var t=e.i(56176).default.Uint8Array;e.s(["default",0,t])},52040,e=>{"use strict";var t=e.i(854201),r=e.i(97787),n=e.i(208986),i=e.i(814400);let s=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r},a=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r};var o=t.default?t.default.prototype:void 0,l=o?o.valueOf:void 0;e.s(["default",0,function(e,t,o,u,c,d,p){switch(o){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new r.default(e),new r.default(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,n.default)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&u;if(h||(h=a),e.size!=t.size&&!f)break;var m=p.get(e);if(m)return m==t;u|=2,p.set(e,t);var g=(0,i.default)(h(e),h(t),u,c,d,p);return p.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}],52040)},902704,e=>{"use strict";var t=e.i(522099),r=e.i(644071);e.s(["default",0,function(e,n,i){var s=n(e);return(0,r.default)(e)?s:(0,t.default)(s,i(e))}])},324151,173647,e=>{"use strict";let t=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var a=e[r];t(a,r,e)&&(s[i++]=a)}return s},r=function(){return[]};e.s(["default",0,r],173647);var n=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:t(i(e=Object(e)),function(t){return n.call(e,t)})}:r;e.s(["default",0,s],324151)},766790,e=>{"use strict";e.s(["default",0,function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}])},303745,e=>{"use strict";e.s(["default",0,function(){return!1}],303745)},448178,e=>{"use strict";var t=/^(?:0|[1-9]\d*)$/;e.s(["default",0,function(e,r){var n=typeof e;return!!(r=null==r?0x1fffffffffffff:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}])},872445,e=>{"use strict";e.s(["default",0,function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}])},688212,894228,651434,801645,849915,e=>{"use strict";var t=e.i(766790),r=e.i(515300),n=e.i(644071),i=e.i(303745),s=e.i(448178),a=e.i(835287),o=e.i(872445),l=e.i(563615),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;let c=function(e){return function(t){return e(t)}};e.s(["default",0,c],894228),e.i(179282);var d=function(){try{return!1}catch(e){}}();e.s(["default",0,d],651434);var p=d&&d.isTypedArray,h=p?c(p):function(e){return(0,l.default)(e)&&(0,o.default)(e.length)&&!!u[(0,a.default)(e)]};e.s(["default",0,h],801645);var f=Object.prototype.hasOwnProperty;e.s(["default",0,function(e,a){var o=(0,n.default)(e),l=!o&&(0,r.default)(e),u=!o&&!l&&(0,i.default)(e),c=!o&&!l&&!u&&h(e),d=o||l||u||c,p=d?(0,t.default)(e.length,String):[],m=p.length;for(var g in e)(a||f.call(e,g))&&!(d&&("length"==g||u&&("offset"==g||"parent"==g)||c&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||(0,s.default)(g,m)))&&p.push(g);return p}],688212);var m=Object.prototype;e.s(["default",0,function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||m)}],849915)},765485,e=>{"use strict";e.s(["default",0,function(e,t){return function(r){return e(t(r))}}])},919556,e=>{"use strict";var t=e.i(849915),r=(0,e.i(765485).default)(Object.keys,Object),n=Object.prototype.hasOwnProperty;e.s(["default",0,function(e){if(!(0,t.default)(e))return r(e);var i=[];for(var s in Object(e))n.call(e,s)&&"constructor"!=s&&i.push(s);return i}],919556)},441338,e=>{"use strict";var t=e.i(764929),r=e.i(872445);e.s(["default",0,function(e){return null!=e&&(0,r.default)(e.length)&&!(0,t.default)(e)}])},154069,e=>{"use strict";var t=e.i(688212),r=e.i(919556),n=e.i(441338);e.s(["default",0,function(e){return(0,n.default)(e)?(0,t.default)(e):(0,r.default)(e)}])},861182,e=>{"use strict";var t=e.i(902704),r=e.i(324151),n=e.i(154069);e.s(["default",0,function(e){return(0,t.default)(e,n.default,r.default)}])},107571,e=>{"use strict";var t=e.i(861182),r=Object.prototype.hasOwnProperty;e.s(["default",0,function(e,n,i,s,a,o){var l=1&i,u=(0,t.default)(e),c=u.length;if(c!=(0,t.default)(n).length&&!l)return!1;for(var d=c;d--;){var p=u[d];if(!(l?p in n:r.call(n,p)))return!1}var h=o.get(e),f=o.get(n);if(h&&f)return h==n&&f==e;var m=!0;o.set(e,n),o.set(n,e);for(var g=l;++d<c;){var y=e[p=u[d]],_=n[p];if(s)var v=l?s(_,y,p,n,e,o):s(y,_,p,e,n,o);if(!(void 0===v?y===_||a(y,_,i,s,o):v)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var b=e.constructor,S=n.constructor;b!=S&&"constructor"in e&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S)&&(m=!1)}return o.delete(e),o.delete(n),m}])},820486,e=>{"use strict";var t=e.i(747244),r=e.i(56176),n=(0,t.default)(r.default,"DataView"),i=e.i(544483),s=(0,t.default)(r.default,"Promise"),a=(0,t.default)(r.default,"Set"),o=(0,t.default)(r.default,"WeakMap"),l=e.i(835287),u=e.i(366762),c="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=(0,u.default)(n),g=(0,u.default)(i.default),y=(0,u.default)(s),_=(0,u.default)(a),v=(0,u.default)(o),b=l.default;(n&&b(new n(new ArrayBuffer(1)))!=f||i.default&&b(new i.default)!=c||s&&b(s.resolve())!=d||a&&b(new a)!=p||o&&b(new o)!=h)&&(b=function(e){var t=(0,l.default)(e),r="[object Object]"==t?e.constructor:void 0,n=r?(0,u.default)(r):"";if(n)switch(n){case m:return f;case g:return c;case y:return d;case _:return p;case v:return h}return t});let S=b;e.s(["default",0,S],820486)},499050,294123,838705,e=>{"use strict";var t=e.i(697015),r=e.i(814400),n=e.i(52040),i=e.i(107571),s=e.i(820486),a=e.i(644071),o=e.i(303745),l=e.i(801645),u="[object Arguments]",c="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;let h=function(e,h,f,m,g,y){var _=(0,a.default)(e),v=(0,a.default)(h),b=_?c:(0,s.default)(e),S=v?c:(0,s.default)(h);b=b==u?d:b,S=S==u?d:S;var w=b==d,E=S==d,k=b==S;if(k&&(0,o.default)(e)){if(!(0,o.default)(h))return!1;_=!0,w=!1}if(k&&!w)return y||(y=new t.default),_||(0,l.default)(e)?(0,r.default)(e,h,f,m,g,y):(0,n.default)(e,h,b,f,m,g,y);if(!(1&f)){var x=w&&p.call(e,"__wrapped__"),T=E&&p.call(h,"__wrapped__");if(x||T){var I=x?e.value():e,C=T?h.value():h;return y||(y=new t.default),g(I,C,f,m,y)}}return!!k&&(y||(y=new t.default),(0,i.default)(e,h,f,m,g,y))};var f=e.i(563615);let m=function e(t,r,n,i,s){return t===r||(null!=t&&null!=r&&((0,f.default)(t)||(0,f.default)(r))?h(t,r,n,i,e,s):t!=t&&r!=r)};e.s(["default",0,m],294123),e.s(["default",0,function(e,t){return m(e,t)}],499050);var g=e.i(919556),y=e.i(515300),_=e.i(441338),v=e.i(849915),b=Object.prototype.hasOwnProperty;e.s(["default",0,function(e){if(null==e)return!0;if((0,_.default)(e)&&((0,a.default)(e)||"string"==typeof e||"function"==typeof e.splice||(0,o.default)(e)||(0,l.default)(e)||(0,y.default)(e)))return!e.length;var t=(0,s.default)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,v.default)(e))return!(0,g.default)(e).length;for(var r in e)if(b.call(e,r))return!1;return!0}],838705)},982735,e=>{"use strict";e.s(["default",0,function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}])},816051,289416,639552,e=>{"use strict";var t=e.i(697015),r=e.i(294123);let n=function(e,n,i,s){var a=i.length,o=a,l=!s;if(null==e)return!o;for(e=Object(e);a--;){var u=i[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var c=(u=i[a])[0],d=e[c],p=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var h=new t.default;if(s)var f=s(d,p,c,e,n,h);if(!(void 0===f?(0,r.default)(p,d,3,s,h):f))return!1}}return!0};var i=e.i(159110);let s=function(e){return e==e&&!(0,i.default)(e)};e.s(["default",0,s],289416);var a=e.i(154069);let o=function(e){for(var t=(0,a.default)(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,s(i)]}return t},l=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}};e.s(["default",0,l],639552),e.s(["default",0,function(e){var t=o(e);return 1==t.length&&t[0][2]?l(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}],816051)},316827,e=>{"use strict";var t=e.i(835287),r=e.i(563615);e.s(["default",0,function(e){return"symbol"==typeof e||(0,r.default)(e)&&"[object Symbol]"==(0,t.default)(e)}])},931293,e=>{"use strict";var t=e.i(644071),r=e.i(316827),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.s(["default",0,function(e,s){if((0,t.default)(e))return!1;var a=typeof e;return!!("number"==a||"symbol"==a||"boolean"==a||null==e||(0,r.default)(e))||i.test(e)||!n.test(e)||null!=s&&e in Object(s)}])},832181,e=>{"use strict";var t,r,n=e.i(702052);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(i.Cache||n.default),r}i.Cache=n.default;var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=(r=(t=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)}),t},function(e){return 500===r.size&&r.clear(),e})).cache,t);e.s(["default",0,o],832181)},104009,e=>{"use strict";var t=e.i(854201),r=e.i(982735),n=e.i(644071),i=e.i(316827),s=1/0,a=t.default?t.default.prototype:void 0,o=a?a.toString:void 0;let l=function e(t){if("string"==typeof t)return t;if((0,n.default)(t))return(0,r.default)(t,e)+"";if((0,i.default)(t))return o?o.call(t):"";var a=t+"";return"0"==a&&1/t==-s?"-0":a};e.s(["default",0,function(e){return null==e?"":l(e)}],104009)},172778,e=>{"use strict";var t=e.i(644071),r=e.i(931293),n=e.i(832181),i=e.i(104009);e.s(["default",0,function(e,s){return(0,t.default)(e)?e:(0,r.default)(e,s)?[e]:(0,n.default)((0,i.default)(e))}])},277734,e=>{"use strict";var t=e.i(316827),r=1/0;e.s(["default",0,function(e){if("string"==typeof e||(0,t.default)(e))return e;var n=e+"";return"0"==n&&1/e==-r?"-0":n}])},450266,426881,854885,171114,910022,e=>{"use strict";var t=e.i(816051),r=e.i(294123),n=e.i(172778),i=e.i(277734);let s=function(e,t){t=(0,n.default)(t,e);for(var r=0,s=t.length;null!=e&&r<s;)e=e[(0,i.default)(t[r++])];return r&&r==s?e:void 0};e.s(["default",0,s],426881);let a=function(e,t,r){var n=null==e?void 0:s(e,t);return void 0===n?r:n};e.s(["default",0,a],854885);let o=function(e,t){return null!=e&&t in Object(e)};var l=e.i(515300),u=e.i(644071),c=e.i(448178),d=e.i(872445);let p=function(e,t,r){t=(0,n.default)(t,e);for(var s=-1,a=t.length,o=!1;++s<a;){var p=(0,i.default)(t[s]);if(!(o=null!=e&&r(e,p)))break;e=e[p]}return o||++s!=a?o:!!(a=null==e?0:e.length)&&(0,d.default)(a)&&(0,c.default)(p,a)&&((0,u.default)(e)||(0,l.default)(e))},h=function(e,t){return null!=e&&p(e,t,o)};e.s(["default",0,h],171114);var f=e.i(931293),m=e.i(289416),g=e.i(639552);let y=function(e){return e};e.s(["default",0,y],910022);let _=function(e){var t;return(0,f.default)(e)?(t=(0,i.default)(e),function(e){return null==e?void 0:e[t]}):function(t){return s(t,e)}};e.s(["default",0,function(e){if("function"==typeof e)return e;if(null==e)return y;if("object"==typeof e){var n,s;return(0,u.default)(e)?(n=e[0],s=e[1],(0,f.default)(n)&&(0,m.default)(s)?(0,g.default)((0,i.default)(n),s):function(e){var t=a(e,n);return void 0===t&&t===s?h(e,n):(0,r.default)(s,t,3)}):(0,t.default)(e)}return _(e)}],450266)},508888,126200,54677,e=>{"use strict";var t=e.i(747244),r=function(){try{var e=(0,t.default)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.s(["default",0,r],126200);let n=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};e.s(["default",0,n],54677);var i=e.i(208986),s=Object.prototype.hasOwnProperty;e.s(["default",0,function(e,t,r){var a=e[t];s.call(e,t)&&(0,i.default)(a,r)&&(void 0!==r||t in e)||n(e,t,r)}],508888)},533837,e=>{"use strict";var t=e.i(426881),r=e.i(508888),n=e.i(172778),i=e.i(448178),s=e.i(159110),a=e.i(277734);let o=function(e,t,o,l){if(!(0,s.default)(e))return e;t=(0,n.default)(t,e);for(var u=-1,c=t.length,d=c-1,p=e;null!=p&&++u<c;){var h=(0,a.default)(t[u]),f=o;if("__proto__"===h||"constructor"===h||"prototype"===h)break;if(u!=d){var m=p[h];void 0===(f=l?l(m,h,p):void 0)&&(f=(0,s.default)(m)?m:(0,i.default)(t[u+1])?[]:{})}(0,r.default)(p,h,f),p=p[h]}return e};e.s(["default",0,function(e,r,i){for(var s=-1,a=r.length,l={};++s<a;){var u=r[s],c=(0,t.default)(e,u);i(c,u)&&o(l,(0,n.default)(u,e),c)}return l}],533837)},652865,e=>{"use strict";var t=(0,e.i(765485).default)(Object.getPrototypeOf,Object);e.s(["default",0,t])},231348,e=>{"use strict";var t=e.i(522099),r=e.i(652865),n=e.i(324151),i=e.i(173647),s=Object.getOwnPropertySymbols?function(e){for(var i=[];e;)(0,t.default)(i,(0,n.default)(e)),e=(0,r.default)(e);return i}:i.default;e.s(["default",0,s])},872585,e=>{"use strict";var t=e.i(688212),r=e.i(159110),n=e.i(849915);let i=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t};var s=Object.prototype.hasOwnProperty;let a=function(e){if(!(0,r.default)(e))return i(e);var t=(0,n.default)(e),a=[];for(var o in e)"constructor"==o&&(t||!s.call(e,o))||a.push(o);return a};var o=e.i(441338);e.s(["default",0,function(e){return(0,o.default)(e)?(0,t.default)(e,!0):a(e)}],872585)},966240,e=>{"use strict";var t=e.i(902704),r=e.i(231348),n=e.i(872585);e.s(["default",0,function(e){return(0,t.default)(e,n.default,r.default)}])},44943,260815,e=>{"use strict";e.i(148077),e.i(499050),e.i(838705);var t=e.i(982735),r=e.i(450266),n=e.i(533837),i=e.i(966240);e.s(["default",0,function(e,s){if(null==e)return{};var a=(0,t.default)((0,i.default)(e),function(e){return[e]});return s=(0,r.default)(s),(0,n.default)(e,a,function(e,t){return s(e,t[0])})}],260815);let s=e=>String(e).padStart(2,"0");e.s(["capitalizeFirstLetter",0,e=>{let t=e.charAt(0).toUpperCase();return t?`${t}${e.slice(1)}`:e},"combineDateTimeToISO",0,(e,t)=>e&&t?new Date(`${e}T${t}:00Z`).toISOString():"","formatCCDate",0,e=>{let[t,r]=e.split("/").map(Number);if(t&&r)return new Date(2e3+r,t-1).toLocaleString("en-US",{month:"short",year:"numeric"}).replace(" ",", ")},"formatSeconds",0,e=>{let t=Math.max(0,e),r=Math.floor(t/60);return`${String(r).padStart(2,"0")}:${String(t%60).padStart(2,"0")}`},"getGradientExpression",0,({colors:e,direction:t="right"})=>`linear-gradient(to ${t}, ${(e||["transparent"]).join(", ")})`,"sanitizeText",0,e=>e.replaceAll("<","").replaceAll(">","").replaceAll("%","").replaceAll("=","").replaceAll('"',"").replaceAll("'",""),"splitISOToDateAndTime",0,(e,t=!1)=>{if(!e)return{date:"",time:""};let r=new Date(e);if(Number.isNaN(r.getTime()))return{date:"",time:""};let n=t?r.getUTCFullYear():r.getFullYear(),i=(t?r.getUTCMonth():r.getMonth())+1,a=t?r.getUTCDate():r.getDate(),o=t?r.getUTCHours():r.getHours(),l=t?r.getUTCMinutes():r.getMinutes();return{date:`${n}-${s(i)}-${s(a)}`,time:`${s(o)}:${s(l)}`}},"toDate",0,e=>new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})],44943)},166496,e=>{"use strict";let t,r,n,i,s,a,o,l,u,c,d,p,h,f,m,g,y,_,v,b,S,w,E,k,x,T,I,C;var M,O,R,A,D,N,L,P,$,j=e.i(247167);let U="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,F="9.46.0",z=globalThis;function B(){return W(z),z}function W(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||F,t[F]=t[F]||{}}function H(e,t,r=z){let n=r.__SENTRY__=r.__SENTRY__||{},i=n[F]=n[F]||{};return i[e]||(i[e]=t())}let q=Object.prototype.toString;function K(e){switch(q.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return er(e,Error)}}function V(e,t){return q.call(e)===`[object ${t}]`}function J(e){return V(e,"ErrorEvent")}function Y(e){return V(e,"DOMError")}function G(e){return V(e,"String")}function X(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Q(e){return null===e||X(e)||"object"!=typeof e&&"function"!=typeof e}function Z(e){return V(e,"Object")}function ee(e){return"undefined"!=typeof Event&&er(e,Event)}function et(e){return!!(e?.then&&"function"==typeof e.then)}function er(e,t){try{return e instanceof t}catch{return!1}}function en(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}function ei(e){return"undefined"!=typeof Request&&er(e,Request)}function es(e,t={}){if(!e)return"<unknown>";try{let r,n=e,i=[],s=0,a=0,o=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<5&&(r=function(e,t){let r=[];if(!e?.tagName)return"";if(z.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}r.push(e.tagName.toLowerCase());let n=t?.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(n?.length)n.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&r.push(`#${e.id}`);let t=e.className;if(t&&G(t))for(let e of t.split(/\s+/))r.push(`.${e}`)}for(let t of["aria-label","type","name","title","alt"]){let n=e.getAttribute(t);n&&r.push(`[${t}="${n}"]`)}return r.join("")}(n,o),"html"!==r&&(!(s>1)||!(a+3*i.length+r.length>=l)));)i.push(r),a+=r.length,n=n.parentNode;return i.reverse().join(" > ")}catch{return"<unknown>"}}function ea(){try{return z.document.location.href}catch{return""}}function eo(e){if(!z.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}let el=["debug","info","warn","error","log","assert","trace"],eu={};function ec(e){if(!("console"in z))return e();let t=z.console,r={},n=Object.keys(eu);n.forEach(e=>{let n=eu[e];r[e]=t[e],t[e]=n});try{return e()}finally{n.forEach(e=>{t[e]=r[e]})}}function ed(){return eh().enabled}function ep(e,...t){U&&ed()&&ec(()=>{z.console[e](`Sentry Logger [${e}]:`,...t)})}function eh(){return U?H("loggerSettings",()=>({enabled:!1})):{enabled:!1}}let ef={enable:function(){eh().enabled=!0},disable:function(){eh().enabled=!1},isEnabled:ed,log:function(...e){ep("log",...e)},warn:function(...e){ep("warn",...e)},error:function(...e){ep("error",...e)}};function em(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function eg(e,t){if(!Array.isArray(e))return"";let r=[];for(let t=0;t<e.length;t++){let n=e[t];try{en(n)?r.push("[VueViewModel]"):r.push(String(n))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function ey(e,t=[],r=!1){return t.some(t=>(function(e,t,r=!1){return!!G(e)&&(V(t,"RegExp")?t.test(e):!!G(t)&&(r?e===t:e.includes(t)))})(e,t,r))}function e_(e,t,r){if(!(t in e))return;let n=e[t];if("function"!=typeof n)return;let i=r(n);"function"==typeof i&&eb(i,n);try{e[t]=i}catch{U&&ef.log(`Failed to replace method "${t}" in object`,e)}}function ev(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{U&&ef.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function eb(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,ev(e,"__sentry_original__",t)}catch{}}function eS(e){return e.__sentry_original__}function ew(e){if(K(e))return{message:e.message,name:e.name,stack:e.stack,...ek(e)};if(!ee(e))return e;{let t={type:e.type,target:eE(e.target),currentTarget:eE(e.currentTarget),...ek(e)};return"undefined"!=typeof CustomEvent&&er(e,CustomEvent)&&(t.detail=e.detail),t}}function eE(e){try{return"undefined"!=typeof Element&&er(e,Element)?es(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ek(e){if("object"!=typeof e||null===e)return{};{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}}function ex(e=z.crypto||z.msCrypto){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function eT(e){return e.exception?.values?.[0]}function eI(e){let{message:t,event_id:r}=e;if(t)return t;let n=eT(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function eC(e,t,r){let n=e.exception=e.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")}function eM(e,t){let r=eT(e);if(!r)return;let n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){let e={...n?.data,...t.data};r.mechanism.data=e}}function eO(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{ev(e,"__sentry_captured__",!0)}catch{}return!1}function eR(){return Date.now()/1e3}function eA(){return(t??(t=function(){let{performance:e}=z;if(!e?.now||!e.timeOrigin)return eR;let t=e.timeOrigin;return()=>(t+e.now())/1e3}()))()}function eD(){return r||(r=function(){let{performance:e}=z;if(!e?.now)return[void 0,"none"];let t=e.now(),r=Date.now(),n=e.timeOrigin?Math.abs(e.timeOrigin+t-r):36e5,i=e.timing?.navigationStart,s="number"==typeof i?Math.abs(i+t-r):36e5;if(n<36e5||s<36e5)if(n<=s)return[e.timeOrigin,"timeOrigin"];else return[i,"navigationStart"];return[r,"dateNow"]}()),r[0]}function eN(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||eA(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ex()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function eL(e,t,r=2){if(!t||"object"!=typeof t||r<=0)return t;if(e&&0===Object.keys(t).length)return e;let n={...e};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=eL(n[e],t[e],r-1));return n}function eP(){return ex().substring(16)}let e$="_sentrySpan";function ej(e,t){t?ev(e,e$,t):delete e[e$]}class eU{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ex(),sampleRand:Math.random()}}clone(){let e=new eU;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ej(e,this[e$]),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&eN(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,{tags:r,extra:n,user:i,contexts:s,level:a,fingerprint:o=[],propagationContext:l}=(t instanceof eU?t.getScopeData():Z(t)?e:void 0)||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...n},this._contexts={...this._contexts,...s},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),o.length&&(this._fingerprint=o),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ej(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ex(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let r="number"==typeof t?t:100;if(r<=0)return this;let n={timestamp:eR(),...e,message:e.message?em(e.message,2048):e.message};return this._breadcrumbs.push(n),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[e$]}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=eL(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let r=t?.event_id||ex();if(!this._client)return U&&ef.warn("No client configured on scope - will not capture exception!"),r;let n=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){let n=r?.event_id||ex();if(!this._client)return U&&ef.warn("No client configured on scope - will not capture message!"),n;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureEvent(e,t){let r=t?.event_id||ex();return this._client?this._client.captureEvent(e,{...t,event_id:r},this):U&&ef.warn("No client configured on scope - will not capture event!"),r}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class eF{constructor(e,t){let r,n;r=e||new eU,n=t||new eU,this._stack=[{scope:r}],this._isolationScope=n}withScope(e){let t,r=this._pushScope();try{t=e(r)}catch(e){throw this._popScope(),e}return et(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ez(){let e=W(B());return e.stack=e.stack||new eF(H("defaultCurrentScope",()=>new eU),H("defaultIsolationScope",()=>new eU))}function eB(e){return ez().withScope(e)}function eW(e,t){let r=ez();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function eH(e){return ez().withScope(()=>e(ez().getIsolationScope()))}function eq(e){let t=W(e);return t.acs?t.acs:{withIsolationScope:eH,withScope:eB,withSetScope:eW,withSetIsolationScope:(e,t)=>eH(t),getCurrentScope:()=>ez().getScope(),getIsolationScope:()=>ez().getIsolationScope()}}function eK(){return eq(B()).getCurrentScope()}function eV(){return eq(B()).getIsolationScope()}function eJ(...e){let t=eq(B());if(2===e.length){let[r,n]=e;return r?t.withSetScope(r,n):t.withScope(n)}return t.withScope(e[0])}function eY(){return eK().getClient()}let eG=[];function eX(e,t){for(let r of t)r?.afterAllSetup&&r.afterAllSetup(e)}function eQ(e,t,r){if(r[t.name]){U&&ef.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,-1===eG.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),eG.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,n)=>r(t,n,e))}if("function"==typeof t.processEvent){let r=t.processEvent.bind(t),n=Object.assign((t,n)=>r(t,n,e),{id:t.name});e.addEventProcessor(n)}U&&ef.log(`Integration installed: ${t.name}`)}function eZ(e){let t=[];e.message&&t.push(e.message);try{let r=e.exception.values[e.exception.values.length-1];r?.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`))}catch{}return t}let e0=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/];function e1(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:e0],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function e2(e){try{let t=[...e.exception?.values??[]].reverse().find(e=>e.mechanism?.parent_id===void 0&&e.stacktrace?.frames?.length),r=t?.stacktrace?.frames;return r?function(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(r):null}catch{return U&&ef.error(`Cannot extract url for event ${eI(e)}`),null}}let e3=new WeakMap,e5=/\(error: (.*)\)/,e4=/captureMessage|captureException/;function e8(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,r=0,n=0)=>{let i=[],s=e.split("\n");for(let e=r;e<s.length;e++){let r=s[e];if(r.length>1024)continue;let a=e5.test(r)?r.replace(e5,"$1"):r;if(!a.match(/\S*Error: /)){for(let e of t){let t=e(a);if(t){i.push(t);break}}if(i.length>=50+n)break}}var a=i.slice(n);if(!a.length)return[];let o=Array.from(a);return/sentryWrapped/.test(e6(o).function||"")&&o.pop(),o.reverse(),e4.test(e6(o).function||"")&&(o.pop(),e4.test(e6(o).function||"")&&o.pop()),o.slice(0,50).map(e=>({...e,filename:e.filename||e6(o).filename,function:e.function||"?"}))}}function e6(e){return e[e.length-1]||{}}let e7="<anonymous>";function e9(e){try{if(!e||"function"!=typeof e)return e7;return e.name||e7}catch{return e7}}function te(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch{}}}function tt(e,t){let r=te(e),n=te(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let e=0;e<n.length;e++){let t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function tr(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function tn(e){return e.exception?.values?.[0]}let ti=/^o(\d+)\./,ts=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ta(e,t=!1){let{host:r,path:n,pass:i,port:s,projectId:a,protocol:o,publicKey:l}=e;return`${o}://${l}${t&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n?`${n}/`:n}${a}`}function to(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}let tl="production",tu="sentry.source",tc="sentry.sample_rate",td="sentry.previous_trace_sample_rate",tp="sentry.op",th="sentry.origin",tf="sentry.idle_span_finish_reason",tm="sentry.measurement_unit",tg="sentry.measurement_value",ty="sentry.custom_span_name",t_="sentry.profile_id",tv="sentry.exclusive_time",tb="sentry-",tS=/^sentry-/;function tw(e){let t=function(e){if(e&&(G(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>(Object.entries(tE(t)).forEach(([t,r])=>{e[t]=r}),e),{}):tE(e)}(e);if(!t)return;let r=Object.entries(t).reduce((e,[t,r])=>(t.match(tS)&&(e[t.slice(tb.length)]=r),e),{});return Object.keys(r).length>0?r:void 0}function tE(e){return e.split(",").map(e=>e.split("=").map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})).reduce((e,[t,r])=>(t&&r&&(e[t]=r),e),{})}function tk(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=e||eY()?.getOptions();return!!t&&(null!=t.tracesSampleRate||!!t.tracesSampler)}function tx(e,t){e.setAttribute("http.response.status_code",t);let r=function(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}(t);"unknown_error"!==r.message&&e.setStatus(r)}let tT="_sentryScope",tI="_sentryIsolationScope";function tC(e){return{scope:e[tT],isolationScope:e[tI]}}function tM(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t))&&!(t<0)&&!(t>1))return t}let tO=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function tR(e=ex(),t=eP(),r){let n="";return void 0!==r&&(n=r?"-1":"-0"),`${e}-${t}${n}`}let tA=!1;function tD(e){return e&&e.length>0?e.map(({context:{spanId:e,traceId:t,traceFlags:r,...n},attributes:i})=>({span_id:e,trace_id:t,sampled:1===r,attributes:i,...n})):void 0}function tN(e){return"number"==typeof e?tL(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?tL(e.getTime()):eA()}function tL(e){return e>0x2540be3ff?e/1e3:e}function tP(e){var t;if("function"==typeof e.getSpanJSON)return e.getSpanJSON();let{spanId:r,traceId:n}=e.spanContext();if((t=e).attributes&&t.startTime&&t.name&&t.endTime&&t.status){let{attributes:t,startTime:i,name:s,endTime:a,status:o,links:l}=e;return{span_id:r,trace_id:n,data:t,description:s,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0,start_timestamp:tN(i),timestamp:tN(a)||void 0,status:tj(o),op:t[tp],origin:t[th],links:tD(l)}}return{span_id:r,trace_id:n,start_timestamp:0,data:{}}}function t$(e){let{traceFlags:t}=e.spanContext();return 1===t}function tj(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}let tU="_sentryChildSpans",tF="_sentryRootSpan";function tz(e,t){let r=e[tF]||e;ev(t,tF,r),e[tU]?e[tU].add(t):ev(e,tU,new Set([t]))}function tB(e){let t=new Set;return!function e(r){if(!t.has(r)&&t$(r))for(let n of(t.add(r),r[tU]?Array.from(r[tU]):[]))e(n)}(e),Array.from(t)}function tW(e){return e[tF]||e}function tH(){let e=eq(B());return e.getActiveSpan?e.getActiveSpan():eK()[e$]}function tq(){tA||(ec(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),tA=!0)}let tK="_frozenDsc";function tV(e,t){let r,n=t.getOptions(),{publicKey:i,host:s}=t.getDsn()||{};if(n.orgId)r=String(n.orgId);else{let e;s&&(e=s.match(ti),r=e?.[1])}let a={environment:n.environment||tl,release:n.release,public_key:i,trace_id:e,org_id:r};return t.emit("createDsc",a),a}function tJ(e,t){let r=t.getPropagationContext();return r.dsc||tV(r.traceId,e)}function tY(e){let t=eY();if(!t)return{};let r=tW(e),n=tP(r),i=n.data,s=r.spanContext().traceState,a=s?.get("sentry.sample_rate")??i[tc]??i[td];function o(e){return("number"==typeof a||"string"==typeof a)&&(e.sample_rate=`${a}`),e}let l=r[tK];if(l)return o(l);let u=s?.get("sentry.dsc"),c=u&&tw(u);if(c)return o(c);let d=tV(e.spanContext().traceId,t),p=i[tu],h=n.description;return"url"!==p&&h&&(d.transaction=h),tk()&&(d.sampled=String(t$(r)),d.sample_rand=s?.get("sentry.sample_rand")??tC(r).scope?.getPropagationContext().sampleRand.toString()),o(d),t.emit("createDsc",d,r),d}function tG(t,r=100,n=Infinity){try{return function t(r,n,i=Infinity,s=Infinity,a=function(){let e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}()){let[o,l]=a;if(null==n||["boolean","string"].includes(typeof n)||"number"==typeof n&&Number.isFinite(n))return n;let u=function(t,r){try{var n;let i;if("domain"===t&&r&&"object"==typeof r&&r._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(r===e.g)return"[Global]";if("undefined"!=typeof window&&r===window)return"[Window]";if("undefined"!=typeof document&&r===document)return"[Document]";if(en(r))return"[VueViewModel]";if(Z(r)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof r&&!Number.isFinite(r))return`[${r}]`;if("function"==typeof r)return`[Function: ${e9(r)}]`;if("symbol"==typeof r)return`[${String(r)}]`;if("bigint"==typeof r)return`[BigInt: ${String(r)}]`;let s=(n=r,i=Object.getPrototypeOf(n),i?.constructor?i.constructor.name:"null prototype");if(/^HTML(\w*)Element$/.test(s))return`[HTMLElement: ${s}]`;return`[object ${s}]`}catch(e){return`**non-serializable** (${e})`}}(r,n);if(!u.startsWith("[object "))return u;if(n.__sentry_skip_normalization__)return n;let c="number"==typeof n.__sentry_override_normalization_depth__?n.__sentry_override_normalization_depth__:i;if(0===c)return u.replace("object ","");if(o(n))return"[Circular ~]";if(n&&"function"==typeof n.toJSON)try{let e=n.toJSON();return t("",e,c-1,s,a)}catch{}let d=Array.isArray(n)?[]:{},p=0,h=ew(n);for(let e in h){if(!Object.prototype.hasOwnProperty.call(h,e))continue;if(p>=s){d[e]="[MaxProperties ~]";break}let r=h[e];d[e]=t(e,r,c-1,s,a),p++}return l(n),d}("",t,r,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function tX(e,t=[]){return[e,t]}function tQ(e,t){for(let r of e[1]){let e=r[0].type;if(t(r,e))return!0}return!1}function tZ(e){let t=W(z);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}let t0={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function t1(e){if(!e?.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function t2(e,t,r,n){let i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:ta(n)},...i&&{trace:i}}}function t3(e){return new t4(t=>{t(e)})}function t5(e){return new t4((t,r)=>{r(e)})}class t4{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new t4((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new t4((t,r)=>{let n,i;return this.then(t=>{i=!1,n=t,e&&e()},t=>{i=!0,n=t,e&&e()}).then(()=>{i?r(n):t(n)})})}_executeHandlers(){if(0===this._state)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){let t=(e,t)=>{if(0===this._state){if(et(t))return void t.then(r,n);this._state=e,this._value=t,this._executeHandlers()}},r=e=>{t(1,e)},n=e=>{t(2,e)};try{e(r,n)}catch(e){n(e)}}}function t8(e,t){let{extra:r,tags:n,user:i,contexts:s,level:a,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:u,eventProcessors:c,attachments:d,propagationContext:p,transactionName:h,span:f}=t;t6(e,"extra",r),t6(e,"tags",n),t6(e,"user",i),t6(e,"contexts",s),e.sdkProcessingMetadata=eL(e.sdkProcessingMetadata,o,2),a&&(e.level=a),h&&(e.transactionName=h),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),c.length&&(e.eventProcessors=[...e.eventProcessors,...c]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function t6(e,t,r){e[t]=eL(e[t],r,1)}function t7(e,t,r,n,o,l){var u,c,d;let p,{normalizeDepth:h=3,normalizeMaxBreadth:f=1e3}=e,m={...t,event_id:t.event_id||r.event_id||ex(),timestamp:t.timestamp||eR()},g=r.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:r,release:n,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||r||tl,!e.release&&n&&(e.release=n),!e.dist&&i&&(e.dist=i);let a=e.request;a?.url&&(a.url=em(a.url,s))})(m,e),u=m,(c=g).length>0&&(u.sdk=u.sdk||{},u.sdk.integrations=[...u.sdk.integrations||[],...c]),o&&o.emit("applyFrameMetadata",t),void 0===t.type&&(d=m,p=function(e){let t=z._sentryDebugIds;if(!t)return{};let r=Object.keys(t);return a&&r.length===s?a:(s=r.length,a=r.reduce((r,n)=>{i||(i={});let s=i[n];if(s)r[s[0]]=s[1];else{let s=e(n);for(let e=s.length-1;e>=0;e--){let a=s[e],o=a?.filename,l=t[n];if(o&&l){r[o]=l,i[n]=[o,l];break}}}return r},{}))}(e.stackParser),d.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=p[e.filename])})}));let y=function(e,t){if(!t)return e;let r=e?e.clone():new eU;return r.update(t),r}(n,r.captureContext);r.mechanism&&eM(m,r.mechanism);let _=o?o.getEventProcessors():[],v=H("globalScope",()=>new eU).getScopeData();l&&t8(v,l.getScopeData()),y&&t8(v,y.getScopeData());let b=[...r.attachments||[],...v.attachments];return b.length&&(r.attachments=b),!function(e,t){var r,n,i,s,a,o,l,u;let c,d,{fingerprint:p,span:h,breadcrumbs:f,sdkProcessingMetadata:m}=t;(function(e,t){let{extra:r,tags:n,user:i,contexts:s,level:a,transactionName:o}=t;Object.keys(r).length&&(e.extra={...r,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),a&&(e.level=a),o&&"transaction"!==e.type&&(e.transaction=o)})(e,t),h&&((r=e).contexts={trace:function(e){let{spanId:t,traceId:r,isRemote:n}=e.spanContext(),i=n?t:tP(e).parent_span_id,s=tC(e).scope;return{parent_span_id:i,span_id:n?s?.getPropagationContext().propagationSpanId||eP():t,trace_id:r}}(n=h),...r.contexts},r.sdkProcessingMetadata={dynamicSamplingContext:tY(n),...r.sdkProcessingMetadata},(c=tP(tW(n)).description)&&!r.transaction&&"transaction"===r.type&&(r.transaction=c)),i=e,s=p,i.fingerprint=i.fingerprint?Array.isArray(i.fingerprint)?i.fingerprint:[i.fingerprint]:[],s&&(i.fingerprint=i.fingerprint.concat(s)),i.fingerprint.length||delete i.fingerprint,a=e,o=f,d=[...a.breadcrumbs||[],...o],a.breadcrumbs=d.length?d:void 0,l=e,u=m,l.sdkProcessingMetadata={...l.sdkProcessingMetadata,...u}}(m,v),(function e(t,r,n,i=0){return new t4((s,a)=>{let o=t[i];if(null===r||"function"!=typeof o)s(r);else{let l=o({...r},n);U&&o.id&&null===l&&ef.log(`Event processor "${o.id}" dropped event`),et(l)?l.then(r=>e(t,r,n,i+1).then(s)).then(null,a):e(t,l,n,i+1).then(s).then(null,a)}})})([..._,...v.eventProcessors],m,r).then(e=>(e&&function(e){let t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{r.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof h&&h>0)?function(e,t,r){if(!e)return null;let n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:tG(e.data,t,r)}}))},...e.user&&{user:tG(e.user,t,r)},...e.contexts&&{contexts:tG(e.contexts,t,r)},...e.extra&&{extra:tG(e.extra,t,r)}};return e.contexts?.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=tG(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(e=>({...e,...e.data&&{data:tG(e.data,t,r)}}))),e.contexts?.flags&&n.contexts&&(n.contexts.flags=tG(e.contexts.flags,3,r)),n}(e,h,f):e)}let t9=["user","level","extra","contexts","tags","fingerprint","propagationContext"],re="Not capturing exception because it's already been captured.",rt="Discarded session because of missing or non-string release",rr=Symbol.for("SentryInternalError"),rn=Symbol.for("SentryDoNotSendEventError");function ri(e){return{message:e,[rr]:!0}}function rs(e){return{message:e,[rn]:!0}}function ra(e){return!!e&&"object"==typeof e&&rr in e}function ro(e){return!!e&&"object"==typeof e&&rn in e}class rl{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){let t="string"==typeof e?function(e){let t=ts.exec(e);if(!t)return void ec(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});let[r,n,i="",s="",a="",o=""]=t.slice(1),l="",u=o,c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){let e=u.match(/^\d+/);e&&(u=e[0])}return to({host:s,pass:i,path:l,projectId:u,port:a,protocol:r,publicKey:n})}(e):to(e);if(t&&function(e){if(!U)return!0;let{port:t,projectId:r,protocol:n}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(ef.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(r.match(/^\d+$/)?"http"!==n&&"https"!==n?(ef.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):!(t&&isNaN(parseInt(t,10)))||(ef.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(ef.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1))}(t))return t}(e.dsn):U&&ef.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t,r){let n,i,s;return t||`${n=e.protocol?`${e.protocol}:`:"",i=e.port?`:${e.port}`:"",`${n}//${e.host}${i}${e.path?`/${e.path}`:""}/api/`}${e.projectId}/envelope/?${s={sentry_version:"7"},e.publicKey&&(s.sentry_key=e.publicKey),r&&(s.sentry_client=`${r.name}/${r.version}`),new URLSearchParams(s).toString()}`}(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,r){let n=ex();if(eO(e))return U&&ef.log(re),n;let i={event_id:n,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,r))),i.event_id}captureMessage(e,t,r,n){let i={event_id:ex(),...r},s=X(e)?e:String(e),a=Q(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(a.then(e=>this._captureEvent(e,i,n))),i.event_id}captureEvent(e,t,r){let n=ex();if(t?.originalException&&eO(t.originalException))return U&&ef.log(re),n;let i={event_id:n,...t},s=e.sdkProcessingMetadata||{},a=s.capturedSpanScope,o=s.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,a||r,o)),i.event_id}captureSession(e){this.sendSession(e),eN(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>t.flush(e).then(e=>r&&e))):t3(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];eQ(this,e,this._integrations),t||eX(this,[e])}sendEvent(e,t={}){var r,n,i,s;let a,o,l;this.emit("beforeSendEvent",e,t);let u=(r=this._dsn,n=this._options._metadata,i=this._options.tunnel,a=t1(n),o=e.type&&"replay_event"!==e.type?e.type:"event",(s=n?.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||s.name,e.sdk.version=e.sdk.version||s.version,e.sdk.integrations=[...e.sdk.integrations||[],...s.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...s.packages||[]]),l=t2(e,a,i,r),delete e.sdkProcessingMetadata,tX(l,[[{type:o},e]]));for(let e of t.attachments||[])u=function(e,t){let[r,n]=e;return[r,[...n,t]]}(u,function(e){let t="string"==typeof e.data?tZ(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}(e));let c=this.sendEnvelope(u);c&&c.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){var t,r,n;let i,{release:s,environment:a=tl}=this._options;if("aggregates"in e){let t=e.attrs||{};if(!t.release&&!s){U&&ef.warn(rt);return}t.release=t.release||s,t.environment=t.environment||a,e.attrs=t}else{if(!e.release&&!s){U&&ef.warn(rt);return}e.release=e.release||s,e.environment=e.environment||a}this.emit("beforeSendSession",e);let o=(t=this._dsn,r=this._options._metadata,n=this._options.tunnel,i=t1(r),tX({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&t&&{dsn:ta(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]]));this.sendEnvelope(o)}recordDroppedEvent(e,t,r=1){if(this._options.sendClientReports){let n=`${e}:${t}`;U&&ef.log(`Recording outcome: "${n}"${r>1?` (${r} times)`:""}`),this._outcomes[n]=(this._outcomes[n]||0)+r}}on(e,t){let r=this._hooks[e]=this._hooks[e]||[];return r.push(t),()=>{let e=r.indexOf(t);e>-1&&r.splice(e,1)}}emit(e,...t){let r=this._hooks[e];r&&r.forEach(e=>e(...t))}sendEnvelope(e){return(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)?this._transport.send(e).then(null,e=>(U&&ef.error("Error while sending envelope:",e),e)):(U&&ef.error("Transport disabled"),t3({}))}_setupIntegrations(){var e;let t,{integrations:r}=this._options;this._integrations=(e=this,t={},r.forEach(r=>{r&&eQ(e,r,t)}),t),eX(this,r)}_updateSessionFromEvent(e,t){let r="fatal"===t.level,n=!1,i=t.exception?.values;if(i)for(let e of(n=!0,i)){let t=e.mechanism;if(t?.handled===!1){r=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&r)&&(eN(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new t4(t=>{let r=0,n=setInterval(()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,r,n){let i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s?.length&&(t.integrations=s),this.emit("preprocessEvent",e,t),e.type||n.setLastEventId(e.event_id||t.event_id),t7(i,e,t,r,this,n).then(e=>(null===e||(this.emit("postprocessEvent",e,t),e.contexts={trace:function(e){let{traceId:t,parentSpanId:r,propagationSpanId:n}=e.getPropagationContext(),i={trace_id:t,span_id:n||eP()};return r&&(i.parent_span_id=r),i}(r),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:tJ(this,r),...e.sdkProcessingMetadata}),e))}_captureEvent(e,t={},r=eK(),n=eV()){return U&&ru(e)&&ef.log(`Captured error event \`${eZ(e)[0]||"<unknown>"}\``),this._processEvent(e,t,r,n).then(e=>e.event_id,e=>{U&&(ro(e)?ef.log(e.message):ra(e)?ef.warn(e.message):ef.warn(e))})}_processEvent(e,t,r,n){let i=this.getOptions(),{sampleRate:s}=i,a=rc(e),o=ru(e),l=e.type||"error",u=`before send for type \`${l}\``,c=void 0===s?void 0:tM(s);if(o&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error"),t5(rs(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let d="replay_event"===l?"replay":l;return this._prepareEvent(e,t,r,n).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",d),rs("An event processor returned `null`, will not send event.");return t.data&&!0===t.data.__sentry__?e:function(e,t){let r=`${t} must return \`null\` or a valid event.`;if(et(e))return e.then(e=>{if(!Z(e)&&null!==e)throw ri(r);return e},e=>{throw ri(`${t} rejected with ${e}`)});if(!Z(e)&&null!==e)throw ri(r);return e}(function(e,t,r,n){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=t,o=r;if(ru(o)&&i)return i(o,n);if(rc(o)){if(a){let e=a(function(e){let{trace_id:t,parent_span_id:r,span_id:n,status:i,origin:s,data:a,op:o}=e.contexts?.trace??{};return{data:a??{},description:e.transaction,op:o,parent_span_id:r,span_id:n??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:a?.[t_],exclusive_time:a?.[tv],measurements:e.measurements,is_segment:!0}}(o));if(e)o=eL(r,{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[t_]:e.profile_id},...e.exclusive_time&&{[tv]:e.exclusive_time}}}},measurements:e.measurements});else tq();if(o.spans){let e=[];for(let t of o.spans){let r=a(t);r?e.push(r):(tq(),e.push(t))}o.spans=e}}if(s){if(o.spans){let e=o.spans.length;o.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(o,n)}}return o}(0,i,e,t),u)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",d),a){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw rs(`${u} returned \`null\`, will not send event.`)}let s=r.getSession()||n.getSession();if(o&&s&&this._updateSessionFromEvent(s,i),a){let e=(i.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}let l=i.transaction_info;return a&&l&&i.transaction!==e.transaction&&(i.transaction_info={...l,source:"custom"}),this.sendEvent(i,t),i}).then(null,e=>{if(ro(e)||ra(e))throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),ri(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[r,n]=e.split(":");return{reason:r,category:n,quantity:t}})}_flushOutcomes(){var e;U&&ef.log("Flushing outcomes...");let t=this._clearOutcomes();if(0===t.length){U&&ef.log("No outcomes to send");return}if(!this._dsn){U&&ef.log("No dsn provided, will not send outcomes");return}U&&ef.log("Sending outcomes:",t);let r=tX((e=this._options.tunnel&&ta(this._dsn))?{dsn:e}:{},[[{type:"client_report"},{timestamp:eR(),discarded_events:t}]]);this.sendEnvelope(r)}}function ru(e){return void 0===e.type}function rc(e){return"transaction"===e.type}function rd(e,t){var r,n,i,s;let a,o=t??(s=e,rp().get(s))??[];if(0===o.length)return;let l=e.getOptions(),u=(r=l._metadata,n=l.tunnel,i=e.getDsn(),a={},r?.sdk&&(a.sdk={name:r.sdk.name,version:r.sdk.version}),n&&i&&(a.dsn=ta(i)),tX(a,[[{type:"log",item_count:o.length,content_type:"application/vnd.sentry.items.log+json"},{items:o}]]));rp().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(u)}function rp(){return H("clientToLogBufferMap",()=>new WeakMap)}function rh(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function rf(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function rm(e,t){var r,n;let i,s,a=ry(e,t),o={type:(r=t,!(i=r?.name)&&rv(r)?r.message&&Array.isArray(r.message)&&2==r.message.length?r.message[0]:"WebAssembly.Exception":i),value:(n=t,s=n?.message,rv(n)?Array.isArray(n.message)&&2==n.message.length?n.message[1]:"wasm exception":s?s.error&&"string"==typeof s.error.message?s.error.message:s:"No error message")};return a.length&&(o.stacktrace={frames:a}),void 0===o.type&&""===o.value&&(o.value="Unrecoverable error caught"),o}function rg(e,t){return{exception:{values:[rm(e,t)]}}}function ry(e,t){var r,n;let i=t.stacktrace||t.stack||"",s=(r=t)&&r_.test(r.message)?1:0,a="number"==typeof(n=t).framesToPop?n.framesToPop:0;try{return e(i,s,a)}catch{}return[]}let r_=/Minified React error #\d+;/i;function rv(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function rb(e,t,r,n,i){let s;if(J(t)&&t.error)return rg(e,t.error);if(Y(t)||V(t,"DOMException")){if("stack"in t)s=rg(e,t);else{let i=t.name||(Y(t)?"DOMError":"DOMException"),a=t.message?`${i}: ${t.message}`:i;eC(s=rS(e,a,r,n),a)}return"code"in t&&(s.tags={...s.tags,"DOMException.code":`${t.code}`}),s}return K(t)?rg(e,t):(Z(t)||ee(t)?eM(s=function(e,t,r,n){let i=eY(),s=i?.getOptions().normalizeDepth,a=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let r=e[t];if(r instanceof Error)return r}}(t),o={__serialized__:function e(t,r=3,n=102400){let i=tG(t,r);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>n?e(t,r-1,n):i}(t,s)};if(a)return{exception:{values:[rm(e,a)]},extra:o};let l={exception:{values:[{type:ee(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let r=function(e,t=40){let r=Object.keys(ew(e));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return em(n,t);for(let e=r.length;e>0;e--){let n=r.slice(0,e).join(", ");if(!(n.length>t)){if(e===r.length)return n;return em(n,t)}}return""}(e),n=t?"promise rejection":"exception";if(J(e))return`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``;if(ee(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${n}`}return`Object captured as ${n} with keys: ${r}`}(t,{isUnhandledRejection:n})}]},extra:o};if(r){let t=ry(e,r);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}(e,t,r,i),{synthetic:!0}):(eC(s=rS(e,t,r,n),`${t}`,void 0),eM(s,{synthetic:!0})),s)}function rS(e,t,r,n){let i={};if(n&&r){let n=ry(e,r);n.length&&(i.exception={values:[{value:t,stacktrace:{frames:n}}]}),eM(i,{synthetic:!0})}if(X(t)){let{__sentry_template_string__:e,__sentry_template_values__:r}=t;return i.logentry={message:e,params:r},i}return i.message=t,i}function rw(e,t){return eK().captureException(e,function(e){if(e){var t;return(t=e)instanceof eU||"function"==typeof t||Object.keys(e).some(e=>t9.includes(e))?{captureContext:e}:e}}(t))}function rE(e,t){return eK().captureEvent(e,t)}function rk(e){var t;let r,n,i=eV(),s=eK(),{userAgent:a}=z.navigator||{},o=(t={user:s.getUser()||i.getUser(),...a&&{userAgent:a},...e},r=eA(),n={sid:ex(),init:!0,timestamp:r,started:r,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>{var e;return e=n,{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}},t&&eN(n,t),n),l=i.getSession();return l?.status==="ok"&&eN(l,{status:"exited"}),rx(),i.setSession(o),o}function rx(){let e,t=eV(),r=eK().getSession()||t.getSession();r&&(e={},"ok"===r.status&&(e={status:"exited"}),eN(r,e)),rT(),t.setSession()}function rT(){let e=eV(),t=eY(),r=e.getSession();r&&t&&t.captureSession(r)}function rI(e=!1){e?rx():rT()}let rC=0;function rM(e,t={}){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t)if("function"==typeof t)return t;else return e;if(eS(e))return e}catch{return e}let r=function(...r){try{let n=r.map(e=>rM(e,t));return e.apply(this,n)}catch(e){throw rC++,setTimeout(()=>{rC--}),eJ(n=>{n.addEventProcessor(e=>(t.mechanism&&(eC(e,void 0,void 0),eM(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),rw(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch{}eb(r,e),ev(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}function rO(){let e=ea(),{referrer:t}=z.document||{},{userAgent:r}=z.navigator||{};return{url:e,headers:{...t&&{Referer:t},...r&&{"User-Agent":r}}}}class rR extends rl{constructor(e){var t;const r=(t=e,{release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:z.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t});!function(e,t,r=[t],n="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:r.map(e=>({name:`${n}:@sentry/${e}`,version:F})),version:F}),e._metadata=i}(r,"browser",["browser"],z.SENTRY_SDK_SOURCE||"npm"),super(r);const{sendDefaultPii:n,sendClientReports:i,enableLogs:s,_experiments:a}=this._options,o=s??a?.enableLogs;z.document&&(i||o)&&z.document.addEventListener("visibilitychange",()=>{"hidden"===z.document.visibilityState&&(i&&this._flushOutcomes(),o&&rd(this))}),o&&(this.on("flush",()=>{rd(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{rd(this)},5e3)})),n&&(this.on("postprocessEvent",rh),this.on("beforeSendSession",rf))}eventFromException(e,t){var r,n;let i;return r=this._options.stackParser,n=this._options.attachStacktrace,eM(i=rb(r,e,t?.syntheticException||void 0,n)),i.level="error",t?.event_id&&(i.event_id=t.event_id),t3(i)}eventFromMessage(e,t="info",r){return function(e,t,r="info",n,i){let s=rS(e,t,n?.syntheticException||void 0,i);return s.level=r,n?.event_id&&(s.event_id=n.event_id),t3(s)}(this._options.stackParser,e,t,r,this._options.attachStacktrace)}_prepareEvent(e,t,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r,n)}}let rA={},rD={};function rN(e,t){rA[e]=rA[e]||[],rA[e].push(t)}function rL(e,t){if(!rD[e]){rD[e]=!0;try{t()}catch(t){U&&ef.error(`Error while instrumenting ${e}`,t)}}}function rP(e,t){let r=e&&rA[e];if(r)for(let n of r)try{n(t)}catch(t){U&&ef.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${e9(n)}
Error:`,t)}}function r$(){"console"in z&&el.forEach(function(e){e in z.console&&e_(z.console,e,function(t){return eu[e]=t,function(...t){rP("console",{args:t,level:e});let r=eu[e];r?.apply(z.console,t)}})})}function rj(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function rU(e,t){let r="fetch";rN(r,e),rL(r,()=>rF(void 0,t))}function rF(e,t=!1){(!t||function(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in z))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(rj(z.fetch))return!0;let e=!1,t=z.document;if(t&&"function"==typeof t.createElement)try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow?.fetch&&(e=rj(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){U&&ef.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}())&&e_(z,"fetch",function(t){return function(...r){let n=Error(),{method:i,url:s}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,r]=e;return{url:rH(t),method:rW(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:rH(t),method:rW(t,"method")?String(t.method).toUpperCase():"GET"}}(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:1e3*eA(),virtualError:n,headers:function(e){let[t,r]=e;try{if("object"==typeof r&&null!==r&&"headers"in r&&r.headers)return new Headers(r.headers);if(ei(t))return new Headers(t.headers)}catch{}}(r)};return e||rP("fetch",{...a}),t.apply(z,r).then(async t=>(e?e(t):rP("fetch",{...a,endTimestamp:1e3*eA(),response:t}),t),e=>{if(rP("fetch",{...a,endTimestamp:1e3*eA(),error:e}),K(e)&&void 0===e.stack&&(e.stack=n.stack,ev(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{let t=new URL(a.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})}async function rz(e,t){if(e?.body){let r=e.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},9e4),s=!0;for(;s;){let e;try{e=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:i}=await n.read();clearTimeout(e),i&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(e)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}function rB(e){let t;try{t=e.clone()}catch{return}rz(t,()=>{rP("fetch-body-resolved",{endTimestamp:1e3*eA(),response:e})})}function rW(e,t){return!!e&&"object"==typeof e&&!!e[t]}function rH(e){return"string"==typeof e?e:e?rW(e,"url")?e.url:e.toString?e.toString():"":""}function rq(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}function rK(e,t){let r=eY(),n=eV();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=100}=r.getOptions();if(s<=0)return;let a={timestamp:eR(),...e},o=i?ec(()=>i(a,t)):a;null!==o&&(r.emit&&r.emit("beforeAddBreadcrumb",o,t),n.addBreadcrumb(o,s))}function rV(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}function rJ(e){return"isRelative"in e}function rY(e,t){let r=0>=e.indexOf("://")&&0!==e.indexOf("//"),n=t??(r?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,n))return;let t=new URL(e,n);if(r)return{isRelative:r,pathname:t.pathname,search:t.search,hash:t.hash};return t}catch{}}function rG(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function rX(e){rN("dom",e),rL("dom",rQ)}function rQ(){if(!z.document)return;let e=rP.bind(null,"dom"),t=rZ(e,!0);z.document.addEventListener("click",t,!1),z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let r=z[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(e_(r,"addEventListener",function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{let n=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=n[r]=n[r]||{refCount:0};if(!s.handler){let n=rZ(e);s.handler=n,t.call(this,r,n,i)}s.refCount++}catch{}return t.call(this,r,n,i)}}),e_(r,"removeEventListener",function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{let r=this.__sentry_instrumentation_handlers__||{},i=r[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,n),i.handler=void 0,delete r[t]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return e.call(this,t,r,n)}}))})}function rZ(e,t=!1){return r=>{var n;if(!r||r._sentryCaptured)return;let i=function(e){try{return e.target}catch{return null}}(r);if(n=r.type,"keypress"===n&&(!i?.tagName||"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName&&!i.isContentEditable&&1))return;ev(r,"_sentryCaptured",!0),i&&!i._sentryId&&ev(i,"_sentryId",ex());let s="keypress"===r.type?"input":r.type;!function(e){if(e.type!==l)return!1;try{if(!e.target||e.target._sentryId!==u)return!1}catch{}return!0}(r)&&(e({event:r,name:s,global:t}),l=r.type,u=i?i._sentryId:void 0),clearTimeout(o),o=z.setTimeout(()=>{u=void 0,l=void 0},1e3)}}let r0="__sentry_xhr_v3__";function r1(e){rN("xhr",e),rL("xhr",r2)}function r2(){if(!z.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,r){let n=Error(),i=1e3*eA(),s=G(r[0])?r[0].toUpperCase():void 0,a=function(e){if(G(e))return e;try{return e.toString()}catch{}}(r[1]);if(!s||!a)return e.apply(t,r);t[r0]={method:s,url:a,request_headers:{}},"POST"===s&&a.match(/sentry_key/)&&(t.__sentry_own_request__=!0);let o=()=>{let e=t[r0];if(e&&4===t.readyState){try{e.status_code=t.status}catch{}rP("xhr",{endTimestamp:1e3*eA(),startTimestamp:i,xhr:t,virtualError:n})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,r)=>(o(),e.apply(t,r))}):t.addEventListener("readystatechange",o),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,r){let[n,i]=r,s=t[r0];return s&&G(n)&&G(i)&&(s.request_headers[n.toLowerCase()]=i),e.apply(t,r)}}),e.apply(t,r)}}),e.send=new Proxy(e.send,{apply(e,t,r){let n=t[r0];return n&&(void 0!==r[0]&&(n.body=r[0]),rP("xhr",{startTimestamp:1e3*eA(),xhr:t})),e.apply(t,r)}})}function r3(e){let t="history";rN(t,e),rL(t,r5)}function r5(){function e(e){return function(...t){let r=t.length>2?t[2]:void 0;if(r){let n=c,i=function(e){try{return new URL(e,z.location.origin).toString()}catch{return e}}(String(r));if(c=i,n===i)return e.apply(this,t);rP("history",{from:n,to:i})}return e.apply(this,t)}}z.addEventListener("popstate",()=>{let e=z.location.href,t=c;c=e,t===e||rP("history",{from:t,to:e})}),"history"in z&&z.history&&(e_(z.history,"pushState",e),e_(z.history,"replaceState",e))}let r4="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,r8=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];function r6(e){return function(...t){let r=t[0];return t[0]=rM(r,{mechanism:{data:{function:e9(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function r7(e){return function(t){return e.apply(this,[rM(t,{mechanism:{data:{function:"requestAnimationFrame",handler:e9(e)},handled:!1,type:"instrument"}})])}}function r9(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in r&&"function"==typeof r[e]&&e_(r,e,function(t){let r={mechanism:{data:{function:e,handler:e9(t)},handled:!1,type:"instrument"}},n=eS(t);return n&&(r.mechanism.data.handler=e9(n)),rM(t,r)})}),e.apply(this,t)}}let ne=null;function nt(e){let t="error";rN(t,e),rL(t,nr)}function nr(){ne=z.onerror,z.onerror=function(e,t,r,n,i){return rP("error",{column:n,error:i,line:r,msg:e,url:t}),!!ne&&ne.apply(this,arguments)},z.onerror.__SENTRY_INSTRUMENTED__=!0}let nn=null;function ni(e){let t="unhandledrejection";rN(t,e),rL(t,ns)}function ns(){nn=z.onunhandledrejection,z.onunhandledrejection=function(e){return rP("unhandledrejection",e),!nn||nn.apply(this,arguments)},z.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function na(e){r4&&ef.log(`Global Handler attached: ${e}`)}function no(){let e=eY();return e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function nl(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function nu(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function nc(e,t,r,n){let i={filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}let nd=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,np=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nh=/\((\S*)(?::(\d+))(?::(\d+))\)/,nf=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,nm=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ng=e8([30,e=>{let t=nd.exec(e);if(t){let[,e,r,n]=t;return nc(e,"?",+r,+n)}let r=np.exec(e);if(r){if(r[2]&&0===r[2].indexOf("eval")){let e=nh.exec(r[2]);e&&(r[2]=e[1],r[3]=e[2],r[4]=e[3])}let[e,t]=ny(r[1]||"?",r[2]);return nc(t,e,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{let t=nf.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=nm.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],r=t[1]||"?";return[r,e]=ny(r,e),nc(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),ny=(e,t)=>{let r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:"?",r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},n_=Symbol.for("SentryBufferFullError");function nv(e,t,r=Date.now()){return(e[t]||e.all||0)>r}function nb(e,{statusCode:t,headers:r},n=Date.now()){let i={...e},s=r?.["x-sentry-rate-limits"],a=r?.["retry-after"];if(s)for(let e of s.trim().split(",")){let[t,r,,,s]=e.split(":",5),a=parseInt(t,10),o=(isNaN(a)?60:a)*1e3;if(r)for(let e of r.split(";"))"metric_bucket"===e?(!s||s.split(";").includes("custom"))&&(i[e]=n+o):i[e]=n+o;else i.all=n+o}else a?i.all=n+function(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}(a,n):429===t&&(i.all=n+6e4);return i}let nS="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,nw={};function nE(e){let t=nw[e];if(t)return t;let r=z[e];if(rj(r))return nw[e]=r.bind(z);let n=z.document;if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i?.[e]&&(r=i[e]),n.head.removeChild(t)}catch(t){nS&&ef.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return r?nw[e]=r.bind(z):r}function nk(...e){return nE("setTimeout")(...e)}function nx(e,t=nE("fetch")){let r=0,n=0;return function(e,t,r=function(e){let t=[];function r(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return t5(n_);let i=n();return -1===t.indexOf(i)&&t.push(i),i.then(()=>r(i)).then(null,()=>r(i).then(null,()=>{})),i},drain:function(e){return new t4((r,n)=>{let i=t.length;if(!i)return r(!0);let s=setTimeout(()=>{e&&e>0&&r(!1)},e);t.forEach(e=>{t3(e).then(()=>{--i||(clearTimeout(s),r(!0))},n)})})}}}(e.bufferSize||64)){let n={};return{send:function(i){let s=[];if(tQ(i,(t,r)=>{let i=t0[r];nv(n,i)?e.recordDroppedEvent("ratelimit_backoff",i):s.push(t)}),0===s.length)return t3({});let a=tX(i[0],s),o=t=>{tQ(a,(r,n)=>{e.recordDroppedEvent(t,t0[n])})};return r.add(()=>t({body:function(e){let[t,r]=e,n=JSON.stringify(t);function i(e){"string"==typeof n?n="string"==typeof e?n+e:[tZ(n),e]:n.push("string"==typeof e?tZ(e):e)}for(let e of r){let[t,r]=e;if(i(`
${JSON.stringify(t)}
`),"string"==typeof r||r instanceof Uint8Array)i(r);else{let e;try{e=JSON.stringify(r)}catch{e=JSON.stringify(tG(r))}i(e)}}return"string"==typeof n?n:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}(n)}(a)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&U&&ef.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),n=nb(n,e),e),e=>{throw o("network_error"),U&&ef.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===n_)return U&&ef.error("Skipped sending event because buffer is full."),o("queue_overflow"),t3({});throw e})},flush:e=>r.drain(e)}}(e,function(i){let s=i.body.length;r+=s,n++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return nw.fetch=void 0,t5("No fetch implementation available");try{return t(e.url,a).then(e=>(r-=s,n--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return nw.fetch=void 0,r-=s,n--,t5(e)}})}class nT{constructor(e={}){this._traceId=e.traceId||ex(),this._spanId=e.spanId||eP()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}function nI(e){if(!e||0===e.length)return;let t={};return e.forEach(e=>{let r=e.attributes||{},n=r[tm],i=r[tg];"string"==typeof n&&"number"==typeof i&&(t[e.name]={value:i,unit:n})}),t}class nC{constructor(e={}){this._traceId=e.traceId||ex(),this._spanId=e.spanId||eP(),this._startTime=e.startTimestamp||eA(),this._links=e.links,this._attributes={},this.setAttributes({[th]:"manual",[tp]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:r}=this;return{spanId:e,traceId:t,traceFlags:+!!r}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=tN(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(tu,"custom"),this}end(e){this._endTime||(this._endTime=tN(e),function(e){if(!U)return;let{description:t="< unknown name >",op:r="< unknown op >"}=tP(e),{spanId:n}=e.spanContext(),i=tW(e)===e,s=`[Tracing] Finishing "${r}" ${i?"root ":""}span "${t}" with ID ${n}`;ef.log(s)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[tp],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:tj(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[th],profile_id:this._attributes[t_],exclusive_time:this._attributes[tv],measurements:nI(this._events),is_segment:this._isStandaloneSpan&&tW(this)===this||void 0,segment_id:this._isStandaloneSpan?tW(this).spanContext().spanId:void 0,links:tD(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,r){U&&ef.log("[Tracing] Adding an event to span:",e);let n=nM(t)?t:r||eA(),i=nM(t)?{}:t||{},s={name:e,time:tN(n),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=eY();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===tW(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){let t=eY();if(!t)return;let r=e[1];r&&0!==r.length?t.sendEnvelope(e):t.recordDroppedEvent("before_send","span")}(function(e,t){let r=tY(e[0]),n=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...!!r.trace_id&&!!r.public_key&&{trace:r},...!!i&&n&&{dsn:ta(n)}},a=t?.getOptions().beforeSendSpan,o=a?e=>{let t=tP(e),r=a(t);return r||(tq(),t)}:tP,l=[];for(let t of e){let e=o(t);e&&l.push([{type:"span"},e])}return tX(s,l)}([this],e)):(U&&ef.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));let t=this._convertSpanToTransaction();t&&(tC(this).scope||eK()).captureEvent(t)}_convertSpanToTransaction(){if(!nO(tP(this)))return;this._name||(U&&ef.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=tC(this),r=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(!0!==this._sampled)return;let n=tB(this).filter(e=>{var t;return e!==this&&!((t=e)instanceof nC&&t.isStandaloneSpan())}).map(e=>tP(e)).filter(nO),i=this._attributes[tu];delete this._attributes[ty],n.forEach(e=>{delete e.data[ty]});let s={contexts:{trace:function(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:i,parent_span_id:s,status:a,origin:o,links:l}=tP(e);return{parent_span_id:s,span_id:t,trace_id:r,data:n,op:i,status:a,origin:o,links:l}}(this)},spans:n.length>1e3?n.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):n,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:tY(this)},request:r,...i&&{transaction_info:{source:i}}},a=nI(this._events);return a&&Object.keys(a).length&&(U&&ef.log("[Measurements] Adding measurements to transaction event",JSON.stringify(a,void 0,2)),s.measurements=a),s}}function nM(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function nO(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}let nR="__SENTRY_SUPPRESS_TRACING__";function nA(e){let t=eq(B());if(t.startInactiveSpan)return t.startInactiveSpan(e);let r=nL(e),{forceTransaction:n,parentSpan:i}=e;return(e.scope?t=>eJ(e.scope,t):void 0!==i?e=>nD(i,e):e=>e())(()=>{let t=eK(),s=n$(t,i);return e.onlyIfParent&&!s?new nT:nN({parentSpan:s,spanArguments:r,forceTransaction:n,scope:t})})}function nD(e,t){let r=eq(B());return r.withActiveSpan?r.withActiveSpan(e,t):eJ(r=>(ej(r,e||void 0),t(r)))}function nN({parentSpan:e,spanArguments:t,forceTransaction:r,scope:n}){var i;let s;if(!tk()){let n=new nT;if(r||!e){let e={sampled:"false",sample_rate:"0",transaction:t.name,...tY(n)};ev(n,tK,e)}return n}let a=eV();if(e&&!r)s=function(e,t,r){let{spanId:n,traceId:i}=e.spanContext(),s=!t.getScopeData().sdkProcessingMetadata[nR]&&t$(e),a=s?new nC({...r,parentSpanId:n,traceId:i,sampled:s}):new nT({traceId:i});tz(e,a);let o=eY();return o&&(o.emit("spanStart",a),r.endTimestamp&&o.emit("spanEnd",a)),a}(e,n,t),tz(e,s);else if(e){let r=tY(e),{traceId:i,spanId:a}=e.spanContext(),o=t$(e);ev(s=nP({traceId:i,parentSpanId:a,...t},n,o),tK,r)}else{let{traceId:e,dsc:r,parentSpanId:i,sampled:o}={...a.getPropagationContext(),...n.getPropagationContext()};s=nP({traceId:e,parentSpanId:i,...t},n,o),r&&ev(s,tK,r)}return!function(e){if(!U)return;let{description:t="< unknown name >",op:r="< unknown op >",parent_span_id:n}=tP(e),{spanId:i}=e.spanContext(),s=t$(e),a=tW(e),o=a===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${o?"root ":""}span`,u=[`op: ${r}`,`name: ${t}`,`ID: ${i}`];if(n&&u.push(`parent ID: ${n}`),!o){let{op:e,description:t}=tP(a);u.push(`root ID: ${a.spanContext().spanId}`),e&&u.push(`root op: ${e}`),t&&u.push(`root description: ${t}`)}ef.log(`${l}
  ${u.join("\n  ")}`)}(s),(i=s)&&(ev(i,tI,a),ev(i,tT,n)),s}function nL(e){let t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...t};return r.startTimestamp=tN(e.startTime),delete r.startTime,r}return t}function nP(e,t,r){let n=eY(),i=n?.getOptions()||{},{name:s=""}=e,a={spanAttributes:{...e.attributes},spanName:s,parentSampled:r};n?.emit("beforeSampling",a,{decision:!1});let o=a.parentSampled??r,l=a.spanAttributes,u=t.getPropagationContext(),[c,d,p]=t.getScopeData().sdkProcessingMetadata[nR]?[!1]:function(e,t,r){let n,i;if(!tk(e))return[!1];"function"==typeof e.tracesSampler?(n=e.tracesSampler({...t,inheritOrSampleWith:e=>"number"==typeof t.parentSampleRate?t.parentSampleRate:"boolean"==typeof t.parentSampled?Number(t.parentSampled):e}),i=!0):void 0!==t.parentSampled?n=t.parentSampled:void 0!==e.tracesSampleRate&&(n=e.tracesSampleRate,i=!0);let s=tM(n);if(void 0===s)return U&&ef.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`),[!1];if(!s)return U&&ef.log(`[Tracing] Discarding transaction because ${"function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,i];let a=r<s;return!a&&U&&ef.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[a,s,i]}(i,{name:s,parentSampled:o,attributes:l,parentSampleRate:tM(u.dsc?.sample_rate)},u.sampleRand),h=new nC({...e,attributes:{[tu]:"custom",[tc]:void 0!==d&&p?d:void 0,...l},sampled:c});return!c&&n&&(U&&ef.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),n.recordDroppedEvent("sample_rate","transaction")),n&&n.emit("spanStart",h),h}function n$(e,t){if(t)return t;if(null===t)return;let r=e[e$];if(!r)return;let n=eY();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?tW(r):r}let nj={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function nU(e,t={}){let r,n,i=new Map,s=!1,a="externalFinish",o=!t.disableAutoFinish,l=[],{idleTimeout:u=nj.idleTimeout,finalTimeout:c=nj.finalTimeout,childSpanTimeout:d=nj.childSpanTimeout,beforeSpanEnd:p}=t,h=eY();if(!h||!tk()){let e=new nT,t={sample_rate:"0",sampled:"false",...tY(e)};return ev(e,tK,t),e}let f=eK(),m=tH(),g=(r=nA(e),ej(eK(),r),U&&ef.log("[Tracing] Started span is an idle span"),r);function y(){n&&(clearTimeout(n),n=void 0)}function _(e){y(),n=setTimeout(()=>{!s&&0===i.size&&o&&(a="idleTimeout",g.end(e))},u)}function v(e){n=setTimeout(()=>{!s&&o&&(a="heartbeatFailed",g.end(e))},d)}function b(e){s=!0,i.clear(),l.forEach(e=>e()),ej(f,m);let t=tP(g),{start_timestamp:r}=t;if(!r)return;t.data[tf]||g.setAttribute(tf,a),ef.log(`[Tracing] Idle span "${t.op}" finished`);let n=tB(g).filter(e=>e!==g),o=0;n.forEach(t=>{t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),U&&ef.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));let{timestamp:r=0,start_timestamp:n=0}=tP(t),i=n<=e,s=r-n<=(c+u)/1e3;if(U){let e=JSON.stringify(t,void 0,2);i?s||ef.log("[Tracing] Discarding span since it finished after idle span final timeout",e):ef.log("[Tracing] Discarding span since it happened after idle span was finished",e)}(!s||!i)&&(g[tU]&&g[tU].delete(t),o++)}),o>0&&g.setAttribute("sentry.idle_span_discarded_spans",o)}return g.end=new Proxy(g.end,{apply(e,t,r){if(p&&p(g),t instanceof nT)return;let[n,...i]=r,s=tN(n||eA()),a=tB(g).filter(e=>e!==g);if(!a.length)return b(s),Reflect.apply(e,t,[s,...i]);let o=a.map(e=>tP(e).timestamp).filter(e=>!!e),l=o.length?Math.max(...o):void 0,u=tP(g).start_timestamp,d=Math.min(u?u+c/1e3:1/0,Math.max(u||-1/0,Math.min(s,l||1/0)));return b(d),Reflect.apply(e,t,[d,...i])}}),l.push(h.on("spanStart",e=>{var t;!(s||e===g||tP(e).timestamp||e instanceof nC&&e.isStandaloneSpan())&&tB(g).includes(e)&&(t=e.spanContext().spanId,y(),i.set(t,!0),v(eA()+d/1e3))})),l.push(h.on("spanEnd",e=>{if(!s){var t;t=e.spanContext().spanId,i.has(t)&&i.delete(t),0===i.size&&_(eA()+u/1e3)}})),l.push(h.on("idleSpanEnableAutoFinish",e=>{e===g&&(o=!0,_(),i.size&&v())})),t.disableAutoFinish||_(),setTimeout(()=>{s||(g.setStatus({code:2,message:"deadline_exceeded"}),a="finalTimeout",g.end())},c),g}let nF=!1,nz=(e,t,r,n)=>{let i,s;return a=>{if(t.value>=0&&(a||n)&&((s=t.value-(i??0))||void 0===i)){var o;i=t.value,t.delta=s,o=t.value,t.rating=o>r[1]?"poor":o>r[0]?"needs-improvement":"good",e(t)}}},nB=(e=!0)=>{let t=z.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},nW=()=>{let e=nB();return e?.activationStart??0},nH=(e,t=-1)=>{let r=nB(),n="navigate";return r&&(z.document?.prerendering||nW()>0?n="prerender":z.document?.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,navigationType:n}},nq=new WeakMap;function nK(e,t){return nq.get(e)||nq.set(e,new t),nq.get(e)}class nV{constructor(){nV.prototype.__init.call(this),nV.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;let t=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&t&&r&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}let nJ=(e,t,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return n.observe({type:e,buffered:!0,...r}),n}}catch{}},nY=e=>{let t=!1;return()=>{t||(e(),t=!0)}},nG=-1,nX=e=>{"hidden"===z.document.visibilityState&&nG>-1&&(nG="visibilitychange"===e.type?e.timeStamp:0,nQ())},nQ=()=>{removeEventListener("visibilitychange",nX,!0),removeEventListener("prerenderingchange",nX,!0)},nZ=()=>{if(z.document&&nG<0){let e=nW();nG=(z.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime)??(z.document?.visibilityState!=="hidden"||z.document?.prerendering?1/0:0),addEventListener("visibilitychange",nX,!0),addEventListener("prerenderingchange",nX,!0)}return{get firstHiddenTime(){return nG}}},n0=e=>{z.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},n1=[1800,3e3],n2=[.1,.25],n3=e=>{let t=t=>{("pagehide"===t.type||z.document?.visibilityState==="hidden")&&e(t)};z.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},n5=[100,300],n4=0,n8=1/0,n6=0,n7=e=>{e.forEach(e=>{e.interactionId&&(n8=Math.min(n8,e.interactionId),n4=(n6=Math.max(n6,e.interactionId))?(n6-n8)/7+1:0)})},n9=()=>d?n4:performance.interactionCount||0,ie=0;class it{constructor(){it.prototype.__init.call(this),it.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){ie=n9(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let e=Math.min(this._longestInteractionList.length-1,Math.floor((n9()-ie)/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!(e.interactionId||"first-input"===e.entryType))return;let t=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(e.interactionId);if(r||this._longestInteractionList.length<10||e.duration>t._latency){if(r?e.duration>r._latency?(r.entries=[e],r._latency=e.duration):e.duration===r._latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e):(r={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((e,t)=>t._latency-e._latency),this._longestInteractionList.length>10)for(let e of this._longestInteractionList.splice(10))this._longestInteractionMap.delete(e.id);this._onAfterProcessingINPCandidate?.(r)}}}let ir=e=>{let t=z.requestIdleCallback||z.setTimeout;z.document?.visibilityState==="hidden"?e():(t(e=nY(e)),n3(e))},ii=[200,500];class is{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}let ia=[2500,4e3],io=[800,1800],il=e=>{z.document?.prerendering?n0(()=>il(e)):z.document?.readyState!=="complete"?addEventListener("load",()=>il(e),!0):setTimeout(e)},iu={},ic={};function id(e,t=!1){return iE("cls",e,i_,p,t)}function ip(e,t=!1){return iE("lcp",e,ib,f,t)}function ih(e){return iE("fid",e,iv,h)}function im(e){return iE("inp",e,iw,g)}function ig(e,t){var r;let n;return ik(e,t),ic[e]||(n={},"event"===(r=e)&&(n.durationThreshold=0),nJ(r,e=>{iy(r,{entries:e})},n),ic[e]=!0),ix(e,t)}function iy(e,t){let r=iu[e];if(r?.length)for(let n of r)try{n(t)}catch(t){nS&&ef.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${e9(n)}
Error:`,t)}}function i_(){return((e,t={})=>{((e,t={})=>{n0(()=>{let r,n=nZ(),i=nH("FCP"),s=nJ("paint",e=>{for(let t of e)"first-contentful-paint"===t.name&&(s.disconnect(),t.startTime<n.firstHiddenTime&&(i.value=Math.max(t.startTime-nW(),0),i.entries.push(t),r(!0)))});s&&(r=nz(e,i,n1,t.reportAllChanges))})})(nY(()=>{let r,n=nH("CLS",0),i=nK(t,nV),s=e=>{for(let t of e)i._processEntry(t);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},a=nJ("layout-shift",s);a&&(r=nz(e,n,n2,t.reportAllChanges),z.document?.addEventListener("visibilitychange",()=>{z.document?.visibilityState==="hidden"&&(s(a.takeRecords()),r(!0))}),z?.setTimeout?.(r))}))})(e=>{iy("cls",{metric:e}),p=e},{reportAllChanges:!0})}function iv(){return((e,t={})=>{n0(()=>{let r,n=nZ(),i=nH("FID"),s=e=>{e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},a=e=>{e.forEach(s)},o=nJ("first-input",a);r=nz(e,i,n5,t.reportAllChanges),o&&n3(nY(()=>{a(o.takeRecords()),o.disconnect()}))})})(e=>{iy("fid",{metric:e}),h=e})}function ib(){return((e,t={})=>{n0(()=>{let r,n=nZ(),i=nH("LCP"),s=nK(t,is),a=e=>{for(let a of(t.reportAllChanges||(e=e.slice(-1)),e))s._processEntry(a),a.startTime<n.firstHiddenTime&&(i.value=Math.max(a.startTime-nW(),0),i.entries=[a],r())},o=nJ("largest-contentful-paint",a);if(o){r=nz(e,i,ia,t.reportAllChanges);let n=nY(()=>{a(o.takeRecords()),o.disconnect(),r(!0)});for(let e of["keydown","click","visibilitychange"])z.document&&addEventListener(e,()=>ir(n),{capture:!0,once:!0})}})})(e=>{iy("lcp",{metric:e}),f=e},{reportAllChanges:!0})}function iS(){return((e,t={})=>{let r=nH("TTFB"),n=nz(e,r,io,t.reportAllChanges);il(()=>{let e=nB();e&&(r.value=Math.max(e.responseStart-nW(),0),r.entries=[e],n(!0))})})(e=>{iy("ttfb",{metric:e}),m=e})}function iw(){return((e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&n0(()=>{let r;"interactionCount"in performance||d||(d=nJ("event",n7,{type:"event",buffered:!0,durationThreshold:0}));let n=nH("INP"),i=nK(t,it),s=e=>{ir(()=>{for(let t of e)i._processEntry(t);let t=i._estimateP98LongestInteraction();t&&t._latency!==n.value&&(n.value=t._latency,n.entries=t.entries,r())})},a=nJ("event",s,{durationThreshold:t.durationThreshold??40});r=nz(e,n,ii,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n3(()=>{s(a.takeRecords()),r(!0)}))})})(e=>{iy("inp",{metric:e}),g=e})}function iE(e,t,r,n,i=!1){let s;return ik(e,t),ic[e]||(s=r(),ic[e]=!0),n&&t({metric:n}),ix(e,t,i?s:void 0)}function ik(e,t){iu[e]=iu[e]||[],iu[e].push(t)}function ix(e,t,r){return()=>{r&&r();let n=iu[e];if(!n)return;let i=n.indexOf(t);-1!==i&&n.splice(i,1)}}function iT(e){return"number"==typeof e&&isFinite(e)}function iI(e,t,r,{...n}){let i=tP(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),nD(e,()=>{let e=nA({startTime:t,...n});return e&&e.end(r),e})}function iC(e){let t,r=eY();if(!r)return;let{name:n,transaction:i,attributes:s,startTime:a}=e,{release:o,environment:l,sendDefaultPii:u}=r.getOptions(),c=r.getIntegrationByName("Replay"),d=c?.getReplayId(),p=eK(),h=p.getUser(),f=void 0!==h?h.email||h.id||h.ip_address:void 0;try{t=p.getScopeData().contexts.profile.profile_id}catch{}return nA({name:n,attributes:{release:o,environment:l,user:f||void 0,profile_id:t||void 0,replay_id:d||void 0,transaction:i,"user_agent.original":z.navigator?.userAgent,"client.address":u?"{{auto}}":void 0,...s},startTime:a,experimental:{standalone:!0}})}function iM(){return z.addEventListener&&z.performance}function iO(e){return e/1e3}function iR(e){let t="unknown",r="unknown",n="";for(let i of e){if("/"===i){[t,r]=e.split("/");break}if(!isNaN(Number(i))){t="h"===n?"http":n,r=e.split(n)[1];break}n+=i}return n===e&&(t=n),{name:t,version:r}}function iA(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function iD(e,t){let r,n=!1;function i(e){!n&&r&&t(e,r),n=!0}n3(()=>{i("pagehide")});let s=e.on("beforeStartNavigationSpan",(e,t)=>{t?.isRedirect||(i("navigation"),s?.(),a?.())}),a=e.on("afterStartPageLoadSpan",e=>{r=e.spanContext().spanId,a?.()})}let iN=[],iL=new Map,iP={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},i$=({metric:e})=>{if(void 0==e.value)return;let t=iO(e.value);if(t>60)return;let r=e.entries.find(t=>t.duration===e.value&&iP[t.name]);if(!r)return;let{interactionId:n}=r,i=iP[r.name],s=iO(eD()+r.startTime),a=tH(),o=a?tW(a):void 0,l=(null!=n?iL.get(n):void 0)||o,u=l?tP(l).description:eK().getScopeData().transactionName,c=iC({name:es(r.target),transaction:u,attributes:{[th]:"auto.http.browser.inp",[tp]:`ui.interaction.${i}`,[tv]:r.duration},startTime:s});c&&(c.addEvent("inp",{[tm]:"millisecond",[tg]:e.value}),c.end(s+t))},ij=0,iU={};function iF(e,t,r,n,i=r){var s;let a=t["secureConnection"===(s=r)?"connectEnd":"fetch"===s?"domainLookupStart":`${s}End`],o=t[`${r}Start`];o&&a&&iI(e,n+iO(o),n+iO(a),{op:`browser.${i}`,name:t.name,attributes:{[th]:"auto.ui.browser.metrics",..."redirect"===r&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{}}})}function iz(e,t,r,n){let i=t[r];null!=i&&i<0x7fffffff&&(e[n]=i)}let iB=({entries:e})=>{let t=tH(),r=t?tW(t):void 0,n=r?tP(r).description:eK().getScopeData().transactionName;e.forEach(e=>{if(!e.identifier)return;let t=e.name,r=e.renderTime,i=e.loadTime,[s,a]=i?[iO(i),"load-time"]:r?[iO(r),"render-time"]:[eA(),"entry-emission"],o="image-paint"===t?iO(Math.max(0,(r??0)-(i??0))):0,l={[th]:"auto.ui.browser.elementtiming",[tp]:"ui.elementtiming",[tu]:"component","sentry.span_start_time_source":a,"sentry.transaction_name":n,"element.id":e.id,"element.type":e.element?.tagName?.toLowerCase()||"unknown","element.size":e.naturalWidth&&e.naturalHeight?`${e.naturalWidth}x${e.naturalHeight}`:void 0,"element.render_time":r,"element.load_time":i,"element.url":e.url||void 0,"element.identifier":e.identifier,"element.paint_type":t};!function(e,t){let r=eq(B());if(r.startSpan)return r.startSpan(e,t);let n=nL(e),{forceTransaction:i,parentSpan:s,scope:a}=e;eJ(a?.clone(),()=>{var r;return(void 0!==(r=s)?e=>nD(r,e):e=>e())(()=>{let r=eK(),a=n$(r,s),o=e.onlyIfParent&&!a?new nT:nN({parentSpan:a,spanArguments:n,forceTransaction:i,scope:r});return ej(r,o),function(e,t,r=()=>{}){var n,i,s;let a;try{a=e()}catch(e){throw t(e),r(),e}return n=a,i=t,s=r,et(n)?n.then(e=>(s(),e),e=>{throw i(e),s(),e}):(s(),n)}(()=>t(o),()=>{let{status:e}=tP(o);o.isRecording()&&(!e||"ok"===e)&&o.setStatus({code:2,message:"internal_error"})},()=>{o.end()})})})}({name:`element[${e.identifier}]`,attributes:l,startTime:s,onlyIfParent:!0},e=>{e.end(s+o)})})},iW="sentry_previous_trace";function iH(e){return 1===e.traceFlags}function iq(e={}){let t,r=e.client||eY();if(t=eY(),!(t?.getOptions().enabled!==!1&&t?.getTransport())||!r)return{};let n=eq(B());if(n.getTraceData)return n.getTraceData(e);let i=e.scope||eK(),s=e.span||tH(),a=s?function(e){let{traceId:t,spanId:r}=e.spanContext();return tR(t,r,t$(e))}(s):function(e){let{traceId:t,sampled:r,propagationSpanId:n}=e.getPropagationContext();return tR(t,n,r)}(i),o=function(e){if(e){var t=Object.entries(e).reduce((e,[t,r])=>(r&&(e[`${tb}${t}`]=r),e),{});return 0!==Object.keys(t).length?Object.entries(t).reduce((e,[t,r],n)=>{let i=`${encodeURIComponent(t)}=${encodeURIComponent(r)}`,s=0===n?i:`${e},${i}`;return s.length>8192?(U&&ef.warn(`Not adding key: ${t} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):s},""):void 0}}(s?tY(s):tJ(r,i));return tO.test(a)?{"sentry-trace":a,baggage:o}:(ef.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function iK(e){return e.split(",").some(e=>e.trim().startsWith(tb))}function iV(e=0){return((eD()||performance.timeOrigin)+e)/1e3}let iJ=new WeakMap,iY=new Map,iG={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function iX(e){let{url:t}=tP(e).data;if(!t||"string"!=typeof t)return;let r=ig("resource",({entries:n})=>{n.forEach(n=>{"resource"===n.entryType&&"initiatorType"in n&&"string"==typeof n.nextHopProtocol&&("fetch"===n.initiatorType||"xmlhttprequest"===n.initiatorType)&&n.name.endsWith(t)&&((function(e){let t=[];if(void 0!=e.nextHopProtocol){let{name:r,version:n}=iR(e.nextHopProtocol);t.push(["network.protocol.version",n],["network.protocol.name",r])}return eD()?[...t,["http.request.redirect_start",iV(e.redirectStart)],["http.request.fetch_start",iV(e.fetchStart)],["http.request.domain_lookup_start",iV(e.domainLookupStart)],["http.request.domain_lookup_end",iV(e.domainLookupEnd)],["http.request.connect_start",iV(e.connectStart)],["http.request.secure_connection_start",iV(e.secureConnectionStart)],["http.request.connection_end",iV(e.connectEnd)],["http.request.request_start",iV(e.requestStart)],["http.request.response_start",iV(e.responseStart)],["http.request.response_end",iV(e.responseEnd)]]:t})(n).forEach(t=>e.setAttribute(...t)),setTimeout(r))})})}function iQ(e){try{return new URL(e,z.location.origin).href}catch{return}}let iZ={...nj,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...iG};function i0(e){let t=z.document,r=t?.querySelector(`meta[name=${e}]`);return r?.getAttribute("content")||void 0}let i1="_sentry_idleSpan";function i2(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function i3(){let e;return"undefined"!=typeof window&&(!(!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call(void 0!==j.default?j.default:0))||(e=z.process,e?.type==="renderer"))}function i5(e){return new URLSearchParams(e).toString()}function i4(e,t=ef){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[i5(e)];if(!e)return[void 0]}catch(r){return nS&&t.error(r,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return nS&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function i8(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}let i6="sentryReplaySession",i7="Unable to send Replay";var i9=Object.defineProperty,se=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?i9(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r},st=((M=st||{})[M.Document=0]="Document",M[M.DocumentType=1]="DocumentType",M[M.Element=2]="Element",M[M.Text=3]="Text",M[M.CDATA=4]="CDATA",M[M.Comment=5]="Comment",M);function sr(e){let t=e?.host;return t?.shadowRoot===e}function sn(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function si(e){try{var t;let r=e.rules||e.cssRules;return r?((t=Array.from(r,ss).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}}function ss(e){let t;if("styleSheet"in e)try{t=si(e.styleSheet)||function(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let r=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}(e)}catch(e){}else if("selectorText"in e){let t=e.cssText,r=e.selectorText.includes(":"),n="string"==typeof e.style.all&&e.style.all;if(n&&(t=function(e){let t="";for(let r=0;r<e.style.length;r++){let n=e.style,i=n[r],s=n.getPropertyPriority(i);t+=`${i}:${n.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}(e)),r&&(t=t.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),r||n)return t}return t||e.cssText}class sa{constructor(){se(this,"idNodeMap",new Map),se(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){let r=this.getNode(e);if(r){let e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function so({maskInputOptions:e,tagName:t,type:r}){return"OPTION"===t&&(t="SELECT"),!!(e[t.toLowerCase()]||r&&e[r]||"password"===r||"INPUT"===t&&!r&&e.text)}function sl({isMasked:e,element:t,value:r,maskInputFn:n}){let i=r||"";return e?(n&&(i=n(i,t)),"*".repeat(i.length)):i}function su(e){return e.toLowerCase()}function sc(e){return e.toUpperCase()}let sd="__rrweb_original__";function sp(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?su(t):null}function sh(e,t,r){return"INPUT"===t&&("radio"===r||"checkbox"===r)?e.getAttribute("value")||"":e.value}function sf(e,t){let r;try{r=new URL(e,t??window.location.href)}catch(e){return null}let n=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return n?.[1]??null}let sm={};function sg(e){let t=sm[e];if(t)return t;let r=window.document,n=window[e];if(r&&"function"==typeof r.createElement)try{let t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(e){}return sm[e]=n.bind(window)}function sy(...e){return sg("setTimeout")(...e)}function s_(...e){return sg("clearTimeout")(...e)}function sv(e){try{return e.contentDocument}catch(e){}}let sb=1,sS=RegExp("[^a-z0-9-_:]");function sw(){return sb++}let sE=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,sk=/^(?:[a-z+]+:)?\/\//i,sx=/^www\..*/i,sT=/^(data:)([^,]*),(.*)/i;function sI(e,t){return(e||"").replace(sE,(e,r,n,i,s,a)=>{let o=n||s||a,l=r||i||"";if(!o)return e;if(sk.test(o)||sx.test(o)||sT.test(o))return`url(${l}${o}${l})`;if("/"===o[0])return`url(${l}${(t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]+o}${l})`;let u=t.split("/"),c=o.split("/");for(let e of(u.pop(),c))if("."===e)continue;else".."===e?u.pop():u.push(e);return`url(${l}${u.join("/")}${l})`})}let sC=/^[^ \t\n\r\u000c]+/,sM=/^[, \t\n\r\u000c]+/,sO=new WeakMap;function sR(e,t){return t&&""!==t.trim()?sA(e,t):t}function sA(e,t){let r=sO.get(e);if(r||(r=e.createElement("a"),sO.set(e,r)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return r.setAttribute("href",t),r.href}function sD(e,t,r,n,i,s){if(!n)return n;if("src"===r||"href"===r&&("use"!==t||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0])return sR(e,n);if("background"===r&&("table"===t||"td"===t||"th"===t))return sR(e,n);if("srcset"===r)return function(e,t){if(""===t.trim())return t;let r=0;function n(e){let n,i=e.exec(t.substring(r));return i?(n=i[0],r+=n.length,n):""}let i=[];for(;n(sM),!(r>=t.length);){let s=n(sC);if(","===s.slice(-1))s=sR(e,s.substring(0,s.length-1)),i.push(s);else{let n="";s=sR(e,s);let a=!1;for(;;){let e=t.charAt(r);if(""===e){i.push((s+n).trim());break}if(a)")"===e&&(a=!1);else if(","===e){r+=1,i.push((s+n).trim());break}else"("===e&&(a=!0);n+=e,r+=1}}}return i.join(", ")}(e,n);if("style"===r)return sI(n,sA(e));else if("object"===t&&"data"===r)return sR(e,n);return"function"==typeof s?s(r,n,i):n}function sN(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function sL(e,t,r,n){try{if(n&&e.matches(n))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}if(r)return e.matches(r)}catch(e){}return!1}function sP(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:sP(e.parentNode,t,r,n+1)}function s$(e,t){return r=>{if(null===r)return!1;try{if(e){if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}(r,e))return!0}if(t&&r.matches(t))return!0;return!1}catch{return!1}}}function sj(e,t,r,n,i,s){try{let a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){let e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let o=-1,l=-1;if(s){if((l=sP(a,s$(n,i)))<0)return!0;o=sP(a,s$(t,r),l>=0?l:1/0)}else{if((o=sP(a,s$(t,r)))<0)return!1;l=sP(a,s$(n,i),o>=0?o:1/0)}return o>=0?!(l>=0)||o<=l:!(l>=0)&&!!s}catch(e){}return!!s}function sU(e){return null==e?"":e.toLowerCase()}function sF(e,t){let r,{doc:n,mirror:i,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:p,skipChild:h=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:w={},inlineImages:E=!1,recordCanvas:k=!1,onSerialize:x,onIframeLoad:T,iframeLoadTimeout:I=5e3,onStylesheetLoad:C,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:O=()=>!1,newlyAddedElement:R=!1}=t,{preserveWhiteSpace:A=!0}=t,D=function(e,t){let{doc:r,mirror:n,blockClass:i,blockSelector:s,unblockSelector:a,maskAllText:o,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:_,recordCanvas:S,keepIframeSrcFn:w,newlyAddedElement:E=!1}=t,k=function(e,t){if(!t.hasNode(e))return;let r=t.getId(e);return 1===r?void 0:r}(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:st.Document,childNodes:[],compatMode:e.compatMode};return{type:st.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:st.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return function(e,t){let r,{doc:n,blockClass:i,blockSelector:s,unblockSelector:a,inlineStylesheet:o,maskInputOptions:l={},maskAttributeFn:u,maskInputFn:c,dataURLOptions:d={},inlineImages:p,recordCanvas:h,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:g,maskTextClass:y,unmaskTextClass:_,maskTextSelector:S,unmaskTextSelector:w}=t,E=sL(e,i,s,a),k=function(e){if(e instanceof HTMLFormElement)return"form";let t=su(e.tagName);return sS.test(t)?"div":t}(e),x={},T=e.attributes.length;for(let t=0;t<T;t++){let r=e.attributes[t];r.name&&!sN(k,r.name,r.value)&&(x[r.name]=sD(n,k,su(r.name),r.value,e,u))}if("link"===k&&o){let t=Array.from(n.styleSheets).find(t=>t.href===e.href),r=null;t&&(r=si(t)),r&&(x.rel=null,x.href=null,x.crossorigin=null,x._cssText=sI(r,t.href))}if("style"===k&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let t=si(e.sheet);t&&(x._cssText=sI(t,sA(n)))}if("input"===k||"textarea"===k||"select"===k||"option"===k){let t=sp(e),r=sh(e,sc(k),t),n=e.checked;if("submit"!==t&&"button"!==t&&r){let n=sj(e,y,S,_,w,so({type:t,tagName:sc(k),maskInputOptions:l}));x.value=sl({isMasked:n,element:e,value:r,maskInputFn:c})}n&&(x.checked=n)}if("option"===k&&(e.selected&&!l.select?x.selected=!0:delete x.selected),"canvas"===k&&h){if("2d"===e.__context)!function(e){let t=e.getContext("2d");if(!t)return!0;for(let r=0;r<e.width;r+=50)for(let n=0;n<e.height;n+=50){let i=t.getImageData;if(new Uint32Array((sd in i?i[sd]:i).call(t,r,n,Math.min(50,e.width-r),Math.min(50,e.height-n)).data.buffer).some(e=>0!==e))return!1}return!0}(e)&&(x.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let t=e.toDataURL(d.type,d.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height,t!==r.toDataURL(d.type,d.quality)&&(x.rr_dataURL=t)}}if("img"===k&&p){v||(b=(v=n.createElement("canvas")).getContext("2d"));let t=e.currentSrc||e.getAttribute("src")||"<unknown-src>",r=e.crossOrigin,i=()=>{e.removeEventListener("load",i);try{v.width=e.naturalWidth,v.height=e.naturalHeight,b.drawImage(e,0,0),x.rr_dataURL=v.toDataURL(d.type,d.quality)}catch(r){if("anonymous"!==e.crossOrigin){e.crossOrigin="anonymous",e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i);return}console.warn(`Cannot inline img src=${t}! Error: ${r}`)}"anonymous"===e.crossOrigin&&(r?x.crossOrigin=r:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i)}if(("audio"===k||"video"===k)&&(x.rr_mediaState=e.paused?"paused":"played",x.rr_mediaCurrentTime=e.currentTime),!m&&(e.scrollLeft&&(x.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(x.rr_scrollTop=e.scrollTop)),E){let{width:t,height:r}=e.getBoundingClientRect();x={class:x.class,rr_width:`${t}px`,rr_height:`${r}px`}}"iframe"!==k||f(x.src)||(E||sv(e)||(x.rr_src=x.src),delete x.src);try{customElements.get(k)&&(r=!0)}catch(e){}return{type:st.Element,tagName:k,attributes:x,childNodes:[],isSVG:!!("svg"===e.tagName||e.ownerSVGElement)||void 0,needBlock:E,rootId:g,isCustom:r}}(e,{doc:r,blockClass:i,blockSelector:s,unblockSelector:a,inlineStylesheet:h,maskAttributeFn:l,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:_,recordCanvas:S,keepIframeSrcFn:w,newlyAddedElement:E,rootId:k,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){let{maskAllText:r,maskTextClass:n,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:a,maskTextFn:o,maskInputOptions:l,maskInputFn:u,rootId:c}=t,d=e.parentNode&&e.parentNode.tagName,p=e.textContent,h="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(h&&p){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(p=si(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=sI(p,sA(t.doc))}f&&(p="SCRIPT_PLACEHOLDER");let g=sj(e,n,s,i,a,r);return h||f||m||!p||!g||(p=o?o(p,e.parentElement):p.replace(/[\S]/g,"*")),m&&p&&(l.textarea||g)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),"OPTION"===d&&p&&(p=sl({isMasked:sj(e,n,s,i,a,so({type:null,tagName:d,maskInputOptions:l})),element:e,value:p,maskInputFn:u})),{type:st.Text,textContent:p||"",isStyle:h,rootId:c}}(e,{doc:r,maskAllText:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:k});case e.CDATA_SECTION_NODE:return{type:st.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:st.Comment,textContent:e.textContent||"",rootId:k};default:return!1}}(e,{doc:n,mirror:i,blockClass:s,blockSelector:a,maskAllText:l,unblockSelector:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,dataURLOptions:w,inlineImages:E,recordCanvas:k,keepIframeSrcFn:O,newlyAddedElement:R});if(!D)return console.warn(e,"not serialized"),null;r=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===st.Comment)return!0;if(e.type===st.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===sf(e.attributes.href)))return!0;else if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(sU(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===sU(e.attributes.name)||"icon"===sU(e.attributes.rel)||"apple-touch-icon"===sU(e.attributes.rel)||"shortcut icon"===sU(e.attributes.rel))))return!0;else if("meta"===e.tagName){if(t.headMetaDescKeywords&&sU(e.attributes.name).match(/^description|keywords$/))return!0;else if(t.headMetaSocial&&(sU(e.attributes.property).match(/^(og|twitter|fb):/)||sU(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===sU(e.attributes.name)))return!0;else if(t.headMetaRobots&&("robots"===sU(e.attributes.name)||"googlebot"===sU(e.attributes.name)||"bingbot"===sU(e.attributes.name)))return!0;else if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===sU(e.attributes.name)||"generator"===sU(e.attributes.name)||"framework"===sU(e.attributes.name)||"publisher"===sU(e.attributes.name)||"progid"===sU(e.attributes.name)||sU(e.attributes.property).match(/^article:/)||sU(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===sU(e.attributes.name)||"yandex-verification"===sU(e.attributes.name)||"csrf-token"===sU(e.attributes.name)||"p:domain_verify"===sU(e.attributes.name)||"verify-v1"===sU(e.attributes.name)||"verification"===sU(e.attributes.name)||"shopify-checkout-api-token"===sU(e.attributes.name)))return!0}}return!1}(D,S)&&(A||D.type!==st.Text||D.isStyle||D.textContent.replace(/^\s+|\s+$/gm,"").length)?sw():-2;let N=Object.assign(D,{id:r});if(i.add(e,N),-2===r)return null;x&&x(e);let L=!h;if(N.type===st.Element){L=L&&!N.needBlock,delete N.needBlock;let t=e.shadowRoot;t&&sn(t)&&(N.isShadowHost=!0)}if((N.type===st.Document||N.type===st.Element)&&L){S.headWhitespace&&N.type===st.Element&&"head"===N.tagName&&(A=!1);let t={doc:n,mirror:i,blockClass:s,blockSelector:a,maskAllText:l,unblockSelector:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:p,skipChild:h,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:w,inlineImages:E,recordCanvas:k,preserveWhiteSpace:A,onSerialize:x,onIframeLoad:T,iframeLoadTimeout:I,onStylesheetLoad:C,stylesheetLoadTimeout:M,keepIframeSrcFn:O};for(let r of Array.from(e.childNodes)){let e=sF(r,t);e&&N.childNodes.push(e)}if(e.nodeType===e.ELEMENT_NODE&&e.shadowRoot)for(let r of Array.from(e.shadowRoot.childNodes)){let n=sF(r,t);n&&(sn(e.shadowRoot)&&(n.isShadow=!0),N.childNodes.push(n))}}return e.parentNode&&sr(e.parentNode)&&sn(e.parentNode)&&(N.isShadow=!0),N.type!==st.Element||"iframe"!==N.tagName||sL(e,s,a,o)||function(e,t,r){let n,i=e.contentWindow;if(!i)return;let s=!1;try{n=i.document.readyState}catch(e){return}if("complete"!==n){let n=sy(()=>{s||(t(),s=!0)},r);e.addEventListener("load",()=>{s_(n),s=!0,t()});return}let a="about:blank";if(i.location.href!==a||e.src===a||""===e.src)return sy(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{let t=sv(e);if(t&&T){let r=sF(t,{doc:t,mirror:i,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:w,inlineImages:E,recordCanvas:k,preserveWhiteSpace:A,onSerialize:x,onIframeLoad:T,iframeLoadTimeout:I,onStylesheetLoad:C,stylesheetLoadTimeout:M,keepIframeSrcFn:O});r&&T(e,r)}},I),N.type===st.Element&&"link"===N.tagName&&"string"==typeof N.attributes.rel&&("stylesheet"===N.attributes.rel||"preload"===N.attributes.rel&&"string"==typeof N.attributes.href&&"css"===sf(N.attributes.href))&&function(e,t,r){let n,i=!1;try{n=e.sheet}catch(e){return}if(n)return;let s=sy(()=>{i||(t(),i=!0)},r);e.addEventListener("load",()=>{s_(s),i=!0,t()})}(e,()=>{if(C){let t=sF(e,{doc:n,mirror:i,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:w,inlineImages:E,recordCanvas:k,preserveWhiteSpace:A,onSerialize:x,onIframeLoad:T,iframeLoadTimeout:I,onStylesheetLoad:C,stylesheetLoadTimeout:M,keepIframeSrcFn:O});t&&C(e,t)}},M),N}function sz(e,t,r=document){let n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}let sB="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",sW={map:{},getId:()=>(console.error(sB),-1),getNode:()=>(console.error(sB),null),removeNodeFromMap(){console.error(sB)},has:()=>(console.error(sB),!1),reset(){console.error(sB)}};function sH(e,t,r={}){let n=null,i=0;return function(...s){let a=Date.now();i||!1!==r.leading||(i=a);let o=t-(a-i),l=this;o<=0||o>t?(n&&(function(...e){s6("clearTimeout")(...e)}(n),n=null),i=a,e.apply(l,s)):n||!1===r.trailing||(n=s7(()=>{i=!1===r.leading?0:Date.now(),n=null,e.apply(l,s)},o))}}function sq(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],i=r(n);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(sW=new Proxy(sW,{get:(e,t,r)=>("map"===t&&console.error(sB),Reflect.get(e,t,r))}));let sK=Date.now;function sV(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function sJ(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function sY(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function sG(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(e){return null}}function sX(e,t,r,n,i){if(!e)return!1;let s=sG(e);if(!s)return!1;let a=s$(t,r);if(!i){let e=n&&s.matches(n);return a(s)&&!e}let o=sP(s,a),l=-1;return!(o<0)&&(n&&(l=sP(s,s$(null,n))),o>-1&&l<0||o<l)}function sQ(e,t){return -2===t.getId(e)}function sZ(e){return!!e.changedTouches}function s0(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function s1(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function s2(e){return!!e?.shadowRoot}/[1-9][0-9]{12}/.test(Date.now().toString())||(sK=()=>new Date().getTime());class s3{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){let r;return this.has(e)?this.getId(e):(r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function s5(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function s4(e){let t=e.ownerDocument;return!!t&&(t.contains(e)||function(e){let t=e.ownerDocument;if(!t)return!1;let r=function(e){let t,r=e;for(;t=s5(r);)r=t;return r}(e);return t.contains(r)}(e))}let s8={};function s6(e){let t=s8[e];if(t)return t;let r=window.document,n=window[e];if(r&&"function"==typeof r.createElement)try{let t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(e){}return s8[e]=n.bind(window)}function s7(...e){return s6("setTimeout")(...e)}var s9=((O=s9||{})[O.DomContentLoaded=0]="DomContentLoaded",O[O.Load=1]="Load",O[O.FullSnapshot=2]="FullSnapshot",O[O.IncrementalSnapshot=3]="IncrementalSnapshot",O[O.Meta=4]="Meta",O[O.Custom=5]="Custom",O[O.Plugin=6]="Plugin",O),ae=((R=ae||{})[R.Mutation=0]="Mutation",R[R.MouseMove=1]="MouseMove",R[R.MouseInteraction=2]="MouseInteraction",R[R.Scroll=3]="Scroll",R[R.ViewportResize=4]="ViewportResize",R[R.Input=5]="Input",R[R.TouchMove=6]="TouchMove",R[R.MediaInteraction=7]="MediaInteraction",R[R.StyleSheetRule=8]="StyleSheetRule",R[R.CanvasMutation=9]="CanvasMutation",R[R.Font=10]="Font",R[R.Log=11]="Log",R[R.Drag=12]="Drag",R[R.StyleDeclaration=13]="StyleDeclaration",R[R.Selection=14]="Selection",R[R.AdoptedStyleSheet=15]="AdoptedStyleSheet",R[R.CustomElement=16]="CustomElement",R),at=((A=at||{})[A.MouseUp=0]="MouseUp",A[A.MouseDown=1]="MouseDown",A[A.Click=2]="Click",A[A.ContextMenu=3]="ContextMenu",A[A.DblClick=4]="DblClick",A[A.Focus=5]="Focus",A[A.Blur=6]="Blur",A[A.TouchStart=7]="TouchStart",A[A.TouchMove_Departed=8]="TouchMove_Departed",A[A.TouchEnd=9]="TouchEnd",A[A.TouchCancel=10]="TouchCancel",A),ar=((D=ar||{})[D.Mouse=0]="Mouse",D[D.Pen=1]="Pen",D[D.Touch=2]="Touch",D),an=((N=an||{})[N.Play=0]="Play",N[N.Pause=1]="Pause",N[N.Seeked=2]="Seeked",N[N.VolumeChange=3]="VolumeChange",N[N.RateChange=4]="RateChange",N);function ai(e){try{return e.contentDocument}catch(e){}}class as{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let r=0;r<e;r++)t=t?.next||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){let r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){let r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}let aa=(e,t)=>`${e}@${t}`;class ao{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,r=new as,n=e=>{let t=e,r=-2;for(;-2===r;)r=(t=t&&t.nextSibling)&&this.mirror.getId(t);return r},i=i=>{if(!i.parentNode||!s4(i))return;let s=sr(i.parentNode)?this.mirror.getId(s5(i)):this.mirror.getId(i.parentNode),a=n(i);if(-1===s||-1===a)return r.addNode(i);let o=sF(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{s0(e,this.mirror)&&!sX(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),s1(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),s2(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{sX(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});o&&(e.push({parentId:s,nextId:a,node:o}),t.add(o.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let e of this.movedSet)(!au(this.removes,e,this.mirror)||this.movedSet.has(e.parentNode))&&i(e);for(let e of this.addedSet)ac(this.droppedSet,e)||au(this.removes,e,this.mirror)?ac(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let s=null;for(;r.length;){let e=null;if(s){let t=this.mirror.getId(s.value.parentNode),r=n(s.value);-1!==t&&-1!==r&&(e=s)}if(!e){let t=r.tail;for(;t;){let r=t;if(t=t.previous,r){let t=this.mirror.getId(r.value.parentNode);if(-1===n(r.value))continue;if(-1!==t){e=r;break}{let t=r.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let n=t.parentNode.host;if(-1!==this.mirror.getId(n)){e=r;break}}}}}}if(!e){for(;r.head;)r.removeNode(r.head.value);break}s=e.previous,r.removeNode(e.value),i(e.value)}let a={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{let{attributes:t}=e;if("string"==typeof t.style){let r=JSON.stringify(e.styleDiff),n=JSON.stringify(e._unchangedStyles);r.length<t.style.length&&(r+n).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!sQ(e.target,this.mirror))switch(e.type){case"characterData":{let t=e.target.textContent;sX(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:sj(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,sG(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,r=e.attributeName,n=e.target.getAttribute(r);if("value"===r){let r=sp(t),i=t.tagName;n=sh(t,i,r);let s=so({maskInputOptions:this.maskInputOptions,tagName:i,type:r});n=sl({isMasked:sj(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:t,value:n,maskInputFn:this.maskInputFn})}if(sX(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||n===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===r&&!this.keepIframeSrcFn(n)){if(ai(t))return;r="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===r&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!sN(t.tagName,r)&&(i.attributes[r]=sD(this.doc,su(t.tagName),su(r),n,t,this.maskAttributeFn),"style"===r)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}let r=this.unattachedDoc.createElement("span");for(let n of(e.oldValue&&r.setAttribute("style",e.oldValue),Array.from(t.style))){let e=t.style.getPropertyValue(n),s=t.style.getPropertyPriority(n);e!==r.style.getPropertyValue(n)||s!==r.style.getPropertyPriority(n)?""===s?i.styleDiff[n]=e:i.styleDiff[n]=[e,s]:i._unchangedStyles[n]=[e,s]}for(let e of Array.from(r.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(sX(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let r=this.mirror.getId(t),n=sr(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);sX(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||sQ(t,this.mirror)||-1===this.mirror.getId(t)||(this.addedSet.has(t)?(al(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===r||function e(t,r){if(sr(t))return!1;let n=r.getId(t);return!r.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,r))}(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[aa(r,n)]?al(this.movedSet,t):this.removes.push({parentId:n,id:r,isShadow:!!(sr(e.target)&&sn(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(sQ(e,this.mirror))return;this.movedSet.add(e);let r=null;t&&this.mirror.hasNode(t)&&(r=this.mirror.getId(t)),r&&-1!==r&&(this.movedMap[aa(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);!sX(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(e.childNodes.forEach(e=>this.genAdds(e)),s2(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function al(e,t){e.delete(t),t.childNodes.forEach(t=>al(e,t))}function au(e,t,r){return 0!==e.length&&function(e,t,r){let n=t.parentNode;for(;n;){let t=r.getId(n);if(e.some(e=>e.id===t))return!0;n=n.parentNode}return!1}(e,t,r)}function ac(e,t){return 0!==e.size&&function e(t,r){let{parentNode:n}=r;return!!n&&(!!t.has(n)||e(t,n))}(e,t)}let ad=e=>S?(...t)=>{try{return e(...t)}catch(e){if(S&&!0===S(e))return()=>{};throw e}}:e,ap=[];function ah(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function af(e,t){let r=new ao;ap.push(r),r.init(e);let n=window.MutationObserver||window.__rrMutationObserver,i=window?.Zone?.__symbol__?.("MutationObserver");i&&window[i]&&(n=window[i]);let s=new n(ad(t=>{e.onMutation&&!1===e.onMutation(t)||r.processMutations.bind(r)(t)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function am({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,sampling:a}){return sz("scroll",ad(sH(ad(a=>{let o=ah(a);if(!o||sX(o,n,i,s,!0))return;let l=r.getId(o);if(o===t&&t.defaultView){let r=sV(t.defaultView);e({id:l,x:r.left,y:r.top})}else e({id:l,x:o.scrollLeft,y:o.scrollTop})}),a.scroll||100)),t)}let ag=["INPUT","TEXTAREA","SELECT"],ay=new WeakMap;function a_(e){var t=[];if(aw("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||aw("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||aw("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||aw("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){let r=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(r)}else if(e.parentStyleSheet){let r=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(r)}return t}function av(e,t,r){let n,i;return e?(e.ownerNode?n=t.getId(e.ownerNode):i=r.getId(e),{styleId:i,id:n}):{}}function ab({mirror:e,stylesheetManager:t},r){let n=null;n="#document"===r.nodeName?e.getId(r):e.getId(r.host);let i="#document"===r.nodeName?r.defaultView?.Document:r.ownerDocument?.defaultView?.ShadowRoot,s=i?.prototype?Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets"):void 0;return null!==n&&-1!==n&&i&&s?(Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return s.get?.call(this)},set(e){let r=s.set?.call(this,e);if(null!==n&&-1!==n)try{t.adoptStyleSheets(e,n)}catch(e){}return r}}),ad(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})})):()=>{}}function aS(e,t={}){let r,n=e.doc.defaultView;if(!n)return()=>{};e.recordDOM&&(r=af(e,e.doc));let i=function({mousemoveCb:e,sampling:t,doc:r,mirror:n}){let i;if(!1===t.mousemove)return()=>{};let s="number"==typeof t.mousemove?t.mousemove:50,a="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500,o=[],l=sH(ad(t=>{let r=Date.now()-i;e(o.map(e=>(e.timeOffset-=r,e)),t),o=[],i=null}),a),u=ad(sH(ad(e=>{let t=ah(e),{clientX:r,clientY:s}=sZ(e)?e.changedTouches[0]:e;i||(i=sK()),o.push({x:r,y:s,id:n.getId(t),timeOffset:sK()-i}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?ae.Drag:e instanceof MouseEvent?ae.MouseMove:ae.TouchMove)}),s,{trailing:!1})),c=[sz("mousemove",u,r),sz("touchmove",u,r),sz("drag",u,r)];return ad(()=>{c.forEach(e=>e())})}(e),s=function({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,sampling:a}){if(!1===a.mouseInteraction)return()=>{};let o=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,l=[],u=null;return Object.keys(at).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==o[e]).forEach(a=>{let o=su(a),c=t=>{let o=ah(t);if(sX(o,n,i,s,!0))return;let l=null,c=a;if("pointerType"in t){switch(t.pointerType){case"mouse":l=ar.Mouse;break;case"touch":l=ar.Touch;break;case"pen":l=ar.Pen}l===ar.Touch?at[a]===at.MouseDown?c="TouchStart":at[a]===at.MouseUp&&(c="TouchEnd"):ar.Pen}else sZ(t)&&(l=ar.Touch);null!==l?(u=l,(c.startsWith("Touch")&&l===ar.Touch||c.startsWith("Mouse")&&l===ar.Mouse)&&(l=null)):at[a]===at.Click&&(l=u,u=null);let d=sZ(t)?t.changedTouches[0]:t;if(!d)return;let p=r.getId(o),{clientX:h,clientY:f}=d;ad(e)({type:at[c],id:p,x:h,y:f,...null!==l&&{pointerType:l}})};if(window.PointerEvent)switch(at[a]){case at.MouseDown:case at.MouseUp:o=o.replace("mouse","pointer");break;case at.TouchStart:case at.TouchEnd:return}l.push(sz(o,c,t))}),ad(()=>{l.forEach(e=>e())})}(e),a=am(e),o=function({viewportResizeCb:e},{win:t}){let r=-1,n=-1;return sz("resize",ad(sH(ad(()=>{let t=sJ(),i=sY();(r!==t||n!==i)&&(e({width:Number(i),height:Number(t)}),r=t,n=i)}),200)),t)}(e,{win:n}),l=function({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,ignoreClass:a,ignoreSelector:o,maskInputOptions:l,maskInputFn:u,sampling:c,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m}){function g(e){let r=ah(e),c=e.isTrusted,g=r&&sc(r.tagName);if("OPTION"===g&&(r=r.parentElement),!r||!g||0>ag.indexOf(g)||sX(r,n,i,s,!0))return;let _=r;if(_.classList.contains(a)||o&&_.matches(o))return;let v=sp(r),b=sh(_,g,v),S=!1,w=so({maskInputOptions:l,tagName:g,type:v}),E=sj(r,p,f,h,m,w);("radio"===v||"checkbox"===v)&&(S=r.checked),b=sl({isMasked:E,element:r,value:b,maskInputFn:u}),y(r,d?{text:b,isChecked:S,userTriggered:c}:{text:b,isChecked:S});let k=r.name;"radio"===v&&k&&S&&t.querySelectorAll(`input[type="radio"][name="${k}"]`).forEach(e=>{if(e!==r){let t=sl({isMasked:E,element:e,value:sh(e,g,v),maskInputFn:u});y(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}})}function y(t,n){let i=ay.get(t);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){ay.set(t,n);let i=r.getId(t);ad(e)({...n,id:i})}}let _=("last"===c.input?["change"]:["input","change"]).map(e=>sz(e,ad(g),t)),v=t.defaultView;if(!v)return()=>{_.forEach(e=>e())};let b=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),S=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&_.push(...S.map(e=>(function e(t,r,n,i,s=window){let a=s.Object.getOwnPropertyDescriptor(t,r);return s.Object.defineProperty(t,r,i?n:{set(e){s7(()=>{n.set.call(this,e)},0),a&&a.set&&a.set.call(this,e)}}),()=>e(t,r,a||{},!0)})(e[0],e[1],{set(){ad(g)({target:this,isTrusted:!1})}},!1,v))),ad(()=>{_.forEach(e=>e())})}(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:r,unblockSelector:n,mirror:i,sampling:s,doc:a}){let o=ad(a=>sH(ad(s=>{let o=ah(s);if(!o||sX(o,t,r,n,!0))return;let{currentTime:l,volume:u,muted:c,playbackRate:d}=o;e({type:a,id:i.getId(o),currentTime:l,volume:u,muted:c,playbackRate:d})}),s.media||500)),l=[sz("play",o(an.Play),a),sz("pause",o(an.Pause),a),sz("seeked",o(an.Seeked),a),sz("volumechange",o(an.VolumeChange),a),sz("ratechange",o(an.RateChange),a)];return ad(()=>{l.forEach(e=>e())})}(e),c=()=>{},d=()=>{},p=()=>{},h=()=>{};e.recordDOM&&(c=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){let i,s;if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};let a=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:ad((n,i,s)=>{let[a,o]=s,{id:l,styleId:u}=av(i,t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:a,index:o}]}),n.apply(i,s)})});let o=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:ad((n,i,s)=>{let[a]=s,{id:o,styleId:l}=av(i,t,r.styleMirror);return(o&&-1!==o||l&&-1!==l)&&e({id:o,styleId:l,removes:[{index:a}]}),n.apply(i,s)})}),n.CSSStyleSheet.prototype.replace&&(i=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:ad((n,i,s)=>{let[a]=s,{id:o,styleId:l}=av(i,t,r.styleMirror);return(o&&-1!==o||l&&-1!==l)&&e({id:o,styleId:l,replace:a}),n.apply(i,s)})})),n.CSSStyleSheet.prototype.replaceSync&&(s=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:ad((n,i,s)=>{let[a]=s,{id:o,styleId:l}=av(i,t,r.styleMirror);return(o&&-1!==o||l&&-1!==l)&&e({id:o,styleId:l,replaceSync:a}),n.apply(i,s)})}));let l={};aE("CSSGroupingRule")?l.CSSGroupingRule=n.CSSGroupingRule:(aE("CSSMediaRule")&&(l.CSSMediaRule=n.CSSMediaRule),aE("CSSConditionRule")&&(l.CSSConditionRule=n.CSSConditionRule),aE("CSSSupportsRule")&&(l.CSSSupportsRule=n.CSSSupportsRule));let u={};return Object.entries(l).forEach(([n,i])=>{u[n]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[n].insertRule,{apply:ad((n,i,s)=>{let[a,o]=s,{id:l,styleId:u}=av(i.parentStyleSheet,t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:a,index:[...a_(i),o||0]}]}),n.apply(i,s)})}),i.prototype.deleteRule=new Proxy(u[n].deleteRule,{apply:ad((n,i,s)=>{let[a]=s,{id:o,styleId:l}=av(i.parentStyleSheet,t,r.styleMirror);return(o&&-1!==o||l&&-1!==l)&&e({id:o,styleId:l,removes:[{index:[...a_(i),a]}]}),n.apply(i,s)})})}),ad(()=>{n.CSSStyleSheet.prototype.insertRule=a,n.CSSStyleSheet.prototype.deleteRule=o,i&&(n.CSSStyleSheet.prototype.replace=i),s&&(n.CSSStyleSheet.prototype.replaceSync=s),Object.entries(l).forEach(([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule})})}(e,{win:n}),d=ab(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:i}){let s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:ad((i,a,o)=>{let[l,u,c]=o;if(r.has(l))return s.apply(a,[l,u,c]);let{id:d,styleId:p}=av(a.parentRule?.parentStyleSheet,t,n.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:l,value:u,priority:c},index:a_(a.parentRule)}),i.apply(a,o)})});let a=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:ad((i,s,o)=>{let[l]=o;if(r.has(l))return a.apply(s,[l]);let{id:u,styleId:c}=av(s.parentRule?.parentStyleSheet,t,n.styleMirror);return(u&&-1!==u||c&&-1!==c)&&e({id:u,styleId:c,remove:{property:l},index:a_(s.parentRule)}),i.apply(s,o)})}),ad(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=a})}(e,{win:n}),e.collectFonts&&(h=function({fontCb:e,doc:t}){let r=t.defaultView;if(!r)return()=>{};let n=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(e,t,r){let n=new s(e,t,r);return i.set(n,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),n};let a=sq(t.fonts,"add",function(t){return function(r){return s7(ad(()=>{let t=i.get(r);t&&(e(t),i.delete(r))}),0),t.apply(this,[r])}});return n.push(()=>{r.FontFace=s}),n.push(a),ad(()=>{n.forEach(e=>e())})}(e)));let f=function(e){let{doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,selectionCb:a}=e,o=!0,l=ad(()=>{let e=t.getSelection();if(!e||o&&e?.isCollapsed)return;o=e.isCollapsed||!1;let l=[],u=e.rangeCount||0;for(let t=0;t<u;t++){let{startContainer:a,startOffset:o,endContainer:u,endOffset:c}=e.getRangeAt(t);sX(a,n,i,s,!0)||sX(u,n,i,s,!0)||l.push({start:r.getId(a),startOffset:o,end:r.getId(u),endOffset:c})}a({ranges:l})});return l(),sz("selectionchange",l)}(e),m=function({doc:e,customElementCb:t}){let r=e.defaultView;return r&&r.customElements?sq(r.customElements,"define",function(e){return function(r,n,i){try{t({define:{name:r}})}catch(e){}return e.apply(this,[r,n,i])}}):()=>{}}(e),g=[];for(let t of e.plugins)g.push(t.observer(t.callback,n,t.options));return ad(()=>{ap.forEach(e=>e.reset()),r?.disconnect(),i(),s(),a(),o(),l(),u(),c(),d(),p(),h(),f(),m(),g.forEach(e=>e())})}function aw(e){return void 0!==window[e]}function aE(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ak{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,r,n){let i=r||this.getIdToRemoteIdMap(e),s=n||this.getRemoteIdToIdMap(e),a=i.get(t);return a||(a=this.generateIdFn(),i.set(t,a),s.set(a,t)),a}getIds(e,t){let r=this.getIdToRemoteIdMap(e),n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,r,n))}getRemoteId(e,t,r){let n=r||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;let i=n.get(t);return i||-1}getRemoteIds(e,t){let r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class ax{constructor(){this.crossOriginIframeMirror=new ak(sw),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class aT{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ak(sw),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ak(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);let r=ai(e);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(e){if("rrweb"!==e.data.type||e.origin!==e.data.origin||!e.source)return;let t=this.crossOriginIframeMap.get(e.source);if(!t)return;let r=this.transformCrossOriginEvent(t,e.data.event);r&&this.wrappedEmit(r,e.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case s9.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:s9.IncrementalSnapshot,data:{source:ae.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case s9.Meta:case s9.Load:case s9.DomContentLoaded:break;case s9.Plugin:return t;case s9.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case s9.IncrementalSnapshot:switch(t.data.source){case ae.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(t.node,r)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case ae.Drag:case ae.TouchMove:case ae.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case ae.ViewportResize:return!1;case ae.MediaInteraction:case ae.MouseInteraction:case ae.Scroll:case ae.CanvasMutation:case ae.Input:return this.replaceIds(t.data,e,["id"]),t;case ae.StyleSheetRule:case ae.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case ae.Font:return t;case ae.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case ae.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t.data.styles?.forEach(t=>{this.replaceStyleIds(t,e,["styleId"])}),t}}return!1}replace(e,t,r,n){for(let i of n)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(r,t[i]):t[i]=e.getId(r,t[i]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===st.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class aI{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class aC{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!sn(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);let r=af({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(am({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),s7(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(ab({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){let t=ai(e),r=function(e){try{return e.contentWindow}catch(e){}}(e);t&&r&&this.patchAttachShadow(r.Element,t)}patchAttachShadow(e,t){let r=this;this.restoreHandlers.push(sq(e.prototype,"attachShadow",function(e){return function(n){let i=e.call(this,n);return this.shadowRoot&&s4(this)&&r.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var aM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aO="undefined"==typeof Uint8Array?[]:new Uint8Array(256),aR=0;aR<aM.length;aR++)aO[aM.charCodeAt(aR)]=aR;class aA{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class aD{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new s3,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;let r={id:t,styleIds:[]},n=[];for(let t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),n.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,t)=>({rule:ss(e),index:t}))})),r.styleIds.push(e)}n.length>0&&(r.styles=n),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class aN{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){let r=this.nodeMap.get(e);return r&&Array.from(r).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,function(...e){s6("requestAnimationFrame")(...e)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}try{if(2!==Array.from([1],e=>2*e)[0]){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}let aL=new sa;function aP(e={}){let t,{emit:r,checkoutEveryNms:n,checkoutEveryNth:i,blockClass:s="rr-block",blockSelector:a=null,unblockSelector:o=null,ignoreClass:l="rr-ignore",ignoreSelector:u=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:p=null,maskTextSelector:h=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:_,maskAttributeFn:v,maskInputFn:b,maskTextFn:k,maxCanvasSize:x=null,packFn:T,sampling:I={},dataURLOptions:C={},mousemoveWait:M,recordDOM:O=!0,recordCanvas:R=!1,recordCrossOriginIframes:A=!1,recordAfter:D="DOMContentLoaded"===e.recordAfter?e.recordAfter:"load",userTriggeredOnInput:N=!1,collectFonts:L=!1,inlineImages:P=!1,plugins:$,keepIframeSrcFn:j=()=>!1,ignoreCSSAttributes:U=new Set([]),errorHandler:F,onMutation:z,getCanvasManager:B}=e;S=F;let W=!A||window.parent===window,H=!1;if(!W)try{window.parent.document&&(H=!1)}catch(e){H=!0}if(W&&!r)throw Error("emit function is required");if(!W&&!H)return()=>{};void 0!==M&&void 0===I.mousemove&&(I.mousemove=M),aL.reset();let q=!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==y?y:{},K=!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===_,headMetaDescKeywords:"all"===_}:_||{};!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw TypeError("1 argument is required");do if(this===t)return!0;while(t=t&&t.parentNode)return!1})}();let V=0,J=e=>{for(let t of $||[])t.eventProcessor&&(e=t.eventProcessor(e));return T&&!H&&(e=T(e)),e};w=(e,s)=>{if(e.timestamp=sK(),ap[0]?.isFrozen()&&e.type!==s9.FullSnapshot&&(e.type!==s9.IncrementalSnapshot||e.data.source!==ae.Mutation)&&ap.forEach(e=>e.unfreeze()),W)r?.(J(e),s);else if(H){let t={type:"rrweb",event:J(e),origin:window.location.origin,isCheckout:s};window.parent.postMessage(t,"*")}if(e.type===s9.FullSnapshot)t=e,V=0;else if(e.type===s9.IncrementalSnapshot){if(e.data.source===ae.Mutation&&e.data.isAttachIframe)return;V++;let r=i&&V>=i,s=n&&t&&e.timestamp-t.timestamp>n;(r||s)&&en(!0)}};let Y=e=>{w({type:s9.IncrementalSnapshot,data:{source:ae.Mutation,...e}})},G=e=>w({type:s9.IncrementalSnapshot,data:{source:ae.Scroll,...e}}),X=e=>w({type:s9.IncrementalSnapshot,data:{source:ae.CanvasMutation,...e}}),Q=new aD({mutationCb:Y,adoptedStyleSheetCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.AdoptedStyleSheet,...e}})}),Z="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new ax:new aT({mirror:aL,mutationCb:Y,stylesheetManager:Q,recordCrossOriginIframes:A,wrappedEmit:w});for(let e of $||[])e.getMirror&&e.getMirror({nodeMirror:aL,crossOriginIframeMirror:Z.crossOriginIframeMirror,crossOriginIframeStyleMirror:Z.crossOriginIframeStyleMirror});let ee=new aN,et=function(e,t){try{return e?e(t):new aA}catch{return console.warn("Unable to initialize CanvasManager"),new aA}}(B,{mirror:aL,win:window,mutationCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.CanvasMutation,...e}}),recordCanvas:R,blockClass:s,blockSelector:a,unblockSelector:o,maxCanvasSize:x,sampling:I.canvas,dataURLOptions:C,errorHandler:F}),er="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new aI:new aC({mutationCb:Y,scrollCb:G,bypassOptions:{onMutation:z,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:q,dataURLOptions:C,maskAttributeFn:v,maskTextFn:k,maskInputFn:b,recordCanvas:R,inlineImages:P,sampling:I,slimDOMOptions:K,iframeManager:Z,stylesheetManager:Q,canvasManager:et,keepIframeSrcFn:j,processedNodeManager:ee},mirror:aL}),en=(e=!1)=>{if(!O)return;w({type:s9.Meta,data:{href:window.location.href,width:sY(),height:sJ()}},e),Q.reset(),er.init(),ap.forEach(e=>e.lock());let t=function(e,t){let{mirror:r=new sa,blockClass:n="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:a=!1,maskTextClass:o="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:c=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:_=!1,dataURLOptions:v,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:k,stylesheetLoadTimeout:x,keepIframeSrcFn:T=()=>!1}=t||{};return sF(e,{doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:o,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:v,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:k,stylesheetLoadTimeout:x,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:aL,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:q,maskAttributeFn:v,maskInputFn:b,maskTextFn:k,slimDOM:K,dataURLOptions:C,recordCanvas:R,inlineImages:P,onSerialize:e=>{s0(e,aL)&&Z.addIframe(e),s1(e,aL)&&Q.trackLinkElement(e),s2(e)&&er.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{Z.attachIframe(e,t),e.contentWindow&&et.addWindow(e.contentWindow),er.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Q.attachLinkElement(e,t)},keepIframeSrcFn:j});if(!t)return console.warn("Failed to snapshot the document");w({type:s9.FullSnapshot,data:{node:t,initialOffset:sV(window)}}),ap.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Q.adoptStyleSheets(document.adoptedStyleSheets,aL.getId(document))};E=en;try{let e=[],t=e=>ad(aS)({onMutation:z,mutationCb:Y,mousemoveCb:(e,t)=>w({type:s9.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.MouseInteraction,...e}}),scrollCb:G,viewportResizeCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.ViewportResize,...e}}),inputCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.Input,...e}}),mediaInteractionCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.MediaInteraction,...e}}),styleSheetRuleCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.StyleSheetRule,...e}}),styleDeclarationCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.StyleDeclaration,...e}}),canvasMutationCb:X,fontCb:e=>w({type:s9.IncrementalSnapshot,data:{source:ae.Font,...e}}),selectionCb:e=>{w({type:s9.IncrementalSnapshot,data:{source:ae.Selection,...e}})},customElementCb:e=>{w({type:s9.IncrementalSnapshot,data:{source:ae.CustomElement,...e}})},blockClass:s,ignoreClass:l,ignoreSelector:u,maskAllText:c,maskTextClass:d,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:f,maskInputOptions:q,inlineStylesheet:m,sampling:I,recordDOM:O,recordCanvas:R,inlineImages:P,userTriggeredOnInput:N,collectFonts:L,doc:e,maskAttributeFn:v,maskInputFn:b,maskTextFn:k,keepIframeSrcFn:j,blockSelector:a,unblockSelector:o,slimDOMOptions:K,dataURLOptions:C,mirror:aL,iframeManager:Z,stylesheetManager:Q,shadowDomManager:er,processedNodeManager:ee,canvasManager:et,ignoreCSSAttributes:U,plugins:$?.filter(e=>e.observer)?.map(e=>({observer:e.observer,options:e.options,callback:t=>w({type:s9.Plugin,data:{plugin:e.name,payload:t}})}))||[]},{});Z.addLoadListener(r=>{try{e.push(t(r.contentDocument))}catch(e){console.warn(e)}});let r=()=>{en(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?r():(e.push(sz("DOMContentLoaded",()=>{w({type:s9.DomContentLoaded,data:{}}),"DOMContentLoaded"===D&&r()})),e.push(sz("load",()=>{w({type:s9.Load,data:{}}),"load"===D&&r()},window))),()=>{e.forEach(e=>e()),ee.destroy(),E=void 0,S=void 0}}catch(e){console.warn(e)}}function a$(e){return e>0x2540be3ff?e:1e3*e}function aj(e){return e>0x2540be3ff?e/1e3:e}function aU(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:s9.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:tG(t,10,1e3)}}),"console"===t.category)))}function aF(e){return e.closest("button,a")||e}function az(e){let t=aB(e);return t&&t instanceof Element?aF(t):t}function aB(e){var t;return"object"==typeof(t=e)&&t&&"target"in t?e.target:e}aP.mirror=aL,aP.takeFullSnapshot=function(e){if(!E)throw Error("please take full snapshot after start recording");E(e)},(L=$||($={}))[L.NotStarted=0]="NotStarted",L[L.Running=1]="Running",L[L.Stopped=2]="Stopped";let aW=new Set([ae.Mutation,ae.StyleSheetRule,ae.StyleDeclaration,ae.AdoptedStyleSheet,ae.CanvasMutation,ae.Selection,ae.MediaInteraction]);class aH{constructor(e,t,r=aU){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){var e;let t=(e=()=>{this._lastMutation=aK()},k||(k=[],e_(z,"open",function(e){return function(...t){if(k)try{k.forEach(e=>e())}catch{}return e.apply(z,t)}})),k.push(e),()=>{let t=k?k.indexOf(e):-1;t>-1&&k.splice(t,1)});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){var r,n,i;if(r=t,n=this._ignoreSelector,!aq.includes(r.tagName)||"INPUT"===r.tagName&&!["submit","button"].includes(r.getAttribute("type")||"")||"A"===r.tagName&&(r.hasAttribute("download")||r.hasAttribute("target")&&"_self"!==r.getAttribute("target"))||n&&r.matches(n)||!((i=e).data&&"number"==typeof i.data.nodeId&&i.timestamp))return;let s={timestamp:aj(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===s.node&&1>Math.abs(e.timestamp-s.timestamp))||(this._clicks.push(s),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=aj(e)}registerScroll(e=Date.now()){this._lastScroll=aj(e)}registerClick(e){let t=aF(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=aK();for(let r of(this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=t&&e.push(r)}),e)){let e=this._clicks.indexOf(r);e>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,n=e.mutationAfter&&e.mutationAfter<=this._threshold,{clickCount:i,clickBreadcrumb:s}=e;if(!r&&!n){let r=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),n=r<1e3*this._timeout?"mutation":"timeout",a={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:z.location.href,route:t.getCurrentRoute(),timeAfterClickMs:r,endReason:n,clickCount:i||1}};this._addBreadcrumbEvent(t,a);return}if(i>1){let e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:z.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=nk(()=>this._checkClicks(),1e3)}}let aq=["A","BUTTON","INPUT"];function aK(){return Date.now()/1e3}function aV(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var aJ=((P=aJ||{})[P.Document=0]="Document",P[P.DocumentType=1]="DocumentType",P[P.Element=2]="Element",P[P.Text=3]="Text",P[P.CDATA=4]="CDATA",P[P.Comment=5]="Comment",P);let aY=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function aG(e,t){let r=aP.mirror.getId(e),n=r&&aP.mirror.getNode(r),i=n&&aP.mirror.getMeta(n),s=i&&i.type===aJ.Element?i:null;return{message:t,data:s?{nodeId:r,node:{id:r,tagName:s.tagName,textContent:Array.from(s.childNodes).map(e=>e.type===aJ.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:function(e){let t={};for(let r in!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]),e)if(aY.has(r)){let n=r;("data-testid"===r||"data-test-id"===r)&&(n="testId"),t[n]=e[r]}return t}(s.attributes)}}:{}}}let aX={resource:function(e){let{entryType:t,initiatorType:r,name:n,responseEnd:i,startTime:s,decodedBodySize:a,encodedBodySize:o,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${t}.${r}`,start:a0(s),end:a0(i),name:n,data:{size:u,statusCode:l,decodedBodySize:a,encodedBodySize:o}}},paint:function(e){let{duration:t,entryType:r,name:n,startTime:i}=e,s=a0(i);return{type:r,name:n,start:s,end:s+t,data:void 0}},navigation:function(e){let{entryType:t,name:r,decodedBodySize:n,duration:i,domComplete:s,encodedBodySize:a,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:c,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:m}=e;return 0===i?null:{type:`${t}.${m}`,start:a0(h),end:a0(s),name:r,data:{size:f,decodedBodySize:n,encodedBodySize:a,duration:i,domInteractive:u,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,loadEventStart:c,loadEventEnd:d,domComplete:s,redirectCount:p}}}};function aQ(e,t){return({metric:r})=>void t.replayPerformanceEntries.push(e(r))}function aZ(e){let t=aX[e.entryType];return t?t(e):null}function a0(e){return((eD()||z.performance.timeOrigin)+e)/1e3}function a1(e){let t=e.entries[e.entries.length-1];return a4(e,"largest-contentful-paint",t?.element?[t.element]:void 0)}function a2(e){let t=[],r=[];for(let n of e.entries)if(void 0!==n.sources){let e=[];for(let t of n.sources)if(t.node){r.push(t.node);let n=aP.mirror.getId(t.node);n&&e.push(n)}t.push({value:n.value,nodeIds:e.length?e:void 0})}return a4(e,"cumulative-layout-shift",r,t)}function a3(e){let t=e.entries[e.entries.length-1];return a4(e,"first-input-delay",t?.target?[t.target]:void 0)}function a5(e){let t=e.entries[e.entries.length-1];return a4(e,"interaction-to-next-paint",t?.target?[t.target]:void 0)}function a4(e,t,r,n){let i=e.value,s=e.rating,a=a0(i);return{type:"web-vital",name:t,start:a,end:a,data:{value:i,size:i,rating:s,nodeIds:r?r.map(e=>aP.mirror.getId(e)):void 0,attributions:n}}}let a8="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,a6=["log","warn","error"],a7="[Replay] ";function a9(e,t="info"){rK({category:"console",data:{logger:"replay"},level:t,message:`${a7}${e}`},{level:t})}let oe=(x=!1,T=!1,I={exception:()=>void 0,infoTick:()=>void 0,setConfig:e=>{x=!!e.captureExceptions,T=!!e.traceInternals}},a8?(a6.forEach(e=>{I[e]=(...t)=>{ef[e](a7,...t),T&&a9(t.join(""),rq(e))}}),I.exception=(e,...t)=>{t.length&&I.error&&I.error(...t),ef.error(a7,e),x?rw(e):T&&a9(e,"error")},I.infoTick=(...e)=>{ef.log(a7,...e),T&&setTimeout(()=>a9(e[0]),0)}):a6.forEach(e=>{I[e]=()=>void 0}),I);class ot extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class or{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>2e7)throw new ot;this.events.push(e)}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(e=>e.timestamp).sort()[0];return e?a$(e):null}}class on{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){a8&&oe.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){let r=this._getAndIncrementId();return new Promise((n,i)=>{let s=({data:t})=>{if(t.method===e&&t.id===r){if(this._worker.removeEventListener("message",s),!t.success){a8&&oe.error("Error in compression worker: ",t.response),i(Error("Error in compression worker"));return}n(t.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class oi{constructor(e){this._worker=new on(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=a$(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let r=JSON.stringify(e);return(this._totalSize+=r.length,this._totalSize>2e7)?Promise.reject(new ot):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{a8&&oe.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){let e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class os{constructor(e){this._fallback=new or,this._compression=new oi(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){a8&&oe.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:e,hasCheckout:t,waitForCheckout:r}=this._fallback,n=[];for(let t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(n),this._fallback.clear()}catch(e){a8&&oe.exception(e,"Failed to add events when switching buffers.")}}}function oa(){try{return"sessionStorage"in z&&!!z.sessionStorage}catch{return!1}}function oo(e){return void 0!==e&&Math.random()<e}function ol(e){if(oa())try{z.sessionStorage.setItem(i6,JSON.stringify(e))}catch{}}function ou(e){let t=Date.now(),r=e.id||ex(),n=e.started||t,i=e.lastActivity||t,s=e.segmentId||0;return{id:r,started:n,lastActivity:i,segmentId:s,sampled:e.sampled,previousSessionId:e.previousSessionId}}function oc({sessionSampleRate:e,allowBuffering:t,stickySession:r=!1},{previousSessionId:n}={}){let i=ou({sampled:oo(e)?"session":!!t&&"buffer",previousSessionId:n});return r&&ol(i),i}function od(e,t,r=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=r}function op(e,{maxReplayDuration:t,sessionIdleExpire:r,targetTime:n=Date.now()}){return od(e.started,t,n)||od(e.lastActivity,r,n)}function oh(e,{sessionIdleExpire:t,maxReplayDuration:r}){return!!op(e,{sessionIdleExpire:t,maxReplayDuration:r})&&("buffer"!==e.sampled||0!==e.segmentId)}function of({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:r},n){let i=n.stickySession&&function(){if(!oa())return null;try{let e=z.sessionStorage.getItem(i6);if(!e)return null;let t=JSON.parse(e);return a8&&oe.infoTick("Loading existing session"),ou(t)}catch{return null}}();return i?oh(i,{sessionIdleExpire:e,maxReplayDuration:t})?(a8&&oe.infoTick("Session in sessionStorage is expired, creating new one..."),oc(n,{previousSessionId:i.id})):i:(a8&&oe.infoTick("Creating new session"),oc(n,{previousSessionId:r}))}function om(e,t,r){return!!oy(e,t)&&(og(e,t,r),!0)}async function og(e,t,r){let{eventBuffer:n}=e;if(!n||n.waitForCheckout&&!r)return null;let i="buffer"===e.recordingMode;try{r&&i&&n.clear(),r&&(n.hasCheckout=!0,n.waitForCheckout=!1);let s=e.getOptions(),a=function(e,t){try{if("function"==typeof t&&e.type===s9.Custom)return t(e)}catch(e){return a8&&oe.exception(e,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,s.beforeAddRecordingEvent);if(!a)return;return await n.addEvent(a)}catch(s){let t=s&&s instanceof ot;if(t&&i)return n.clear(),n.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:t?"addEventSizeExceeded":"addEvent"});let r=eY();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function oy(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let r=a$(t.timestamp);return!(r+e.timeouts.sessionIdlePause<Date.now())&&(!(r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(a8&&oe.infoTick(`Skipping event with timestamp ${r} because it is after maxReplayDuration`),!1))}function o_(e){return"transaction"===e.type}function ov(e){return"feedback"===e.type}function ob(e){return!!e.category}function oS(){let e=eK().getPropagationContext().dsc;e&&delete e.replay_id;let t=tH();if(t){let e=tY(t);delete e.replay_id}}function ow(e,t){return t.map(({type:t,start:r,end:n,name:i,data:s})=>{let a=e.throttledAddEvent({type:s9.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:r,endTimestamp:n,data:s}}});return"string"==typeof a?Promise.resolve(null):a})}function oE(e,t){e.isEnabled()&&null!==t&&!function(e,t){var r,n,i,s,a;let o,l;if(a8&&e.getOptions()._experiments.traceInternals)return!1;return r=eY(),o=r?.getDsn(),l=r?.getOptions().tunnel,n=t,!!(i=o)&&n.includes(i.host)||(s=t,!!(a=l)&&i2(s)===i2(a))}(e,t.name)&&e.addUpdate(()=>(ow(e,[t]),!0))}function ok(e){if(!e)return;let t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let r=i5(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ox(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function oT(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let r={...e._meta},n=r.warnings||[];return r.warnings=[...n,t],e._meta=r,e}function oI(e,t){if(!t)return null;let{startTimestamp:r,endTimestamp:n,url:i,method:s,statusCode:a,request:o,response:l}=t;return{type:e,start:r/1e3,end:n/1e3,name:i,data:{method:s,statusCode:a,request:o,response:l}}}function oC(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function oM(e,t,r){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!r)return{headers:e,size:t};let n={headers:e,size:t},{body:i,warnings:s}=function(e){var t;let r,n;if(!e||"string"!=typeof e)return{body:e};let i=e.length>15e4,s=(r=(t=e)[0],n=t[t.length-1],"["===r&&"]"===n||"{"===r&&"}"===n);if(i){let t=e.slice(0,15e4);return s?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}`,warnings:["TEXT_TRUNCATED"]}}if(s)try{return{body:JSON.parse(e)}}catch{}return{body:e}}(r);return n.body=i,s?.length&&(n._meta={warnings:s}),n}function oO(e,t){return Object.entries(e).reduce((r,[n,i])=>{let s=n.toLowerCase();return t.includes(s)&&e[n]&&(r[s]=i),r},{})}function oR(e,t=z.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(z.location.origin))return e;let r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;let n=r.href;return!e.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}async function oA(e,t,r){try{let n=await oD(e,t,r),i=oI("resource.fetch",n);oE(r.replay,i)}catch(e){a8&&oe.exception(e,"Failed to capture fetch breadcrumb")}}async function oD(e,t,r){var n,i;let s=Date.now(),{startTimestamp:a=s,endTimestamp:o=s}=t,{url:l,method:u,status_code:c=0,request_body_size:d,response_body_size:p}=e.data,h=(n=r.networkDetailAllowUrls,ey(oR(l),n)&&(i=r.networkDetailDenyUrls,!ey(oR(l),i)));return{startTimestamp:a,endTimestamp:o,url:l,method:u,statusCode:c,request:h?function({networkCaptureBodies:e,networkRequestHeaders:t},r,n){var i,s;let a=r?(i=r,s=t,1===i.length&&"string"!=typeof i[0]?o$(i[0],s):2===i.length?o$(i[1],s):{}):{};if(!e)return oM(a,n,void 0);let[o,l]=i4(i8(r),oe),u=oM(a,n,o);return l?oT(u,l):u}(r,t.input,d):oC(d),response:await oN(h,r,t.response,p)}}async function oN(e,{networkCaptureBodies:t,networkResponseHeaders:r},n,i){if(!e&&void 0!==i)return oC(i);let s=n?oP(n.headers,r):{};if(!n||!t&&void 0!==i)return oM(s,i,void 0);let[a,o]=await oL(n),l=function(e,{networkCaptureBodies:t,responseBodySize:r,captureDetails:n,headers:i}){try{let s=e?.length&&void 0===r?ok(e):r;if(!n)return oC(s);if(t)return oM(i,s,e);return oM(i,s,void 0)}catch(e){return a8&&oe.exception(e,"Failed to serialize response body"),oM(i,r,void 0)}}(a,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return o?oT(l,o):l}async function oL(e){let t=function(e){try{return e.clone()}catch(e){a8&&oe.exception(e,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{var r;return[await (r=t,new Promise((e,t)=>{let n=nk(()=>t(Error("Timeout while trying to read response body")),500);oj(r).then(t=>e(t),e=>t(e)).finally(()=>clearTimeout(n))}))]}catch(e){if(e instanceof Error&&e.message.indexOf("Timeout")>-1)return a8&&oe.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"];return a8&&oe.exception(e,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}}function oP(e,t){let r={};return t.forEach(t=>{e.get(t)&&(r[t]=e.get(t))}),r}function o$(e,t){if(!e)return{};let r=e.headers;return r?r instanceof Headers?oP(r,t):Array.isArray(r)?{}:oO(r,t):{}}async function oj(e){return await e.text()}async function oU(e,t,r){try{let n=function(e,t,r){var n,i;let s,a=Date.now(),{startTimestamp:o=a,endTimestamp:l=a,input:u,xhr:c}=t,{url:d,method:p,status_code:h=0,request_body_size:f,response_body_size:m}=e.data;if(!d)return null;if(!c||(n=r.networkDetailAllowUrls,!ey(oR(d),n))||(i=r.networkDetailDenyUrls,ey(oR(d),i))){let e=oC(f);return{startTimestamp:o,endTimestamp:l,url:d,method:p,statusCode:h,request:e,response:oC(m)}}let g=c[r0],y=g?oO(g.request_headers,r.networkRequestHeaders):{},_=oO((s=c.getAllResponseHeaders())?s.split("\r\n").reduce((e,t)=>{let[r,n]=t.split(": ");return n&&(e[r.toLowerCase()]=n),e},{}):{},r.networkResponseHeaders),[v,b]=r.networkCaptureBodies?i4(u,oe):[void 0],[S,w]=r.networkCaptureBodies?function(e){let t=[];try{return[e.responseText]}catch(e){t.push(e)}try{var r=e.response,n=e.responseType;try{if("string"==typeof r)return[r];if(r instanceof Document)return[r.body.outerHTML];if("json"===n&&r&&"object"==typeof r)return[JSON.stringify(r)];if(!r)return[void 0]}catch(e){return a8&&oe.exception(e,"Failed to serialize body",r),[void 0,"BODY_PARSE_ERROR"]}return a8&&oe.log("Skipping network body because of body type",r),[void 0,"UNPARSEABLE_BODY_TYPE"]}catch(e){t.push(e)}return a8&&oe.warn("Failed to get xhr response body",...t),[void 0]}(c):[void 0],E=oM(y,f,v),k=oM(_,m,S);return{startTimestamp:o,endTimestamp:l,url:d,method:p,statusCode:h,request:b?oT(E,b):E,response:w?oT(k,w):k}}(e,t,r),i=oI("resource.xhr",n);oE(r.replay,i)}catch(e){a8&&oe.exception(e,"Failed to capture xhr breadcrumb")}}async function oF(e){try{return Promise.all(ow(e,[function(e){let{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}(z.performance.memory)]))}catch{return[]}}let oz=z.navigator;async function oB({client:e,scope:t,replayId:r,event:n}){let i={event_id:r,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",n,i);let s=await t7(e.getOptions(),n,i,t,e,eV());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:o,version:l}=a?.sdk||{};return s.sdk={...s.sdk,name:o||"sentry.javascript.unknown",version:l||"0.0.0"},s}async function oW({recordingData:e,replayId:t,segmentId:r,eventContext:n,timestamp:i,session:s}){var a;let o,l=function({recordingData:e,headers:t}){let r,n=`${JSON.stringify(t)}
`;if("string"==typeof e)r=`${n}${e}`;else{let t=new TextEncoder().encode(n);(r=new Uint8Array(t.length+e.length)).set(t),r.set(e,t.length)}return r}({recordingData:e,headers:{segment_id:r}}),{urls:u,errorIds:c,traceIds:d,initialTimestamp:p}=n,h=eY(),f=eK(),m=h?.getTransport(),g=h?.getDsn();if(!h||!m||!g||!s.sampled)return t3({});let y={type:"replay_event",replay_start_timestamp:p/1e3,timestamp:i/1e3,error_ids:c,trace_ids:d,urls:u,replay_id:t,segment_id:r,replay_type:s.sampled},_=await oB({scope:f,client:h,replayId:t,event:y});if(!_)return h.recordDroppedEvent("event_processor","replay"),a8&&oe.log("An event processor returned `null`, will not send event."),t3({});delete _.sdkProcessingMetadata;let v=(a=h.getOptions().tunnel,tX(t2(_,t1(_),a,g),[[{type:"replay_event"},_],[{type:"replay_recording",length:"string"==typeof l?new TextEncoder().encode(l).length:l.length},l]]));try{o=await m.send(v)}catch(t){let e=Error(i7);try{e.cause=t}catch{}throw e}if("number"==typeof o.statusCode&&(o.statusCode<200||o.statusCode>=300))throw new oH(o.statusCode);let b=nb({},o);if(nv(b,"replay"))throw new oq(b);return o}class oH extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class oq extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function oK(e,t={count:0,interval:5e3}){let{recordingData:r,onError:n}=e;if(r.length)try{return await oW(e),!0}catch(r){var i;if(r instanceof oH||r instanceof oq)throw r;if(i={_retryCount:t.count},eV().setContext("Replays",i),n&&n(r),t.count>=3){let e=Error(`${i7} - max retries exceeded`);try{e.cause=r}catch{}throw e}return t.interval*=++t.count,new Promise((r,n)=>{nk(async()=>{try{await oK(e,t),r(!0)}catch(e){n(e)}},t.interval)})}}let oV="__THROTTLED";class oJ{constructor({options:e,recordingOptions:t}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,r){let n,i,s,a=r?.maxWait?Math.max(r.maxWait,t):0,o=r?.setTimeoutImpl||setTimeout;function l(){return u(),n=e()}function u(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function c(){return i&&clearTimeout(i),i=o(l,t),a&&void 0===s&&(s=o(l,a)),n}return c.cancel=u,c.flush=function(){return void 0!==i||void 0!==s?l():n},c}(()=>this._flush(),this._options.flushMinDelay,{...{maxWait:this._options.flushMaxDelay},setTimeoutImpl:nk}),this._throttledAddEvent=function(e,t,r){let n=new Map,i=!1;return(...t)=>{let r,s=Math.floor(Date.now()/1e3);if(r=s-5,n.forEach((e,t)=>{t<r&&n.delete(t)}),[...n.values()].reduce((e,t)=>e+t,0)>=300){let e=i;return i=!0,e?"__SKIPPED":oV}i=!1;let a=n.get(s)||0;return n.set(s,a+1),e(...t)}}((e,t)=>oy(this,e)?og(this,e,t):Promise.resolve(null),0,0);const{slowClickTimeout:r,slowClickIgnoreSelectors:n}=this.getOptions(),i=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:n?n.join(","):""}:void 0;if(i&&(this.clickDetector=new aH(this,i)),a8){const t=e._experiments;oe.setConfig({captureExceptions:!!t.captureExceptions,traceInternals:!!t.traceInternals})}this._handleVisibilityChange=()=>{"visible"===z.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let e=aV({category:"ui.blur"});this._doChangeToBackgroundTasks(e)},this._handleWindowFocus=()=>{let e=aV({category:"ui.focus"});this._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=e=>{!function(e,t){if(!e.isEnabled())return;e.updateUserActivity();let r=function(e){var t;let{metaKey:r,shiftKey:n,ctrlKey:i,altKey:s,key:a,target:o}=e;if(!o||"INPUT"===(t=o).tagName||"TEXTAREA"===t.tagName||t.isContentEditable||!a)return null;let l=r||i||s,u=1===a.length;if(!l&&u)return null;let c=es(o,{maxStringLength:200})||"<unknown>",d=aG(o,c);return aV({category:"ui.keyDown",message:c,data:{...d.data,metaKey:r,shiftKey:n,ctrlKey:i,altKey:s,key:a}})}(t);r&&aU(e,r)}(this,e)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){a8&&oe.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:r}=this._options,n=t<=0&&r<=0;if(this._requiresManualStart=n,!n){if(this._initializeSessionForSampling(e),!this.session){a8&&oe.exception(Error("Unable to initialize and create session"));return}!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",a8&&oe.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode){a8&&oe.log("Recording is already in progress");return}if(this._isEnabled&&"buffer"===this.recordingMode){a8&&oe.log("Buffering is in progress, call `flush()` to save the replay");return}a8&&oe.infoTick("Starting replay in session mode"),this._updateUserActivity();let e=of({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){a8&&oe.log("Buffering is in progress, call `flush()` to save the replay");return}a8&&oe.infoTick("Starting replay in buffer mode");let e=of({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{var e;let t,r=this._canvas;this._stopRecording=aP({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:(e=this,t=!1,(r,n)=>{if(!e.checkAndHandleExpiredSession()){a8&&oe.warn("Received replay event after session expired.");return}let i=n||!t;t=!0,e.clickDetector&&function(e,t){try{var r;if(r=t,3!==r.type)return;let{source:n}=t.data;if(aW.has(n)&&e.registerMutation(t.timestamp),n===ae.Scroll&&e.registerScroll(t.timestamp),t.data.source===ae.MouseInteraction){let{type:r,id:n}=t.data,i=aP.mirror.getNode(n);i instanceof HTMLElement&&r===at.Click&&e.registerClick(i)}}catch{}}(e.clickDetector,r),e.addUpdate(()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!om(e,r,i))return!0;if(!i)return!1;let t=e.session;if(function(e,t){if(t&&e.session&&0===e.session.segmentId){let t;om(e,(t=e.getOptions(),{type:s9.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}),!1)}}(e,i),"buffer"===e.recordingMode&&t&&e.eventBuffer){let r=e.eventBuffer.getEarliestTimestamp();r&&(a8&&oe.log(`Updating session start time to earliest event in buffer to ${new Date(r)}`),t.started=r,e.getOptions().stickySession&&ol(t))}return!!t?.previousSessionId||("session"===e.recordingMode&&e.flush(),!0)})}),.../iPhone|iPad|iPod/i.test(oz?.userAgent??"")||/Macintosh/i.test(oz?.userAgent??"")&&oz?.maxTouchPoints&&oz?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler.bind(this),...r?{recordCanvas:r.recordCanvas,getCanvasManager:r.getCanvasManager,sampling:r.sampling,dataURLOptions:r.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{a8&&oe.log(`Stopping Replay${t?` triggered by ${t}`:""}`),oS(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,function(){if(oa())try{z.sessionStorage.removeItem(i6)}catch{}}(),this.session=void 0}catch(e){this.handleException(e)}}}pause(){!this._isPaused&&(this._isPaused=!0,this.stopRecording(),a8&&oe.log("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),a8&&oe.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();let t=Date.now();a8&&oe.log("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();e&&r&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){let t=e();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){return this._lastActivity&&od(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled?void this.pause():!!this._checkSession()}setInitialState(){let e=`${z.location.pathname}${z.location.hash}${z.location.search}`,t=`${z.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let r=this._throttledAddEvent(e,t);if(r===oV){let e=aV({category:"replay.throttled"});this.addUpdate(()=>!om(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return r}getCurrentRoute(){let e=this.lastActiveSpan||tH(),t=e&&tW(e),r=(t&&tP(t).data||{})[tu];if(t&&r&&["route","custom"].includes(r))return tP(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function({useCompression:e,workerUrl:t}){if(e&&window.Worker){let e=function(e){try{let t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__){let e;return e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']),URL.createObjectURL(e)}return""}();if(!t)return;a8&&oe.log(`Using compression worker${e?` from ${e}`:""}`);let r=new Worker(t);return new os(r)}catch(e){a8&&oe.exception(e,"Failed to create compression worker")}}(t);if(e)return e}return a8&&oe.log("Using simple buffer"),new or}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,r=of({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=r}_checkSession(){if(!this.session)return!1;let e=this.session;return!oh(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{z.document.addEventListener("visibilitychange",this._handleVisibilityChange),z.addEventListener("blur",this._handleWindowBlur),z.addEventListener("focus",this._handleWindowFocus),z.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){var t;let r,n=eY();rX(t=>{var r,n;if(!e.isEnabled())return;let i=function(e){let{target:t,message:r}=function(e){let t,r="click"===e.name,n=null;try{n=r?az(e.event):aB(e.event),t=es(n,{maxStringLength:200})||"<unknown>"}catch{t="<unknown>"}return{target:n,message:t}}(e);return aV({category:`ui.${e.name}`,...aG(t,r)})}(t);if(!i)return;let s="click"===t.name,a=s?t.event:void 0;s&&e.clickDetector&&a?.target&&!a.altKey&&!a.metaKey&&!a.ctrlKey&&!a.shiftKey&&(r=e.clickDetector,n=az(t.event),r.handleClick(i,n)),aU(e,i)}),r3(t=>{if(!e.isEnabled())return;let r=function(e){let{from:t,to:r}=e,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}(t);null!==r&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate(()=>(ow(e,[r]),!1)))}),(r=eY())&&r.on("beforeAddBreadcrumb",t=>(function(e,t){var r;if(!e.isEnabled()||!ob(t))return;let n=(r=t,!ob(r)||["fetch","xhr","sentry.event","sentry.transaction"].includes(r.category)||r.category.startsWith("ui.")?null:"console"===r.category?function(e){let t=e.data?.arguments;if(!Array.isArray(t)||0===t.length)return aV(e);let r=!1,n=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>5e3?(r=!0,`${e.slice(0,5e3)}`):e;if("object"==typeof e)try{let t=tG(e,7);if(JSON.stringify(t).length>5e3)return r=!0,`${JSON.stringify(t,null,2).slice(0,5e3)}`;return t}catch{}return e});return aV({...e,data:{...e.data,arguments:n,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(r):aV(r));n&&aU(e,n)})(e,t));let i=eY();try{let{networkDetailAllowUrls:t,networkDetailDenyUrls:r,networkCaptureBodies:n,networkRequestHeaders:s,networkResponseHeaders:a}=e.getOptions(),o={replay:e,networkDetailAllowUrls:t,networkDetailDenyUrls:r,networkCaptureBodies:n,networkRequestHeaders:s,networkResponseHeaders:a};i&&i.on("beforeAddBreadcrumb",(e,t)=>(function(e,t,r){if(t.data)try{var n,i,s,a;n=t,"xhr"===n.category&&(i=r,i?.xhr)&&(!function(e,t){let{xhr:r,input:n}=t;if(!r)return;let i=ok(n),s=r.getResponseHeader("content-length")?ox(r.getResponseHeader("content-length")):function(e,t){try{let r="json"===t&&e&&"object"==typeof e?JSON.stringify(e):e;return ok(r)}catch{return}}(r.response,r.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,r),oU(t,r,e)),s=t,"fetch"===s.category&&(a=r,a?.response)&&(!function(e,t){let{input:r,response:n}=t,i=ok(r?i8(r):void 0),s=n?ox(n.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,r),oA(t,r,e))}catch(e){a8&&oe.exception(e,"Error when enriching network breadcrumb")}})(o,e,t))}catch{}t=Object.assign((t,r)=>!e.isEnabled()||e.isPaused()?t:"replay_event"===t.type?(delete t.breadcrumbs,t):!t.type||o_(t)||ov(t)?e.checkAndHandleExpiredSession()?ov(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:s9.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)),t):!t.type&&t.exception?.values?.length&&r.originalException?.__rrweb__&&!e.getOptions()._experiments.captureExceptions?(a8&&oe.log("Ignoring error from rrweb internals",t),null):(("buffer"===e.recordingMode&&t.message!==i7&&t.exception&&!t.type&&oo(e.getOptions().errorSampleRate)||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(oS(),t):t,{id:"Replay"}),eV().addEventProcessor(t),n&&(n.on("beforeSendEvent",t=>{var r,n;let i;e.isEnabled()&&!t.type&&(r=e,n=t,i=n.exception?.values?.[0]?.value,"string"==typeof i&&(i.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||i.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&aU(r,aV({category:"replay.hydrate-error",data:{url:ea()}})))}),n.on("afterSendEvent",(t,r)=>{if(!e.isEnabled()||t.type&&!o_(t))return;let n=r?.statusCode;if(n&&!(n<200)&&!(n>=300)){if(o_(t)){var i,s;let r;return void(i=e,s=t,r=i.getContext(),s.contexts?.trace?.trace_id&&r.traceIds.size<100&&r.traceIds.add(s.contexts.trace.trace_id))}!function(e,t){let r=e.getContext();if(t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id),"buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:n}=e.getOptions();("function"!=typeof n||n(t))&&nk(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(t){e.handleException(t)}})}(e,t)}}),n.on("createDsc",t=>{let r=e.getSessionId();r&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=r)}),n.on("spanStart",t=>{e.lastActiveSpan=t}),n.on("spanEnd",t=>{e.lastActiveSpan=t}),n.on("beforeSendFeedback",async(t,r)=>{let n=e.getSessionId();r?.includeReplay&&e.isEnabled()&&n&&t.contexts?.feedback&&("api"===t.contexts.feedback.source&&await e.sendBufferedReplayOrFlush(),t.contexts.feedback.replay_id=n)}),n.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function r({entries:e}){e.forEach(t)}let n=[];return["navigation","paint","resource"].forEach(e=>{n.push(ig(e,r))}),n.push(ip(aQ(a1,e)),id(aQ(a2,e)),ih(aQ(a3,e)),im(aQ(a5,e))),()=>{n.forEach(e=>e())}}(this)}_removeListeners(){try{z.document.removeEventListener("visibilitychange",this._handleVisibilityChange),z.removeEventListener("blur",this._handleWindowBlur),z.removeEventListener("focus",this._handleWindowFocus),z.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||op(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(this.session){if(!this.checkAndHandleExpiredSession()){a8&&oe.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:s9.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=this.performanceEntries.map(aZ).filter(Boolean).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let t=this._context.initialTimestamp/1e3;e=e.filter(e=>e.start>=t)}return Promise.all(ow(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;let r=t.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){let e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){a8&&oe.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),this.eventBuffer?.hasEvents){if((await oF(this),this.eventBuffer)&&e===this.getSessionId())try{this._updateInitialTimestampFromEventBuffer();let t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw Error("Session is too long, not sending replay");let r=this._popEventContext(),n=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await oK({replayId:e,recordingData:i,segmentId:n,eventContext:r,session:this.session,timestamp:t,onError:e=>this.handleException(e)})}catch(t){this.handleException(t),this.stop({reason:"sendReplay"});let e=eY();e&&e.recordDroppedEvent(t instanceof oq?"ratelimit_backoff":"send_error","replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){a8&&oe.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let t=this.session.started,r=Date.now()-t;this._debouncedFlush.cancel();let n=r<this._options.minReplayDuration,i=r>this._options.maxReplayDuration+5e3;if(n||i){a8&&oe.log(`Session duration (${Math.floor(r/1e3)}s) is too ${n?"short":"long"}, not sending replay.`),n&&this._debouncedFlush();return}let s=this.eventBuffer;s&&0===this.session.segmentId&&!s.hasCheckout&&a8&&oe.log("Flushing initial segment without checkout.");let a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(e){this.handleException(e)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&ol(this.session)}_onMutationHandler(e){let{ignoreMutations:t}=this._options._experiments;if(t?.length&&e.some(e=>{let r=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}(e.target),n=t.join(",");return r?.matches(n)}))return!1;let r=e.length,n=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=n&&r>n;if(r>i||s){let e=aV({category:"replay.mutations",data:{count:r,limit:s}});this._createCustomBreadcrumb(e)}return!s||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function oY(e,t){return[...e,...t].join(",")}let oG='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',oX=["content-length","content-type","accept"],oQ=!1;function oZ(e){return[...oX,...e.map(e=>e.toLowerCase())]}var o0=e.i(755581),o1=e.i(804730);o0.IS_DOCKER;let o2=o0.APP||"minutes-web";!function(e={}){var t,r;let i,s,a=!e.skipBrowserExtensionCheck&&!!function(){if(void 0===z.window||z.nw)return!1;let e=z.chrome||z.browser;if(!e?.runtime?.id)return!1;let t=ea();return!(z===z.top&&["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"].some(e=>t.startsWith(`${e}://`)))}()&&(r4&&ec(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0),o={...e,enabled:!a&&e.enabled,stackParser:Array.isArray(t=e.stackParser||ng)?e8(...t):t,integrations:function(e){let t,r,n=e.defaultIntegrations||[],i=e.integrations;if(n.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(i))t=[...n,...i];else if("function"==typeof i){let e=i(n);t=Array.isArray(e)?e:[e]}else t=n;return r={},t.forEach(e=>{let{name:t}=e,n=r[t];n&&!n.isDefaultInstance&&e.isDefaultInstance||(r[t]=e)}),Object.values(r)}({integrations:e.integrations,defaultIntegrations:null==e.defaultIntegrations?[((e={})=>({...((e={})=>{let t;return{name:"EventFilters",setup(r){t=e1(e,r.getOptions())},processEvent:(r,n,i)=>(t||(t=e1(e,i.getOptions())),!function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;let r=e.transaction;return!!r&&ey(r,t)}(e,t.ignoreTransactions))return U&&ef.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${eI(e)}`),!0}else{var r,n,i;if(r=e,n=t.ignoreErrors,n?.length&&eZ(r).some(e=>ey(e,n)))return U&&ef.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${eI(e)}`),!0;if(i=e,i.exception?.values?.length&&!i.message&&!i.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))return U&&ef.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${eI(e)}`),!0;if(function(e,t){if(!t?.length)return!1;let r=e2(e);return!!r&&ey(r,t)}(e,t.denyUrls))return U&&ef.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${eI(e)}.
Url: ${e2(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;let r=e2(e);return!r||ey(r,t)}(e,t.allowUrls))return U&&ef.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${eI(e)}.
Url: ${e2(e)}`),!0}return!1}(r,t)?r:null)}})(e),name:"InboundFilters"}))(),{name:"FunctionToString",setupOnce(){n=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=eS(this),r=e3.has(eY())&&void 0!==t?t:this;return n.apply(r,e)}}catch{}},setup(e){e3.set(e,!0)}},((e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&e_(z,"setTimeout",r6),t.setInterval&&e_(z,"setInterval",r6),t.requestAnimationFrame&&e_(z,"requestAnimationFrame",r7),t.XMLHttpRequest&&"XMLHttpRequest"in z&&e_(XMLHttpRequest.prototype,"send",r9);let e=t.eventTarget;e&&(Array.isArray(e)?e:r8).forEach(e=>{var r,n;let i;return r=e,n=t,i=z[r]?.prototype,void(i?.hasOwnProperty?.("addEventListener")&&(e_(i,"addEventListener",function(e){return function(t,i,s){var a,o,l,u;try{a=i,"function"==typeof a.handleEvent&&(i.handleEvent=rM(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:e9(i),target:r},handled:!1,type:"instrument"}}))}catch{}return n.unregisterOriginalCallbacks&&(o=this,l=t,u=i,o&&"object"==typeof o&&"removeEventListener"in o&&"function"==typeof o.removeEventListener&&o.removeEventListener(l,u)),e.apply(this,[t,rM(i,{mechanism:{data:{function:"addEventListener",handler:e9(i),target:r},handled:!1,type:"instrument"}}),s])}}),e_(i,"removeEventListener",function(e){return function(t,r,n){try{let i=r.__sentry_wrapped__;i&&e.call(this,t,i,n)}catch{}return e.call(this,t,r,n)}})))})}}})(),((e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var r,n,i,s,a,o,l;let u;t.console&&(r=e,rN(u="console",function(e){if(eY()!==r)return;let t={category:"console",data:{arguments:e.args,logger:"console"},level:rq(e.level),message:eg(e.args," ")};if("assert"===e.level)if(!1!==e.args[0])return;else t.message=`Assertion failed: ${eg(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);rK(t,{input:e.args,level:e.level})}),rL(u,r$)),t.dom&&rX((n=e,i=t.dom,function(e){let t,r;if(eY()!==n)return;let s="object"==typeof i?i.serializeAttribute:void 0,a="object"==typeof i&&"number"==typeof i.maxStringLength?i.maxStringLength:void 0;a&&a>1024&&(r4&&ef.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=1024),"string"==typeof s&&(s=[s]);try{var o;let n=e.event,i=(o=n)&&o.target?n.target:n;t=es(i,{keyAttrs:s,maxStringLength:a}),r=eo(i)}catch{t="<unknown>"}if(0===t.length)return;let l={category:`ui.${e.name}`,message:t};r&&(l.data={"ui.component_name":r}),rK(l,{event:e.event,name:e.name,global:e.global})})),t.xhr&&r1((s=e,function(e){if(eY()!==s)return;let{startTimestamp:t,endTimestamp:r}=e,n=e.xhr[r0];if(!t||!r||!n)return;let{method:i,url:a,status_code:o,body:l}=n,u={xhr:e.xhr,input:l,startTimestamp:t,endTimestamp:r},c={category:"xhr",data:{method:i,url:a,status_code:o},type:"http",level:rV(o)};s.emit("beforeOutgoingRequestBreadcrumb",c,u),rK(c,u)})),t.fetch&&rU((a=e,function(e){if(eY()!==a)return;let{startTimestamp:t,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.fetchData.method,e.fetchData.url,e.error){let n=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:r},s={category:"fetch",data:n,level:"error",type:"http"};a.emit("beforeOutgoingRequestBreadcrumb",s,i),rK(s,i)}else{let n=e.response,i={...e.fetchData,status_code:n?.status};e.fetchData.request_body_size,e.fetchData.response_body_size,n?.status;let s={input:e.args,response:n,startTimestamp:t,endTimestamp:r},o={category:"fetch",data:i,type:"http",level:rV(i.status_code)};a.emit("beforeOutgoingRequestBreadcrumb",o,s),rK(o,s)}})),t.history&&r3((o=e,function(e){if(eY()!==o)return;let t=e.from,r=e.to,n=rG(z.location.href),i=t?rG(t):void 0,s=rG(r);i?.path||(i=n),n.protocol===s.protocol&&n.host===s.host&&(r=s.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),rK({category:"navigation",data:{from:t,to:r}})})),t.sentry&&e.on("beforeSendEvent",(l=e,function(e){eY()===l&&rK({category:`sentry.${"transaction"===e.type?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:eI(e)},{event:e})}))}}})(),((e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){var r,n;t.onerror&&(r=e,nt(e=>{var t,n,i,s;let a,o,l,u,c,d,{stackParser:p,attachStacktrace:h}=no();if(eY()!==r||rC>0)return;let{msg:f,url:m,line:g,column:y,error:_}=e,v=(t=rb(p,_||f,void 0,h,!1),n=m,i=g,s=y,c=(u=(l=(o=(a=t.exception=t.exception||{}).values=a.values||[])[0]=o[0]||{}).stacktrace=l.stacktrace||{}).frames=u.frames||[],d=G(n)&&n.length>0?n:ea(),0===c.length&&c.push({colno:s,filename:d,function:"?",in_app:!0,lineno:i}),t);v.level="error",rE(v,{originalException:_,mechanism:{handled:!1,type:"onerror"}})}),na("onerror")),t.onunhandledrejection&&(n=e,ni(e=>{var t;let{stackParser:r,attachStacktrace:i}=no();if(eY()!==n||rC>0)return;let s=function(e){if(Q(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(e),a=Q(s)?(t=s,{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}):rb(r,s,void 0,i,!0);a.level="error",rE(a,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}),na("onunhandledrejection"))}}})(),((e={})=>{let t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,n,i){!function(e,t,r,n,i,s){if(!i.exception?.values||!s||!er(s.originalException,Error))return;let a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=function e(t,r,n,i,s,a,o,l){if(a.length>=n+1)return a;let u=[...a];if(er(i[s],Error)){nl(o,l);let a=t(r,i[s]),c=u.length;nu(a,s,c,l),u=e(t,r,n,i[s],s,[a,...u],a,c)}return Array.isArray(i.errors)&&i.errors.forEach((i,a)=>{if(er(i,Error)){nl(o,l);let c=t(r,i),d=u.length;nu(c,`errors[${a}]`,d,l),u=e(t,r,n,i,s,[c,...u],c,d)}}),u}(e,t,n,s.originalException,r,i.exception.values,a,0))}(rm,i.getOptions().stackParser,r,t,e,n)}}})(),{name:"Dedupe",processEvent(e){if(e.type)return e;try{var t,r,n,s,a,o;let l,u,c,d;if(t=e,(r=i)&&(n=t,s=r,l=n.message,u=s.message,(l||u)&&(!l||u)&&(l||!u)&&l===u&&tr(n,s)&&tt(n,s)&&1||(a=t,o=r,c=tn(o),d=tn(a),c&&d&&c.type===d.type&&c.value===d.value&&tr(a,o)&&tt(a,o))))return U&&ef.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return i=e}},{name:"HttpContext",preprocessEvent(e){if(!z.navigator&&!z.location&&!z.document)return;let t=rO(),r={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:r}}},{name:"BrowserSession",setupOnce(){if(void 0===z.document){r4&&ef.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}rk({ignoreDuration:!0}),rI(),r3(({from:e,to:t})=>{void 0!==e&&e!==t&&(rk({ignoreDuration:!0}),rI())})}}]:e.defaultIntegrations}),transport:e.transport||nx};!0===o.debug&&(U?ef.enable():ec(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),eK().update(o.initialScope),r=s=new rR(o),eK().setClient(r),s.init()}({enabled:!!o0.IS_DOCKER,dsn:o0.default.sentry.dsn[o2],environment:"production",release:`${o1.default.name}@${o1.default.version}`,integrations:[((e={})=>{let t,r,n={name:void 0,source:void 0},i=z.document,{enableInp:s,enableElementTiming:a,enableLongTask:o,enableLongAnimationFrame:l,_experiments:{enableInteractions:u,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:d},beforeStartSpan:p,idleTimeout:h,finalTimeout:f,childSpanTimeout:g,markBackgroundSpan:v,traceFetch:b,traceXHR:S,trackFetchStreamPerformance:w,shouldCreateSpanForRequest:E,enableHTTPTimings:k,ignoreResourceSpans:x,ignorePerformanceApiSpans:T,instrumentPageLoad:I,instrumentNavigation:C,detectRedirects:M,linkPreviousTrace:O,consistentTraceSampling:R,onRequestSpanStart:A}={...iZ,...e};function D(e,r,s=!0){let a="pageload"===r.op,o=p?p(r):r,l=o.attributes||{};if(r.name!==o.name&&(l[tu]="custom",o.attributes=l),!s){let e=eR();nA({...o,startTime:e}).end(e);return}n.name=o.name,n.source=l[tu];let u=nU(o,{idleTimeout:h,finalTimeout:f,childSpanTimeout:g,disableAutoFinish:a,beforeSpanEnd:r=>{t?.(),function(e,t){let r=iM(),n=eD();if(!r?.getEntries||!n)return;let i=iO(n),s=r.getEntries(),{op:a,start_timestamp:o}=tP(e);if(s.slice(ij).forEach(r=>{let n=iO(r.startTime),s=iO(Math.max(0,r.duration));if("navigation"!==a||!o||!(i+n<o))switch(r.entryType){case"navigation":var l,u,c,d,p,h;let f,m,g;l=e,u=r,c=i,["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(e=>{iF(l,u,e,c)}),iF(l,u,"secureConnection",c,"TLS/SSL"),iF(l,u,"fetch",c,"cache"),iF(l,u,"domainLookup",c,"DNS"),d=l,p=u,f=(h=c)+iO(p.requestStart),m=h+iO(p.responseEnd),g=h+iO(p.responseStart),p.responseEnd&&(iI(d,f,m,{op:"browser.request",name:p.name,attributes:{[th]:"auto.ui.browser.metrics"}}),iI(d,g,m,{op:"browser.response",name:p.name,attributes:{[th]:"auto.ui.browser.metrics"}}));break;case"mark":case"paint":case"measure":{!function(e,t,r,n,i,s){if(["mark","measure"].includes(t.entryType)&&ey(t.name,s))return;let a=nB(!1),o=i+Math.max(r,iO(a?a.requestStart:0)),l=i+r,u=l+n,c={[th]:"auto.resource.browser.metrics"};o!==l&&(c["sentry.browser.measure_happened_before_request"]=!0,c["sentry.browser.measure_start_time"]=o),function(e,t){try{let r=t.detail;if(!r)return;if("object"==typeof r){for(let[t,n]of Object.entries(r))if(n&&Q(n))e[`sentry.browser.measure.detail.${t}`]=n;else if(void 0!==n)try{e[`sentry.browser.measure.detail.${t}`]=JSON.stringify(n)}catch{}return}if(Q(r)){e["sentry.browser.measure.detail"]=r;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(r)}catch{}}catch{}}(c,t),o<=u&&iI(e,o,u,{name:t.name,op:t.entryType,attributes:c})}(e,r,n,s,i,t.ignorePerformanceApiSpans);let a=nZ(),o=r.startTime<a.firstHiddenTime;"first-paint"===r.name&&o&&(iU.fp={value:r.startTime,unit:"millisecond"}),"first-contentful-paint"===r.name&&o&&(iU.fcp={value:r.startTime,unit:"millisecond"});break}case"resource":!function(e,t,r,n,i,s,a){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let o=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(a?.includes(o))return;let l=rG(r),u={[th]:"auto.resource.browser.metrics"};iz(u,t,"transferSize","http.response_transfer_size"),iz(u,t,"encodedBodySize","http.response_content_length"),iz(u,t,"decodedBodySize","http.decoded_response_content_length");let c=t.deliveryType;null!=c&&(u["http.response_delivery_type"]=c);let d=t.renderBlockingStatus;if(d&&(u["resource.render_blocking_status"]=d),l.protocol&&(u["url.scheme"]=l.protocol.split(":").pop()),l.host&&(u["server.address"]=l.host),u["url.same_origin"]=r.includes(z.location.origin),null!=t.nextHopProtocol){let{name:e,version:r}=iR(t.nextHopProtocol);u["network.protocol.name"]=e,u["network.protocol.version"]=r}let p=s+n;iI(e,p,p+i,{name:r.replace(z.location.origin,""),op:o,attributes:u})}(e,r,r.name,n,s,i,t.ignoreResourceSpans)}}),ij=Math.max(s.length-1,0),function(e){let t=z.navigator;if(!t)return;let r=t.connection;r&&(r.effectiveType&&e.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&e.setAttribute("connectionType",r.type),iT(r.rtt)&&(iU["connection.rtt"]={value:r.rtt,unit:"millisecond"})),iT(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),iT(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===a){var l,u;!function(e){let t=nB(!1);if(!t)return;let{responseStart:r,requestStart:n}=t;n<=r&&(e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}(iU);let r=iU["mark.fid"];r&&iU.fid&&(iI(e,r.value,r.value+iO(iU.fid.value),{name:"first input delay",op:"ui.action",attributes:{[th]:"auto.ui.browser.metrics"}}),delete iU["mark.fid"]),t.recordClsOnPageloadSpan||delete iU.cls,t.recordLcpOnPageloadSpan||delete iU.lcp,Object.entries(iU).forEach(([e,t])=>{!function(e,t,r,n=tH()){let i=n&&tW(n);i&&(U&&ef.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${r}`),i.addEvent(e,{[tg]:t,[tm]:r}))}(e,t.value,t.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",nW()),l=e,u=t,y&&u.recordLcpOnPageloadSpan&&(y.element&&l.setAttribute("lcp.element",es(y.element)),y.id&&l.setAttribute("lcp.id",y.id),y.url&&l.setAttribute("lcp.url",y.url.trim().slice(0,200)),null!=y.loadTime&&l.setAttribute("lcp.loadTime",y.loadTime),null!=y.renderTime&&l.setAttribute("lcp.renderTime",y.renderTime),l.setAttribute("lcp.size",y.size)),_?.sources&&u.recordClsOnPageloadSpan&&_.sources.forEach((e,t)=>l.setAttribute(`cls.source.${t+1}`,es(e.node)))}y=void 0,_=void 0,iU={}}(r,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!d,ignoreResourceSpans:x,ignorePerformanceApiSpans:T}),ev(e,i1,void 0);let n=eK(),i=n.getPropagationContext();n.setPropagationContext({...i,traceId:u.spanContext().traceId,sampled:t$(u),dsc:tY(r)})}});function m(){i&&["interactive","complete"].includes(i.readyState)&&e.emit("idleSpanEnableAutoFinish",u)}ev(e,i1,u),a&&i&&(i.addEventListener("readystatechange",()=>{m()}),m())}return{name:"BrowserTracing",setup(e){function n(){let e=tH(),t=e&&tW(e);if(t){let e="internal_error";U&&ef.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:2,message:e})}}if(nF||(n.tag="sentry_tracingErrorCallback",nF=!0,nt(n),ni(n)),t=function({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:r}){let n=iM();if(n&&eD()){n.mark&&z.performance.mark("sentry-tracing-init");let i=ih(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let r=iO(eD()),n=iO(t.startTime);iU.fid={value:e.value,unit:"millisecond"},iU["mark.fid"]={value:r+n,unit:"second"}}),s=t?function(e){let t,r=0;if(!iA("largest-contentful-paint"))return;let n=ip(({metric:e})=>{let n=e.entries[e.entries.length-1];n&&(r=e.value,t=n)},!0);iD(e,(e,i)=>{var s,a,o,l;let u,c,d,p,h;s=r,a=t,o=i,l=e,nS&&ef.log(`Sending LCP span (${s})`),u=iO((eD()||0)+(a?.startTime||0)),c=eK().getScopeData().transactionName,d=a?es(a.element):"Largest contentful paint",p={[th]:"auto.http.browser.lcp",[tp]:"ui.webvital.lcp",[tv]:0,"sentry.pageload.span_id":o,"sentry.report_event":l},a&&(a.element&&(p["lcp.element"]=es(a.element)),a.id&&(p["lcp.id"]=a.id),a.url&&(p["lcp.url"]=a.url.trim().slice(0,200)),null!=a.loadTime&&(p["lcp.loadTime"]=a.loadTime),null!=a.renderTime&&(p["lcp.renderTime"]=a.renderTime),null!=a.size&&(p["lcp.size"]=a.size)),(h=iC({name:d,transaction:c,attributes:p,startTime:u}))&&(h.addEvent("lcp",{[tm]:"millisecond",[tg]:s}),h.end(u)),n()})}(r):ip(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(iU.lcp={value:e.value,unit:"millisecond"},y=t)},!0),a=iE("ttfb",({metric:e})=>{e.entries[e.entries.length-1]&&(iU.ttfb={value:e.value,unit:"millisecond"})},iS,m),o=e?function(e){let t,r=0;if(!iA("layout-shift"))return;let n=id(({metric:e})=>{let n=e.entries[e.entries.length-1];n&&(r=e.value,t=n)},!0);iD(e,(e,i)=>{var s,a,o,l;let u,c,d,p,h;s=r,a=t,o=i,l=e,nS&&ef.log(`Sending CLS span (${s})`),u=iO((eD()||0)+(a?.startTime||0)),c=eK().getScopeData().transactionName,d=a?es(a.sources[0]?.node):"Layout shift",p={[th]:"auto.http.browser.cls",[tp]:"ui.webvital.cls",[tv]:a?.duration||0,"sentry.pageload.span_id":o,"sentry.report_event":l},a?.sources&&a.sources.forEach((e,t)=>{p[`cls.source.${t+1}`]=es(e.node)}),(h=iC({name:d,transaction:c,attributes:p,startTime:u}))&&(h.addEvent("cls",{[tm]:"",[tg]:s}),h.end(u)),n()})}(r):id(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(iU.cls={value:e.value,unit:""},_=t)},!0);return()=>{i(),s?.(),a(),o?.()}}return()=>void 0}({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:d||!1,client:e}),s&&function(){if(iM()&&eD()){let e=im(i$);()=>{e()}}}(),a&&iM()&&eD()&&ig("element",iB),l&&z.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(e=>{let t=tH();if(t)for(let r of e.getEntries()){if(!r.scripts[0])continue;let e=iO(eD()+r.startTime),{start_timestamp:n,op:i}=tP(t);if("navigation"===i&&n&&e<n)continue;let s=iO(r.duration),a={[th]:"auto.ui.browser.metrics"},{invoker:o,invokerType:l,sourceURL:u,sourceFunctionName:c,sourceCharPosition:d}=r.scripts[0];a["browser.script.invoker"]=o,a["browser.script.invoker_type"]=l,u&&(a["code.filepath"]=u),c&&(a["code.function"]=c),-1!==d&&(a["browser.script.source_char_position"]=d),iI(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}}).observe({type:"long-animation-frame",buffered:!0}):o&&ig("longtask",({entries:e})=>{let t=tH();if(!t)return;let{op:r,start_timestamp:n}=tP(t);for(let i of e){let e=iO(eD()+i.startTime),s=iO(i.duration);"navigation"===r&&n&&e<n||iI(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[th]:"auto.ui.browser.metrics"}})}}),u&&ig("event",({entries:e})=>{let t=tH();if(t){for(let r of e)if("click"===r.name){let e=iO(eD()+r.startTime),n=iO(r.duration),i={name:es(r.target),op:`ui.interaction.${r.name}`,startTime:e,attributes:{[th]:"auto.ui.browser.metrics"}},s=eo(r.target);s&&(i.attributes["ui.component_name"]=s),iI(t,e,e+n,i)}}}),M&&i){let e=()=>{r=eA()};addEventListener("click",e,{capture:!0}),addEventListener("keydown",e,{capture:!0,passive:!0})}function p(){let t=e[i1];t&&!tP(t).timestamp&&(r4&&ef.log(`[Tracing] Finishing current active span with op: ${tP(t).op}`),t.setAttribute(tf,"cancelled"),t.end())}e.on("startNavigationSpan",(t,r)=>{if(eY()!==e)return;if(r?.isRedirect){r4&&ef.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),D(e,{op:"navigation.redirect",...t},!1);return}p(),eV().setPropagationContext({traceId:ex(),sampleRand:Math.random()});let n=eK();n.setPropagationContext({traceId:ex(),sampleRand:Math.random()}),n.setSDKProcessingMetadata({normalizedRequest:void 0}),D(e,{op:"navigation",...t})}),e.on("startPageLoadSpan",(t,r={})=>{if(eY()!==e)return;p();let n=function(e,t){let r=function(e){let t;if(!e)return;let r=e.match(tO);if(r)return"1"===r[3]?t=!0:"0"===r[3]&&(t=!1),{traceId:r[1],parentSampled:t,parentSpanId:r[2]}}(e),n=tw(t);if(!r?.traceId)return{traceId:ex(),sampleRand:Math.random()};let i=function(e,t){let r=tM(t?.sample_rand);if(void 0!==r)return r;let n=tM(t?.sample_rate);return n&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*n:n+Math.random()*(1-n):Math.random()}(r,n);n&&(n.sample_rand=i.toString());let{traceId:s,parentSpanId:a,parentSampled:o}=r;return{traceId:s,parentSpanId:a,sampled:o,dsc:n||{},sampleRand:i}}(r.sentryTrace||i0("sentry-trace"),r.baggage||i0("baggage")),i=eK();i.setPropagationContext(n),i.setSDKProcessingMetadata({normalizedRequest:rO()}),D(e,{op:"pageload",...t})})},afterAllSetup(e){var t,i,a,o,l,c,d;let p,m,y=ea();if("off"!==O&&function(e,{linkPreviousTrace:t,consistentTraceSampling:r}){let n="session-storage"===t,i=n?function(){try{let e=z.sessionStorage?.getItem(iW);return JSON.parse(e)}catch{return}}():void 0;e.on("spanStart",e=>{if(tW(e)!==e)return;let t=eK().getPropagationContext();i=function(e,t,r){let n=tP(t),i={spanContext:t.spanContext(),startTimestamp:n.start_timestamp,sampleRate:function(){try{return Number(r.dsc?.sample_rate)??Number(n.data?.[tc])}catch{return 0}}(),sampleRand:r.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===n.trace_id?e:(Date.now()/1e3-e.startTimestamp<=3600&&(r4&&ef.log(`Adding previous_trace ${s} link to span ${{op:n.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{"sentry.link.type":"previous_trace"}}),t.setAttribute("sentry.previous_trace",`${s.traceId}-${s.spanId}-${+!!iH(s)}`)),i)}(i,e,t),n&&function(e){try{z.sessionStorage.setItem(iW,JSON.stringify(e))}catch(e){r4&&ef.warn("Could not store previous trace in sessionStorage",e)}}(i)});let s=!0;r&&e.on("beforeSampling",e=>{if(!i)return;let t=eK(),r=t.getPropagationContext();if(s&&r.parentSpanId){s=!1;return}t.setPropagationContext({...r,dsc:{...r.dsc,sample_rate:String(i.sampleRate),sampled:String(iH(i.spanContext))},sampleRand:i.sampleRand}),e.parentSampled=iH(i.spanContext),e.parentSampleRate=i.sampleRate,e.spanAttributes={...e.spanAttributes,[td]:i.sampleRate}})}(e,{linkPreviousTrace:O,consistentTraceSampling:R}),z.location){if(I){let r,n=eD();t=e,i={name:z.location.pathname,startTime:n?n/1e3:void 0,attributes:{[tu]:"url",[th]:"auto.pageload.browser"}},t.emit("startPageLoadSpan",i,void 0),eK().setTransactionName(i.name),(r=t[i1])&&t.emit("afterStartPageLoadSpan",r)}C&&r3(({to:t,from:n})=>{var i,s;let a,o;if(void 0===n&&y?.indexOf(t)!==-1){y=void 0;return}y=void 0;let l=rY(t),u=e[i1],c=u&&M&&(i=u,s=r,a=tP(i),!((o=eR())-a.start_timestamp>.3)&&(!s||!(o-s<=.3)));!function(e,t,r){let{url:n,isRedirect:i}=r||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});let s=eK();s.setTransactionName(t.name),n&&!i&&s.setSDKProcessingMetadata({normalizedRequest:{...rO(),url:n}}),e[i1]}(e,{name:l?.pathname||z.location.pathname,attributes:{[tu]:"url",[th]:"auto.navigation.browser"}},{url:t,isRedirect:c})})}v&&(z.document?z.document.addEventListener("visibilitychange",()=>{let e=tH();if(!e)return;let t=tW(e);if(z.document.hidden&&t){let e="cancelled",{op:r,status:n}=tP(t);r4&&ef.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${r}`),n||t.setStatus({code:2,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):r4&&ef.warn("[Tracing] Could not set up background tab detection due to lack of global document")),u&&(a=e,o=h,l=f,c=g,d=n,z.document&&addEventListener("click",()=>{let e="ui.action.click",t=a[i1];if(t&&["navigation","pageload"].includes(tP(t).op)){r4&&ef.warn(`[Tracing] Did not create ${e} span because a pageload or navigation span is in progress.`);return}if(p&&(p.setAttribute(tf,"interactionInterrupted"),p.end(),p=void 0),!d.name){r4&&ef.warn(`[Tracing] Did not create ${e} transaction because _latestRouteName is missing.`);return}p=nU({name:d.name,op:e,attributes:{[tu]:d.source||"url"}},{idleTimeout:o,finalTimeout:l,childSpanTimeout:c})},{capture:!0})),s&&(ig("event",m=({entries:e})=>{let t=tH(),r=t&&tW(t);e.forEach(e=>{if(!("duration"in e)||!r)return;let t=e.interactionId;if(null!=t&&!iL.has(t)){if(iN.length>10){let e=iN.shift();iL.delete(e)}iN.push(t),iL.set(t,r)}})}),ig("first-input",m)),function(e,t){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:o,onRequestSpanStart:l}={...iG,...t},u="function"==typeof s?s:e=>!0,c=e=>(function(e,t){let r=ea();if(r){let n,i;try{n=new URL(e,r),i=new URL(r).origin}catch{return!1}let s=n.origin===i;return t?ey(n.toString(),t)||s&&ey(n.pathname,t):s}{let r=!!e.match(/^\/(?!\/)/);return t?ey(e,t):r}})(e,o),d={};if(r){let t;e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){let t=iY.get(e.span_id);t&&(e.timestamp=t/1e3,iY.delete(e.span_id))}}),e)),i&&(rN(t="fetch-body-resolved",e=>{if(e.response){let t=iJ.get(e.response);t&&e.endTimestamp&&iY.set(t,e.endTimestamp)}}),rL(t,()=>rF(rB))),rU(e=>{let t=function(e,t,r,n,i="auto.http.browser"){var s,a,o,l,u;let c,d;if(!e.fetchData)return;let{method:p,url:h}=e.fetchData,f=tk()&&t(h);if(e.endTimestamp&&f){let t=e.fetchData.__span;if(!t)return;let r=n[t];r&&(function(e,t){if(t.response){tx(e,t.response.status);let r=t.response?.headers?.get("content-length");if(r){let t=parseInt(r);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(r,e),delete n[t]);return}let m=!!tH(),g=f&&m?nA((s=h,a=p,o=i,{name:(c=rY(s))?`${a} ${function(e){if(rJ(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}(c)}`:a,attributes:(l=s,u=c,d={url:l,type:"fetch","http.method":a,[th]:o,[tp]:"http.client"},u&&(rJ(u)||(d["http.url"]=u.href,d["server.address"]=u.host),u.search&&(d["http.query"]=u.search),u.hash&&(d["http.fragment"]=u.hash)),d)})):new nT;if(e.fetchData.__span=g.spanContext().spanId,n[g.spanContext().spanId]=g,r(e.fetchData.url)){let t=e.args[0],r=e.args[1]||{},n=function(e,t,r){var n;let i=iq({span:r}),s=i["sentry-trace"],a=i.baggage;if(!s)return;let o=t.headers||(ei(e)?e.headers:void 0);if(!o)return{...i};if(n=o,"undefined"!=typeof Headers&&er(n,Headers)){let e=new Headers(o);if(e.get("sentry-trace")||e.set("sentry-trace",s),a){let t=e.get("baggage");t?iK(t)||e.set("baggage",`${t},${a}`):e.set("baggage",a)}return e}if(Array.isArray(o)){let e=[...o];o.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",s]);let t=o.find(e=>"baggage"===e[0]&&iK(e[1]));return a&&!t&&e.push(["baggage",a]),e}{let e="sentry-trace"in o?o["sentry-trace"]:void 0,t="baggage"in o?o.baggage:void 0,r=t?Array.isArray(t)?[...t]:[t]:[],n=t&&(Array.isArray(t)?t.find(e=>iK(e)):iK(t));return a&&!n&&r.push(a),{...o,"sentry-trace":e??s,baggage:r.length>0?r.join(","):void 0}}}(t,r,tk()&&m?g:void 0);n&&(e.args[1]=r,r.headers=n)}let y=eY();if(y){let t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};y.emit("beforeOutgoingRequestSpan",g,t)}return g}(e,u,c,d);if(e.response&&e.fetchData.__span&&iJ.set(e.response,e.fetchData.__span),t){let r=iQ(e.fetchData.url),n=r?rG(r).host:void 0;t.setAttributes({"http.url":r,"server.address":n}),a&&iX(t),l?.(t,{headers:e.headers})}})}n&&r1(e=>{let t=function(e,t,r,n){let i=e.xhr,s=i?.[r0];if(!i||i.__sentry_own_request__||!s)return;let{url:a,method:o}=s,l=tk()&&t(a);if(e.endTimestamp&&l){let e=i.__sentry_xhr_span_id__;if(!e)return;let t=n[e];t&&void 0!==s.status_code&&(tx(t,s.status_code),t.end(),delete n[e]);return}let u=iQ(a),c=u?rG(u):rG(a),d=a.split(/[?#]/,1)[0],p=!!tH(),h=l&&p?nA({name:`${o} ${d}`,attributes:{url:a,type:"xhr","http.method":o,"http.url":u,"server.address":c?.host,[th]:"auto.http.browser",[tp]:"http.client",...c?.search&&{"http.query":c?.search},...c?.hash&&{"http.fragment":c?.hash}}}):new nT;i.__sentry_xhr_span_id__=h.spanContext().spanId,n[i.__sentry_xhr_span_id__]=h,r(a)&&function(e,t){let{"sentry-trace":r,baggage:n}=iq({span:t});r&&function(e,t,r){let n=e.__sentry_xhr_v3__?.request_headers;if(!n?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),r){let t=n?.baggage;t&&t.split(",").some(e=>e.trim().startsWith("sentry-"))||e.setRequestHeader("baggage",r)}}catch{}}(e,r,n)}(i,tk()&&p?h:void 0);let f=eY();return f&&f.emit("beforeOutgoingRequestSpan",h,e),h}(e,u,c,d);if(t){let r;a&&iX(t);try{r=new Headers(e.xhr.__sentry_xhr_v3__?.request_headers)}catch{}l?.(t,{headers:r})}})}(e,{traceFetch:b,traceXHR:S,trackFetchStreamPerformance:w,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:E,enableHTTPTimings:k,onRequestSpanStart:A})}}})(),new class e{constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:r=4999,maxReplayDuration:n=36e5,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:o={},maskAllText:l=!0,maskAllInputs:u=!0,blockAllMedia:c=!0,mutationBreadcrumbLimit:d=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:_=[],networkResponseHeaders:v=[],mask:b=[],maskAttributes:S=["title","placeholder","aria-label"],unmask:w=[],block:E=[],unblock:k=[],ignore:x=[],maskFn:T,beforeAddRecordingEvent:I,beforeErrorSampling:C,onError:M}={}){this.name="Replay";const O=function({mask:e,unmask:t,block:r,unblock:n,ignore:i}){return{maskTextSelector:oY(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:oY(t,[]),blockSelector:oY(r,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:oY(n,[]),ignoreSelector:oY(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:b,unmask:w,block:E,unblock:k,ignore:x});if(this._recordingOptions={maskAllInputs:u,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:T,maskInputFn:T,maskAttributeFn:(e,t,r)=>(function({el:e,key:t,maskAttributes:r,maskAllText:n,privacyOptions:i,value:s}){return!n||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:r.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s})({maskAttributes:S,maskAllText:l,privacyOptions:O,key:e,value:t,el:r}),...O,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!o.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(r,15e3),maxReplayDuration:Math.min(n,36e5),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:c,maskAllInputs:u,maskAllText:l,mutationBreadcrumbLimit:d,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:f,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:oZ(_),networkResponseHeaders:oZ(v),beforeAddRecordingEvent:I,beforeErrorSampling:C,onError:M,_experiments:o},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${oG}`:oG),this._isInitialized&&i3())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return oQ}set _isInitialized(e){oQ=e}afterAllSetup(e){i3()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){var t;let r,n,i,s,a=(t=this._initialOptions,r=e.getOptions(),n={sessionSampleRate:0,errorSampleRate:0,...t},i=tM(r.replaysSessionSampleRate),s=tM(r.replaysOnErrorSampleRate),null==i&&null==s&&ec(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=i&&(n.sessionSampleRate=i),null!=s&&(n.errorSampleRate=s),n);this._replay=new oJ({options:a,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{let t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch{}}}(C)],tracesSampleRate:o0.IS_DOCKER?.1:1,replaysSessionSampleRate:.05,replaysOnErrorSampleRate:1,maxBreadcrumbs:50,debug:!1});let o3=new Set([418,403]);e.s(["reportEvent",0,({message:e,logger:t,severity:r="error",extra:n})=>{if(!o0.IS_BROWSER)return;let i="fatal"===r?` ${e}`:e;o3.has(n?.error?.status??0)||rE({message:i,level:r,extra:{extra:n,logger:t}})},"reportException",0,({error:e,logger:t,extra:r})=>{o0.IS_BROWSER&&rw(e,{extra:{...r,logger:t}})},"setSentryTags",0,e=>{o0.IS_BROWSER&&Object.entries(e).forEach(([e,t])=>{eV().setTag(e,t)})},"setSentryUser",0,e=>{o0.IS_BROWSER&&eV().setUser(e)}],166496)},94395,e=>{"use strict";var t=e.i(422233),r=e.i(160478);e.i(44943);var n=e.i(166496);let i={cookieKey:"visitor_id",value:null,init:()=>{i.set((0,t.v4)())},get:()=>{if(!i.value){let e=o(i.cookieKey);if(e)return i.set(e),e;i.init()}return i.value},set:e=>{let{cookieKey:t}=i;i.value=e,a(t,e)}},s=(e=!0)=>{let t;if("localhost"===window.location.hostname)t="localhost";else{let e=window.location.hostname.split(".")[1]?.split("noon")[1]||"";t=`.noon${e}.com`}let r={secure:!0,path:"/",domain:t};return e&&(r.expires=new Date("Fri, 31 Dec 9999 12:00:00 GMT")),r},a=(e,t,n={})=>{let i=new r.default,a=s();i.set(e,t,{...a,...n})},o=e=>new r.default().get(e),l=(()=>{l.set((0,t.v4)())},e=>{let{localStorageKey:t}=l;l.value=e,d(t,e)}),u={},c={},d=(e,t)=>{try{if("undefined"==typeof localStorage||!localStorage){u[e]=t;return}localStorage.setItem(e,t)}catch(r){(0,n.reportEvent)({message:"LocalStorage Error: failed to save to localStorage",logger:"utils.client.saveToLocalStorage",extra:{error:r,key:e,value:t}})}},p=e=>{try{if("undefined"==typeof localStorage||!localStorage)return u[e]??null;return localStorage.getItem(e)}catch(t){return(0,n.reportEvent)({message:"LocalStorage Error: Failed to read from localStorage",logger:"utils.client.readFromLocalStorage",extra:{error:t,key:e}}),null}},h=async({onSuccess:e,onError:t,text:r})=>{try{await navigator.clipboard.writeText(r),e?.(r)}catch{let n=document.createElement("span");n.style.position="fixed",n.style.opacity="0",n.textContent=r,document.body.append(n);let i=document.createRange();i.selectNode(n);let s=window.getSelection();s?.removeAllRanges(),s?.addRange(i);try{document.execCommand("copy"),e?.(r)}catch(e){t?.(e)}finally{s?.removeAllRanges(),n.remove()}}};e.s(["copyToClipboard",0,h,"getCookie",0,o,"getDefaultCookieOptions",0,s,"readFromLocalStorage",0,p,"readFromSessionStorage",0,e=>{try{if("undefined"==typeof sessionStorage||!sessionStorage)return c[e]??null;return sessionStorage.getItem(e)}catch(t){return(0,n.reportEvent)({message:"SessionStorage Error: Failed to read from sessionStorage",logger:"utils.client.readFromSessionStorage",extra:{error:t,key:e}}),c[e]??null}},"removeCookie",0,(e,t)=>{let n=t||s();new r.default().remove(e,n)},"removeFromLocalStorage",0,e=>{try{if("undefined"==typeof localStorage||!localStorage)return void delete u[e];localStorage.removeItem(e)}catch(t){(0,n.reportEvent)({message:"LocalStorage Error: Failed to remove from localStorage",logger:"utils.client.removeFromLocalStorage",extra:{error:t,key:e}})}},"saveToLocalStorage",0,d,"saveToSessionStorage",0,(e,t)=>{try{if("undefined"==typeof sessionStorage||!sessionStorage){c[e]=t;return}sessionStorage.setItem(e,t)}catch(r){(0,n.reportEvent)({message:"SessionStorage Error: failed to save to sessionStorage",logger:"utils.client.saveToSessionStorage",extra:{error:r,key:e,value:t}}),c[e]=t}},"setCookie",0,a,"visitorId",0,i])}]);